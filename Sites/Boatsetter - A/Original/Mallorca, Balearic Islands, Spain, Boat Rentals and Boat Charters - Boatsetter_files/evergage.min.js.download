
window.evergageBeforeSiteConfigExecution = function() {
    try {
// Remove Beacon from Non-Prod Pages
if (!/^((www|about|press|blog)\.)?boatsetter\.com$/.test(window.location.hostname)) {
    Evergage.removeBeaconAndListenersFromPage();
    return false;
}

if (window.evergage_userEmail && /.+@.+\..+/.test(window.evergage_userEmail)) {
    Evergage.setUser(window.evergage_userEmail);
    Evergage.setCustomField("userEmail", window.evergage_userEmail, Evergage.Scope.Request);
}

if (window.evergage_userID) {
    Evergage.setCustomField("boatsetterNumericalId", window.evergage_userID, Evergage.Scope.Request);
}

(function() {
    var config = {
        errorPageHasPDPUrl: false,
        isErrorPage: ajq("#growls .growl-error").length > 0 && ajq("#js-search-container").length > 0,
        checkReferrer: true,
        customSelector: "[data-evg-item-id]",
        idFromHref: function(href) {
            return;
        }
    };

    var clickedProduct = ajq.jStorage.get("evergage|oosClick");
    ajq.jStorage.deleteKey("evergage|oosClick");
    if (clickedProduct &&
        config.isErrorPage &&
        (!config.errorPageHasPDPUrl || clickedProduct.url === window.location.href) &&
        (!config.checkReferrer || clickedProduct.ref === document.referrer)) {
            var product = {
                type: Evergage.ItemType.Product,
                alternateId: clickedProduct._id
            };
            Evergage.trackAction("View Item Out Of Stock", { ".item": evergageJSON.stringify(product) });
    }

    var boundMessages = [];
    var selector = config.customSelector || "a[data-eg-productid]";
    var clickHandler = function() {
        var clickedProduct = {
            _id: ajq(this).data("evg-item-id") || config.idFromHref(ajq(this).attr("href")),
            url: ajq(this).attr("href"),
            ref: window.location.href
        };
        if (clickedProduct._id) {
            ajq.jStorage.set("evergage|oosClick", clickedProduct, {TTL: 10000});
        }
    };

    Evergage.addExperienceListener(function(experienceId, statType, message) {
        if (statType === "i") {
            var messages = ajq(".evergage-tooltip");
            for (var i = 0; i < messages.length; i++) {
                if (ajq.inArray(messages.eq(i).attr("id"), boundMessages) >= 0) {
                    continue;
                }
                messages.eq(i).find(selector).on("click", clickHandler);
                boundMessages.push(messages.eq(i).attr("id"));
            }
        }
    });
})();

Evergage.meta = (function() {
    "use strict";

    return {

        makeTag: function(typing, val) {
            return {
                type:               Evergage.ItemType.Tag,
                tagType:            typing,
                _id:                val
            }
        },

        detectTranslate: function () {
        // These checks can't trigger cross origin error
            var googleTranslate = ajq("script[src*='//translate.googleusercontent.com']").length > 0;
            var html = ajq("html");
            var chromeTranslate = html.hasClass("translated-ltr") || html.hasClass("translated-rtl");
            if (googleTranslate || chromeTranslate) {
                if (evergageLog.shouldLog("DEBUG")) console.log("page is translated");
                return true;
            }

            try {
                var bingTranslate = ajq(window.parent.document).find("script[src*='//www.microsofttranslator.com']").length > 0;
                var worldLingoTranslate = ajq(window.parent.document).find("frame[src*='//www.worldlingo.com']").length > 0;
            } catch (e) {
                // These checks can cause cross origin error
                if (evergageLog.shouldLog("DEBUG")) console.log("exception caught, assuming page is untranslated " + e);
                return false;
            }
            if (bingTranslate || worldLingoTranslate) {
                if (evergageLog.shouldLog("DEBUG")) console.log("page is translated");
                return true;
            } else {
                if (evergageLog.shouldLog("DEBUG")) console.log("page is not translated");
                return false;
            }
        },

        validateAndTrimItem: function(item, noId) {

            if (typeof item !== "object") return false;

            for (var k in item) {
                if ((item.hasOwnProperty(k)) && (typeof item[k] == "string")) {
                    item[k] = ajq.trim(item[k]);
                    if (item[k] === "") {
                        Evergage.sendException(new Error("Empty string for item attribute: " + k), "Site-wide JavaScript");
                        item[k] = null;
                    }
                }
                if (k == "url" || k == "imageUrl") {
                    item[k] = Evergage.util.qualifyUrl(item[k]);
                }
            }

            if (typeof item._id == "number") {
                item._id = item._id.toString();
            }

            if (!item._id && !noId) {
                Evergage.sendException(new Error("Invalid item id."), "Site-wide JavaScript");
                return false;
            }

            if (item.type == Evergage.ItemType.Tag) {
                if (!(item.tagType == "Brand" ||
                        item.tagType == "Gender" ||
                        item.tagType == "ItemClass" ||
                        item.tagType == "Style" ||
                        item.tagType == "Author" ||
                        item.tagType == "Keyword" ||
                        item.tagType == "Model" ||
                        item.tagType == "Passenger" ||
                        item.tagType == "Feature" ||
                        item.tagType == "Locale" ||
                        item.tagType == "Region" ||
                        item.tagType == "ContentClass")) {
                    Evergage.sendException(new Error("Invalid tag type."), "Site-wide JavaScript");
                    return false;
                }
            } else if (!(item.type == Evergage.ItemType.Product ||
                    item.type == Evergage.ItemType.Category ||
                    item.type == Evergage.ItemType.Article ||
                    item.type == Evergage.ItemType.Blog)) {
                Evergage.sendException(new Error("Invalid item type"), "Site-wide JavaScript");
                return false;
            }

            var isValid = true;

            if (item.tags) {
                for (var i = 0; i < item.tags.length; i++) {
                    isValid = isValid && Evergage.meta.validateAndTrimItem(item.tags[i]);
                }
            }

            if (item.categories) {
                for (var j = 0; j < item.categories.length; j++) {
                    isValid = isValid && Evergage.meta.validateAndTrimItem(item.categories[j]);
                }
            }

            return isValid;

        },

        validateLineItem: function(lineItem, isOrder) {
            if (lineItem.sku && !lineItem.sku.id) {
                if (isOrder) {
                    lineItem.sku = null;
                } else {
                    return false;
                }
            }
            var noId = (lineItem.sku && !lineItem.item._id) ? true : false;
            return (Evergage.meta.validateAndTrimItem(lineItem.item, noId) && lineItem.quantity > 0 && typeof(lineItem.item.price) == "number");
        },

        validateOrder: function(order) {
            var isValid = true;
            if (order.lineItems) {
                for (var i = 0; i < order.lineItems.length; i++) {
                    isValid = isValid && Evergage.meta.validateLineItem(order.lineItems[i], true);
                }
            }

            if (typeof order.orderId == "string") {
                order.orderId = ajq.trim(order.orderId);
                if (order.orderId === "") {
                    Evergage.sendException(new Error("Empty string for order Id"), "Site-wide JavaScript");
                    order.orderId = null;
                }
            }

            return isValid;
        },

        detectProduct: function() {

            var product = {
                type:               Evergage.ItemType.Product,
                _id:                Evergage.util.getLastPathComponentWithoutExtension(window.location.href),
                alternateId:        Evergage.util.getLastPathComponentWithoutExtension(window.location.href),
                price:              Evergage.util.getCurrencyValue(ajq("span[data-bf-subtotal]").first().text()),
                priceDescription:   Evergage.util.getCurrencyValue(ajq("div.u-display1 span[data-bf-subtotal]").first().text()),
                currency:           "USD",
                inventoryCount:     1,
                url:                Evergage.util.getThisPageCanonicalUrl(window.location.href),
                custom:             {}
            };

            if (ajq("div.Expandable-body div.u-fsSm p") && ajq.trim(ajq("div.Expandable-body div.u-fsSm p").first().text()).length > 0) {
                product.description = ajq.trim(ajq("div.Expandable-body div.u-fsSm p").first().text()).substr(0,250).replace(/\s+/g, " ");
            }

            if (Evergage.util.getItemProp("name")) {
                product.name = Evergage.util.getItemProp("name")
            } else {
                product.name = ajq("h1.u-lg-display2.u-sm-display1").first().text();
            }

            if (ajq("div.BoatCoverPhoto").length > 0 && ajq("div.BoatCoverPhoto").first().css("background-image")) {
                product.imageUrl = ajq("div.BoatCoverPhoto").first().css("background-image").replace(/^url|[\'\"\(\)]/g, '');
            }

            var long = ajq("meta[property='boatbound:location:longitude']").attr("content");
            var lat = ajq("meta[property='boatbound:location:latitude']").attr("content");
            if (long && lat) {
                product.location = {longlat: [long, lat]};
                product.custom.latitude = lat;
                product.custom.longitude = long;
            }

            var highlights = ajq("h2:contains('Highlights')").closest(".Grid-cell").next().find(".u-size1of2");

            if (highlights.length > 0) {
                product.custom.highlights = "";
                highlights.each(function() {
                    var highlight = ajq.trim(ajq(this).text());
                    product.custom.highlights += highlight + ",";
                });
                product.custom.highlights = product.custom.highlights.slice(0, -1);
            }

            if (ajq("span.u-fsSm.u-inlineBlock.u-alignMiddle.u-textSemiBold").first().text().length > 0) {
                product.rating = Evergage.util.getItemProp("ratingValue");
                product.numRatings = Evergage.util.getCurrencyValue(ajq("div span span.u-fsSm.u-inlineBlock.u-alignMiddle.u-textSemiBold").first().text());
            }

            var categoryDivs = [];

            if (ajq("i.Icon-helm").length > 0) {
                categoryDivs.push("Without Captain");
            } else {
                categoryDivs.push("With Captain");
            }

            var type = ajq.trim(ajq("div.u-fsSm.u-mb05:contains('Type:')").first().find("span.u-textSemiBold").first().text()) === "Power" ? "Power" : "Sail";
            categoryDivs.push(type);

            var categories = [];
            for (var i = 0; i < categoryDivs.length; i++) {
                var category = {
                    type:               Evergage.ItemType.Category,
                    _id:                categoryDivs[i]
                };
                categories.push(category);
            }
            if (categories.length > 0) {
                product.categories = categories;
            }

            var tags = [];

            var activities = ajq("span.u-textGrayDark.u-fsSm");
            for (var i=0; i < activities.length; i++) {
                var activity = Evergage.meta.makeTag("Style", ajq.trim(activities[i].textContent));

                if (activity._id) {
                    tags.push(activity);
                }
            }

            var halfDaySelected = ajq(".Boat-picker select[data-bf-duration]").val() === "Half Day";
            var halfDayDisabled = ajq(".Boat-picker option[data-bf-duration-type='half_day'][disabled]").length > 0;

            if (halfDaySelected || halfDayDisabled) {
                var priceBand = {
                    type:               Evergage.ItemType.Tag,
                    tagType:            "Gender",
                };

                var halfDayPrice = Evergage.util.getCurrencyValue(ajq(".Boat-picker div[data-bf-price-display]").text());

                if (halfDayPrice >= 1 && halfDayPrice <= 499) {
                    priceBand._id = "1-499";
                } else if (halfDayPrice >= 500 && halfDayPrice <= 999) {
                    priceBand._id = "500-999";
                } else if (halfDayPrice >= 1000 && halfDayPrice <= 2000) {
                    priceBand._id = "1000-2000";
                } else if (halfDayPrice >= 2001 && halfDayPrice <= 2499) {
                    priceBand._id = "2001-2499";
                } else if (halfDayPrice >= 2500) {
                    priceBand._id = "2500+";
                }

                if (priceBand._id) {
                    tags.push(priceBand);
                }
            }

            var modelType = ajq.trim(ajq("div.Panel div.Grid div.u-fsSm:contains('Model:')").find("span").first().text());
            var model = Evergage.meta.makeTag("Model", modelType);
            if (model._id) {
                tags.push(model);
            }

            var passengerNum = ajq("div.Grid div.Arrange div.Arrange-sizeFill span.u-fsSm:contains('Up to ')").first().text();
            if (passengerNum.length > 0) {
                var passenger = Evergage.meta.makeTag("Passenger", Evergage.util.getCurrencyValue(passengerNum));
                tags.push(passenger);
            }


            var features = ajq("h2:contains('Features')").closest(".Grid-cell").next().find(".u-size1of2");
            if (features.length > 0) {
                features.each(function() {
                    var feature = ajq.trim(ajq(this).text());
                    var featureTag = Evergage.meta.makeTag("Feature", feature);
                    tags.push(featureTag);
                });
            }

            var locale  = ajq("meta[property='boatbound:locality']").attr("content");
            if (locale) {
                var localeTag = Evergage.meta.makeTag("Locale", locale);
                tags.push(localeTag);
            }
            var region = ajq("meta[property='boatbound:region']").attr("content");
            if (region) {
                var regionTag = Evergage.meta.makeTag("Region", region);
                tags.push(regionTag);
            }

            if (tags.length > 0) {
                product.tags = tags;
            }

            return product;
        },

        buildOrder: function() {

            var time = new Date().getTime() / 1000;
            var idBoat = Evergage.util.getLastPathComponentWithoutExtension(window.location.href);
            var priceBoat = Evergage.util.getCurrencyValue(ajq("span[data-bf-price-from]").first().text());

            var order = {
                lineItems:              [],
                totalValue:             priceBoat,
                totalValueCurrency:     "USD",
                orderId:                idBoat + "-" + time
            };

            var item = {
                type:               Evergage.ItemType.Product,
                _id:                idBoat,
                price:              priceBoat,
                currency:           "USD"
            };

            var quantity = 1;

            order.lineItems.push({item: item, quantity: quantity});

            return order;
        },

        handleProductPage: function() {
            var product = Evergage.meta.detectProduct();

            if (ajq("a[href='#reviews']").length > 0) {
                Evergage.setCustomField("lastVisitedHasReviewAttribute", "true", Evergage.Scope.Request);
            } else {
                Evergage.setCustomField("lastVisitedHasReviewAttribute", "false", Evergage.Scope.Request);
            }

            if (Evergage.meta.validateAndTrimItem(product)) {
                Evergage.viewItem(product);
            };

            var lineItem = {
                item: product,
                quantity: 1
            };

            Evergage.safeSubmit("form#js-booking-modal-form", function() {
                if((ajq('input[data-parsley-id="22"]').val() ||
                    ajq('input[data-parsley-id="26"]').val()) &&
                    ajq('textarea[data-parsley-id="30"]').val()) {
                    if (Evergage.meta.validateLineItem(lineItem)) {
                        Evergage.addToCart(lineItem);
                    };
                };
            });

            Evergage.safeClick("button.Button.book-button", function() {
                if (ajq('input[data-parsley-id="8"]').val() ||
                    ajq('input[data-parsley-id="12"]').val()) {
                    if (Evergage.meta.validateLineItem(lineItem)) {
                        Evergage.addToCart(lineItem);
                    };
                };
            });
            
        },

        bindLastSearchTermTracking: function (selector) {
            function trackLastSearchTerm (term) {
                if (term) {
                    Evergage.setCustomField("lastSearchTerm", term, Evergage.Scope.Request);
                    Evergage.trackAction("Capture Last Search Location"); 
                }
            }
            var lastSearchTerm;
            Evergage.safeSubmit(selector, function(){
                lastSearchTerm = ajq(this).find("input[name='place_input']").val();
                trackLastSearchTerm(lastSearchTerm);
            });
        },
        
        trackUTMParams: function (attributes) {
            if (attributes.length > 0) {
                for (var i = 0; i < attributes.length; i++) {
                    var attrName = attributes[i];
                    var attrValue = Evergage.util.getParameterByName(attrName);
                    if (attrValue) {
                        Evergage.setCustomField(attrName, attrValue, Evergage.Scope.Request);
                    }
                }   
            }
        },

        handlePage: function() {
            var UTMParamsToTrack = ["utm_campaign", "utm_content", "utm_medium", "utm_source", "utm_term", "utm_title"];
            Evergage.meta.trackUTMParams(UTMParamsToTrack);
            if (Evergage.util.getPathname(window.location.href).indexOf("\/boats\/") > -1 &&
                window.location.href.indexOf("\/edit") === -1 &&
                Evergage.util.getLastPathComponent(window.location.href) !== "new" && 
                !/^global\.boatsetter\.com$/.test(window.location.hostname)) {

                Evergage.sendPageLoadEventWhenTrue(function (isLastTimeThrough) {
                    if (isLastTimeThrough) {
                        Evergage.meta.handleProductPage();
                        return true;
                    } else if (ajq("span.subtotal-calculated").length > 0) {
                        Evergage.meta.handleProductPage();
                        return true;
                    }
                    return false;
                }, 4000);
            } else if (/\/boat-rentals/.test(window.location.pathname) && !/^global\.boatsetter\.com$/.test(window.location.hostname)) {
                var locale = {
                    type:               Evergage.ItemType.Tag,
                    tagType:            "Locale",
                    _id:                (ajq("input.SearchForm-input").val() || "").split(",")[0] || "",
                    url:                window.location.href
                }
                var long = Evergage.util.getParameterByName("lng");
                var lat = Evergage.util.getParameterByName("lat");
                if (lat && long) {
                    locale.location = {
                        longlat: [long, lat]
                    }
                }
                if (Evergage.meta.validateAndTrimItem(locale)) {
                    Evergage.viewTag(locale);
                }
            } else {
                var selectorOnNonGlobalPages = 'form#js-home-searchbar, form#js-nav-searchbar, form#js-mobile-search-form';
                Evergage.meta.bindLastSearchTermTracking(selectorOnNonGlobalPages, false);
            }
        }
    };
})();

if (!Evergage.meta.detectTranslate()) {
    Evergage.meta.handlePage();
}
    } catch (e) {
        if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
            Evergage.sendException(e, "siteWideJavascript");
        }
    }
};

window.evergageSiteConfig = {"_id":48,"account":"boatsetter","alwaysIgnoreDomainName":false,"beaconConfig":{"allowBotTraffic":false,"corsAllowedOrigins":["*"],"defaultCurrency":"USD","defaultLocale":null,"disableQtipWindowScroll":false,"doNotStoreCookiesRequireProvidedAnonId":false,"doNotTrackPingRequestsForActions":false,"enableCorsRestrictedOrigins":false,"enableMessageRotation":false,"enableRememberMeUserIds":true,"enableTemplateEsc":false,"hideContentSections":true,"hideContentSectionsMillis":2500,"hidePagesForRedirect":false,"hidePagesForRedirectMillis":1000,"lastModified":1559845823199,"preventSensitiveDataCapture":false,"rememberMeUserIdsMillis":63072000000,"sendErrorEvents":true,"showPoweredBy":false,"siteConfigExecBeforePageReady":false,"spaRouteChangeTimeout":500,"trackAnonymousVisitors":true,"trackContextualRelatedItems":false,"trackSubdomainAsCompany":false,"trackUnknownPagesByTitle":false,"treatHashChangeAsPageLoad":false},"dataset":"engage","deployedTimeRanges":[],"domainsTracked":[],"globalFields":[],"globalForms":[],"globalPageActions":[{"id":"u3W7t","match":"a[data-remodal-target='modal--how-it-works'][alt='play button']","name":"See how it works - Video Play"},{"id":"nUXFI","match":"div.u-bgLightGray > div.Container","name":"PDP click"}],"googleAnalyticsIntegrationConfig":{"actionEventOptions":{"actionFormat":null,"categoryFormat":"Evergage","enabled":false,"exclusionActionNames":null,"inclusionActionNames":null,"labelFormat":null,"pageActionFormat":null,"pageLoadActionFormat":null,"trackingLevel":null},"campaignEventOptions":{"categoryFormat":"Evergage","enabled":false,"labelFormat":"${campaignName} [ ${experienceName} ]","statTypeClickthroughFormat":"${userGroup}_clickthrough","statTypeDismissalFormat":"dismissal","statTypeImpressionFormat":"${userGroup}_impression","testingModeEventsEnabled":false,"trackingLevel":"allCampaigns"},"createTrackingObject":false,"enabled":false,"prependCommandsWithTrackerName":false,"trackerName":null,"trackingId":""},"hideContentSectionsList":["div.u-sm-display1","h1.u-display4","form#js-booking-form > div.Select > a.js-agreement-link","div.u-sm-h-pv05","div#js-boat-picker > :nth-child(1) > div.Panel > div.u-textCenter > :nth-child(1)","div.u-bgWhite > div.Container"],"hidePageBeforeRedirectList":[],"id":"48","modificationTime":1560431479624,"pages":[{"action":"Home Page","archived":false,"domainMatchRequired":true,"domainsMatched":["boatsetter.com"],"fields":[],"forms":[],"id":"189a67b0-920c-4d80-bf47-52e72a8fc491","ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[{"id":"N48Kc","match":"searched","name":"Performed a search"}],"pageInstances":[],"regexCustom":true,"startTrackingDate":1502729811875,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/(home)?(?:(\\?.*))?(#.*)?$"},{"action":"Boat Rentals Search Page","archived":false,"domainMatchRequired":true,"domainsMatched":["boatsetter.com"],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1502801038886,"titleMatchesFound":[],"titleRegex":"^Reserve a Boat Rental, Fishing Charter or Yacht Charter with Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/boat\\-rentals\\/search.*$"},{"action":"Boat Rentals - Payment","archived":false,"domainMatchRequired":true,"domainsMatched":["boatsetter.com"],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1503064071661,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/boat\\-rentals\\/payment(?:(#.*))?$"},{"action":"Boat Rentals - Thank You","archived":false,"domainMatchRequired":true,"domainsMatched":["boatsetter.com"],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1503064407165,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/boat\\-rentals\\/thank\\-you(?:(#.*))?$"},{"action":"About","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517840655343,"titleMatchesFound":[],"titleRegex":"^About \\| Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/about$"},{"action":"Sign Up Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517841954918,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/users\\/sign_up.*$"},{"action":"Sign In Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517841976383,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/users\\/sign_in$"},{"action":"Boat Rentals Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517842269233,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/boat\\-rentals.*$"},{"action":"How It Works","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517842325736,"titleMatchesFound":[],"titleRegex":"^How It Works \\| Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/how\\-it\\-works.*$"},{"action":"Boats New","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517843694360,"titleMatchesFound":[],"titleRegex":"^Boat Rental.+Charter .+$","urlMatchesFound":[],"urlRegex":"^\\/boats\\/new.*$"},{"action":"Boats Edit","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1517843771907,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/boats\\/.+\\/edit.*$"},{"action":"Captains","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517843987825,"titleMatchesFound":[],"titleRegex":"^Captains \\| Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/captains.*$"},{"action":"Why List","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517844112070,"titleMatchesFound":[],"titleRegex":"^How Much Will Your Boat Make for You\\?$","urlMatchesFound":[],"urlRegex":"^\\/why\\-list.*$"},{"action":"Press","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1517844474124,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/press\\/?$"},{"action":"Dashboard Owner","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517957032130,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/dashboard\\?type=owner.*$"},{"action":"Dashboard Renter","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517957070871,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/dashboard\\?type=renter.*$"},{"action":"Account Profile","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517957102927,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/account\\/profile.*$"},{"action":"Manage Boats","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517957134899,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/manage_boats.*$"},{"action":"Inbox","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517957278415,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/inbox.*$"},{"action":"Referrals","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517957334769,"titleMatchesFound":[],"titleRegex":"^Boat For Free on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/referrals.*$"},{"action":"User","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1517958073064,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/users\\/(?!(sign_in|sign_up|password)).+(?:(\\?[^#]*))?$"},{"action":"Reset Password Token","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517958159595,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/users\\/password\\/edit\\?reset_password_token=.+$"},{"action":"Password New","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517958206201,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/users\\/password\\/new$"},{"action":"Conversation","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517958330167,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/conversations\\/.+$"},{"action":"Invitation","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1517958364984,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/invitation\\/.+$"},{"action":"Affiliates","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1517958480906,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/affiliates\\/$"},{"action":"Book Now Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1520257751630,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/bookings\\/book_now\\?.*"},{"action":"Listing Step 2 Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"Listing Step 2 Page","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1521126876168,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/l\\/boats\\/.+edit$"},{"action":"Listing Step 4 Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"Listing Step 4 Page","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1521126922568,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/l\\/boats\\/.+edit\\/photos$"},{"action":"Listing Step 3 Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"Listing Step 3 Page","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1521126958095,"titleMatchesFound":[],"titleRegex":"^Boat Rentals, Charter Boat Rentals, House Boat Rentals on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/l\\/boats\\/.+edit\\/pricing$"},{"action":"Booking Confirmation","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"Booking Confirmation","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1521754557340,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/bookings\\/.+\\/woohoo$"},{"action":"Boat Details Page","archived":false,"domainMatchRequired":false,"domainsMatched":["boatsetter.com"],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":null,"matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":"^Rent a 2015 16 ft\\. Bayliner Element 4\\-S in Miami, FL on Boatsetter$","urlMatchesFound":[],"urlRegex":"^\\/boats\\/mlchf$"}],"server":"","siteConfigExecBeforePageReady":false,"trackAccounts":true,"trackAnonymousUsers":true,"trackSeparately":false,"trackSubdomainAsCompany":false,"trackUnknownPages":false,"treatHashChangeAsPageLoad":false,"twoWayEnabled":true};
window.evergageSiteWideStyles = "/*\n * Copyright (C) 2010-2014 Evergage, Inc.\n * All rights reserved.\n */\n\n\n/* Fluid class for determining actual width in IE */\n#qtip-rcontainer .evergage-tooltip{\n    display: block !important;\n    visibility: hidden !important;\n    position: static !important;\n    float: left !important;\n}\n\n/* Core qTip styles */\n.evergage-tooltip, .evergage-qtip{\n    position: fixed;\n    left: -28000px;\n    top: -28000px;\n    display: none;\n}\n\n.evergage-tooltip.evergageMessageInVisualEditorTestMode {\n    position: absolute;\n    pointer-events: auto;\n}\n\n.evergage-tooltip.evergage-jgrowl.evergage-tooltip-bar {\n    max-width: 100% !important;\n    width: 100% !important;\n    border-radius: 0px !important;\n    -o-border-radius: 0px !important;\n    -moz-border-radius: 0px !important;\n    -webkit-border-radius: 0px !important;\n    -ms-border-radius: 0px !important;\n}\n\n.evergage-tooltip-invisible {\n    display: none !important;\n    visibility: hidden !important;\n    width: 1px !important;\n    height: 1px !important;\n}\n\n.evergage-tooltip-page {\n    position: relative;\n    left: 0;\n    top: 0;\n    z-index: inherit !important;\n    display: inline-block;\n}\n\n.evergage-tooltip-page-replace {\n    max-width: 100% !important;\n    width: 100% !important;\n    height: 100% !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-notdone, .evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done {\n    text-transform: inherit;\n    display: list-item;\n    width: inherit;\n    line-height: inherit;\n    text-align: left;\n    margin-bottom: 10px;\n    list-style-position: inside;\n}\n\n.evergage-tooltip li.evergage-task-done, .evergage-tooltip li.evergage-task-notdone {\n    margin-bottom: 10px;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done, .evergage-tooltip li.evergage-task-done {\n    text-decoration: line-through;\n}\n\n.evergage-tooltip.evergage-nonBlocking.evergage-tooltip-hover {\n    opacity: 0.2 !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content{\n    position: relative;\n    padding: 5px 9px;\n    overflow: hidden;\n\n    text-align: left;\n    word-wrap: break-word;\n}\n\n.evergage-tooltip .evergage-tooltip-titlebar{\n    position: relative;\n    min-height: 14px;\n    padding: 5px 35px 5px 10px;\n    overflow: hidden;\n\n    border-width: 0 0 1px;\n    font-weight: bold;\n}\n\n.evergage-tooltip-titlebar + .evergage-tooltip-content{ border-top-width: 0 !important; }\n\n/* Default close button class */\n.evergage-tooltip-titlebar .evergage-tooltip-close {\n    position: absolute;\n    right: 4px;\n    top: 50%;\n    margin-top: -9px;\n    font-weight: bold;\n\n    cursor: pointer;\n    outline: medium none;\n\n    border: none;\n    background: transparent;\n    /*border-width: 1px;*/\n    /*border-style: solid;*/\n}\n\n.emptyTitle > .evergage-tooltip-titlebar  {\n    height: 0;\n    float: right;\n    z-index: 2147483647;\n}\n\n* html .evergage-tooltip .evergage-tooltip-titlebar .evergage-tooltip-close { top: 16px; } /* IE fix */\n\n.evergage-tooltip-titlebar .evergage-ui-icon-close,\n.evergage-tooltip-icon .evergage-ui-icon-close {\n    display: block;\n    text-indent: -1000em;\n    direction: ltr;\n}\n\n.evergage-tooltip-icon, .evergage-tooltip-icon .evergage-ui-icon-close {\n    -moz-border-radius: 3px;\n    -webkit-border-radius: 3px;\n    border-radius: 3px;\n    text-decoration: none;\n}\n\n.evergage-tooltip-icon .evergage-ui-icon-close{\n    width: 18px;\n    height: 14px;\n\n    text-align: center;\n    text-indent: 0;\n    font: normal bold 14px/14px sans-serif;\n\n    color: inherit;\n    background: transparent none no-repeat -100em -100em;\n}\n\na.evergage-tooltip-close:hover {\n    text-decoration: none;\n}\n\n.evergage-ui-icon-close:hover {\n    font-size: 22px;\n}\n\n\n/* Applied to 'focused' tooltips e.g. most recently displayed/interacted with */\n.evergage-tooltip-focus {}\n\n/* Applied on hover of tooltips i.e. added/removed on mouseenter/mouseleave respectively */\n.evergage-tooltip-hover {}\n\n/* Default tooltip style */\n.evergage-tooltip-default {\n    /*border-width: 2px;\n    border-style: solid;\n    border-color: #F1D031;\n\n    background-color: #FFFFA3;\n    color: #555;*/\n}\n\n.evergage-tooltip-default .evergage-tooltip-titlebar {\n    background-color: transparent;\n}\n\n.evergage-tooltip-default .evergage-tooltip-icon {\n    /*border-color: #CCC;*/\n    /*background: #F1F1F1;*/\n    /*color: #777;*/\n}\n\n/* Add shadows to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-shadow{\n    -webkit-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    -moz-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n}\n\n/* Add rounded corners to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-rounded,\n.evergage-tooltip-tipsy,\n.evergage-tooltip-bootstrap{\n    -moz-border-radius: 5px;\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n}\n\n\n\n/* IE9 fix - removes all filters */\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-content,\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-titlebar{\n    filter: none;\n    -ms-filter: none;\n}\n\n\n/* Tips plugin */\n.evergage-tooltip .evergage-tooltip-tip{\n    margin: 0 auto;\n    overflow: hidden;\n    z-index: 10;\n}\n\n.evergage-tooltip .evergage-tooltip-tip,\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    position: absolute;\n\n    line-height: 0.1px !important;\n    font-size: 0.1px !important;\n    color: #123456;\n\n    background: transparent;\n    border: 0 dashed transparent;\n}\n\n.evergage-tooltip .evergage-tooltip-tip canvas{ top: 0; left: 0; }\n\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    behavior: url(#default#VML);\n    display: inline-block;\n    visibility: visible;\n}\n\n/* Modal plugin */\n#evergage-qtip-overlay{\n    position: fixed;\n    left: -10000em;\n    top: -10000em;\n}\n\n/* Applied to modals with show.modal.blur set to true */\n#evergage-qtip-overlay.blurs{ cursor: pointer; }\n\n/* Change opacity of overlay here */\n#evergage-qtip-overlay div{\n    position: absolute;\n    left: 0; top: 0;\n    width: 100%; height: 100%;\n\n    background-color: black;\n\n    opacity: 0.7;\n    filter:alpha(opacity=70);\n    -ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\\\";\n}\n\n.evergage.poweredByEvergage > a {\n    opacity: 0.2;\n    transition: opacity 0.3s ease-in-out;\n    -webkit-transition: opacity 0.3s ease-in-out;\n    -moz-transition: opacity 0.3s ease-in-out;\n    position: absolute;\n    right: 4px;\n    bottom: 2px;\n}\n\n.evergage.poweredByEvergage > a:hover {\n    opacity: 1;\n}\n\n\n//# sourceURL=evergageStyles.css*/";
if("object"===typeof window.Evergage&&null!=window.Evergage&&"function"===typeof window.Evergage.getVersion&&"number"===typeof window.Evergage.getVersion())"object"===typeof window.evergageLog&&null!=window.evergageLog&&"function"===typeof window.evergageLog.shouldLog&&(window.evergageLog.shouldLog("WARN")&&console.log("Evergage: Aborting beacon load as the Evergage beacon was already found on this page."),"function"===typeof window.Evergage.sendException&&1>100*Math.random()&&window.Evergage.sendException(Error("Beacon Already Loaded"),
"beaconAlreadyLoaded"));else if(!/msie [2-9]/i.test(navigator.userAgent)){window.evergageBeaconParseTimeStart=(new Date).getTime();window.evergageJSON="object"===typeof window.JSON&&"function"===typeof window.JSON.stringify&&"function"===typeof window.JSON.parse?window.JSON:null;var evergageLog=function(){function b(b){return"object"===typeof window.console&&"function"===typeof window.console.log&&null!=I(b)&&I(b)<=J}function f(){window.console&&"undefined"===typeof window.console.time&&(console.time=
function(b,f){if(b){var g=(new Date).getTime();console.timeCounters||(console.timeCounters={});var q="KEY"+b.toString();if(f||!console.timeCounters[q])console.timeCounters[q]=g}},console.timeEnd=function(b){var f=(new Date).getTime();if(!console.timeCounters)return 0;var g="KEY"+b.toString(),q=console.timeCounters[g];if(q){var v=f-q;console.info(b+": "+v+"ms");delete console.timeCounters[g]}return v})}function I(b){if("string"!==typeof b)return null;b=b.toUpperCase();return"NONE"==b?0:"ERROR"==b?
1:"WARN"==b?2:"INFO"==b?3:"DEBUG"==b?4:"TRACE"==b?5:null}function g(b){if("string"!==typeof b)return null;b=b.toUpperCase();return"NONE"==b?0:"BASIC"==b?1:"MODERATE"==b?2:"RIGOROUS"==b?3:null}var J=1,v=0,H=[],q={};q.shouldLog=b;q.shouldTestPerf=function(b){return"object"===typeof window.console&&"function"===typeof window.console.time&&"function"===typeof window.console.timeEnd&&null!=g(b)&&g(b)<=v};q.setLoggingLevel=function(b){b=I(b);"number"===typeof b&&(J=b);return b};q.setPerformanceTestLevel=
function(b){b=g(b);"number"===typeof b&&(v=b);f();return b};q.flushStoredMessages=function(){for(var f=0;f<H.length;f++)b(H[f].messageLevel)&&console.log(H[f].message);H=[]};q.storeLogMessageUntilLogSettingsAreParsed=function(b,f){H.push({messageLevel:b,message:f})};return q}();window.evergageLog=evergageLog;(function(b,f){function I(a){var c=yb[a]={};d.each(a.split(Wa),function(a,d){c[d]=!0});return c}function g(a,c,h){if(h===f&&1===a.nodeType)if(h="data-"+c.replace(Gb,"-$1").toLowerCase(),h=a.getAttribute(h),
"string"===typeof h){try{h="true"===h?!0:"false"===h?!1:"null"===h?null:+h+""===h?+h:qd.test(h)?d.parseJSON(h):h}catch(w){}d.data(a,c,h)}else h=f;return h}function J(a){for(var c in a)if(("data"!==c||!d.isEmptyObject(a[c]))&&"toJSON"!==c)return!1;return!0}function v(){return!1}function H(){return!0}function q(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function t(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function n(a,c,h){c=c||0;if(d.isFunction(c))return d.grep(a,function(a,d){return!!c.call(a,
d,a)===h});if(c.nodeType)return d.grep(a,function(a,d){return a===c===h});if("string"===typeof c){var w=d.grep(a,function(a){return 1===a.nodeType});if(Hb.test(c))return d.filter(c,w,!h);c=d.filter(c,w)}return d.grep(a,function(a,w){return 0<=d.inArray(a,c)===h})}function A(a){var c=Ma.split("|");a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function Q(a,c){return a.getElementsByTagName(c)[0]||a.appendChild(a.ownerDocument.createElement(c))}function K(a,
c){if(1===c.nodeType&&d.hasData(a)){var h,w,b;w=d._data(a);var E=d._data(c,w),f=w.events;if(f)for(h in delete E.handle,E.events={},f)for(w=0,b=f[h].length;w<b;w++)d.event.add(c,h,f[h][w]);E.data&&(E.data=d.extend({},E.data))}}function F(a,c){var h;1===c.nodeType&&(c.clearAttributes&&c.clearAttributes(),c.mergeAttributes&&c.mergeAttributes(a),h=c.nodeName.toLowerCase(),"object"===h?(c.parentNode&&(c.outerHTML=a.outerHTML),d.support.html5Clone&&a.innerHTML&&!d.trim(c.innerHTML)&&(c.innerHTML=a.innerHTML)):
"input"===h&&Wb.test(a.type)?(c.defaultChecked=c.checked=a.checked,c.value!==a.value&&(c.value=a.value)):"option"===h?c.selected=a.defaultSelected:"input"===h||"textarea"===h?c.defaultValue=a.defaultValue:"script"===h&&c.text!==a.text&&(c.text=a.text),c.removeAttribute(d.expando))}function O(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function B(a){Wb.test(a.type)&&(a.defaultChecked=a.checked)}
function k(a,c){if(c in a)return c;for(var d=c.charAt(0).toUpperCase()+c.slice(1),w=c,b=rd.length;b--;)if(c=rd[b]+d,c in a)return c;return w}function e(a,c){a=c||a;return"none"===d.css(a,"display")||!d.contains(a.ownerDocument,a)}function da(a,c){for(var h,w,b=[],E=0,f=a.length;E<f;E++)h=a[E],h.style&&(b[E]=d._data(h,"olddisplay"),c?(b[E]||"none"!==h.style.display||(h.style.display=""),""===h.style.display&&e(h)&&(b[E]=d._data(h,"olddisplay",ka(h.nodeName)))):(w=wa(h,"display"),b[E]||"none"===w||
d._data(h,"olddisplay",w)));for(E=0;E<f;E++)h=a[E],!h.style||c&&"none"!==h.style.display&&""!==h.style.display||(h.style.display=c?b[E]||"":"none");return a}function R(a,c,d){return(a=qe.exec(c))?Math.max(0,a[1]-(d||0))+(a[2]||"px"):c}function G(a,c,h,w){c=h===(w?"border":"content")?4:"width"===c?1:0;for(var b=0;4>c;c+=2)"margin"===h&&(b+=d.css(a,h+db[c],!0)),w?("content"===h&&(b-=parseFloat(wa(a,"padding"+db[c]))||0),"margin"!==h&&(b-=parseFloat(wa(a,"border"+db[c]+"Width"))||0)):(b+=parseFloat(wa(a,
"padding"+db[c]))||0,"padding"!==h&&(b+=parseFloat(wa(a,"border"+db[c]+"Width"))||0));return b}function ia(a,c,h){var w="width"===c?a.offsetWidth:a.offsetHeight,b=!0,E=d.support.boxSizing&&"border-box"===d.css(a,"boxSizing");if(0>=w){w=wa(a,c);if(0>w||null==w)w=a.style[c];if(Ib.test(w))return w;b=E&&(d.support.boxSizingReliable||w===a.style[c]);w=parseFloat(w)||0}return w+G(a,c,h||(E?"border":"content"),b)+"px"}function ka(a){if(Xb[a])return Xb[a];var c=d("\x3c"+a+"\x3e").appendTo(y.body),h=c.css("display");
c.remove();if("none"===h||""===h)eb=y.body.appendChild(eb||d.extend(y.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ga&&eb.createElement||(Ga=(eb.contentWindow||eb.contentDocument).document,Ga.write("\x3c!doctype html\x3e\x3chtml\x3e\x3cbody\x3e"),Ga.close()),c=Ga.body.appendChild(Ga.createElement(a)),h=wa(c,"display"),y.body.removeChild(eb);return Xb[a]=h}function ma(a,c,h,w){var b;if(d.isArray(c))d.each(c,function(c,d){h||re.test(a)?w(a,d):ma(a+"["+("object"===typeof d?c:"")+"]",d,
h,w)});else if(h||"object"!==d.type(c))w(a,c);else for(b in c)ma(a+"["+b+"]",c[b],h,w)}function p(a){return function(c,h){"string"!==typeof c&&(h=c,c="*");var w,b,E=c.toLowerCase().split(Wa),f=0,e=E.length;if(d.isFunction(h))for(;f<e;f++)w=E[f],(b=/^\+/.test(w))&&(w=w.substr(1)||"*"),w=a[w]=a[w]||[],w[b?"unshift":"push"](h)}}function T(a,c,d,w,b,E){b=b||c.dataTypes[0];E=E||{};E[b]=!0;var ja;b=a[b];for(var e=0,l=b?b.length:0,k=a===Ha;e<l&&(k||!ja);e++)ja=b[e](c,d,w),"string"===typeof ja&&(!k||E[ja]?
ja=f:(c.dataTypes.unshift(ja),ja=T(a,c,d,w,ja,E)));!k&&ja||E["*"]||(ja=T(a,c,d,w,"*",E));return ja}function qa(a,c){var h,w,b=d.ajaxSettings.flatOptions||{};for(h in c)c[h]!==f&&((b[h]?a:w||(w={}))[h]=c[h]);w&&d.extend(!0,a,w)}function N(){try{return new b.XMLHttpRequest}catch(a){}}function u(){setTimeout(function(){Jb=f},0);return Jb=d.now()}function M(a,c){d.each(c,function(c,d){for(var b=(Kb[c]||[]).concat(Kb["*"]),E=0,f=b.length;E<f&&!b[E].call(a,c,d);E++);})}function C(a,c,h){var w=0,b=Zb.length,
E=d.Deferred().always(function(){delete f.elem}),f=function(){for(var c=Jb||u(),c=Math.max(0,e.startTime+e.duration-c),d=1-(c/e.duration||0),h=0,w=e.tweens.length;h<w;h++)e.tweens[h].run(d);E.notifyWith(a,[e,d,c]);if(1>d&&w)return c;E.resolveWith(a,[e]);return!1},e=E.promise({elem:a,props:d.extend({},c),opts:d.extend(!0,{specialEasing:{}},h),originalProperties:c,originalOptions:h,startTime:Jb||u(),duration:h.duration,tweens:[],createTween:function(c,h,w){c=d.Tween(a,e.opts,c,h,e.opts.specialEasing[c]||
e.opts.easing);e.tweens.push(c);return c},stop:function(c){for(var d=0,h=c?e.tweens.length:0;d<h;d++)e.tweens[d].run(1);c?E.resolveWith(a,[e,c]):E.rejectWith(a,[e,c]);return this}});h=e.props;for(m(h,e.opts.specialEasing);w<b;w++)if(c=Zb[w].call(e,a,h,e.opts))return c;M(e,h);d.isFunction(e.opts.start)&&e.opts.start.call(a,e);d.fx.timer(d.extend(f,{anim:e,queue:e.opts.queue,elem:a}));return e.progress(e.opts.progress).done(e.opts.done,e.opts.complete).fail(e.opts.fail).always(e.opts.always)}function m(a,
c){var h,w,b,E,f;for(h in a)if(w=d.camelCase(h),b=c[w],E=a[h],d.isArray(E)&&(b=E[1],E=a[h]=E[0]),h!==w&&(a[w]=E,delete a[h]),(f=d.cssHooks[w])&&"expand"in f)for(h in E=f.expand(E),delete a[w],E)h in a||(a[h]=E[h],c[h]=b);else c[w]=b}function fa(a,c,d,w,b){return new fa.prototype.init(a,c,d,w,b)}function na(a,c){for(var d,w={height:a},b=0;4>b;b+=2-c)d=db[b],w["margin"+d]=w["padding"+d]=a;c&&(w.opacity=w.width=a);return w}function ra(a){return d.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:
!1}var D,X,y=b.document,Y=b.location,l=b.navigator,oa=b.jQuery,x=b.$,Na=Array.prototype.push,Z=Array.prototype.slice,Oa=Array.prototype.indexOf,ob=Object.prototype.toString,ba=Object.prototype.hasOwnProperty,ca=String.prototype.trim,d=function(a,c){return new d.fn.init(a,c,D)},fb=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Xa=/\S/,Wa=/\s+/,sd=Xa.test("\u00a0")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,te=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Lb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,$b=/^[\],:{}\s]*$/,
td=/(?:^|:|,)(?:\s*\[)+/g,ac=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ud=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,vd=/^-ms-/,wd=/-([\da-z])/gi,ue=function(a,c){return(c+"").toUpperCase()},Mb=function(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",Mb,!1),d.ready()):"complete"===y.readyState&&(y.detachEvent("onreadystatechange",Mb),d.ready())},ua={};d.fn=d.prototype={constructor:d,init:function(a,c,h){var w;if(!a)return this;if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if("string"===typeof a){w="\x3c"===a.charAt(0)&&"\x3e"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:te.exec(a);if(!w||!w[1]&&c)return!c||c.jquery?(c||h).find(a):this.constructor(c).find(a);if(w[1])return a=(c=c instanceof d?c[0]:c)&&c.nodeType?c.ownerDocument||c:y,a=d.parseHTML(w[1],a,!0),Lb.test(w[1])&&d.isPlainObject(c)&&this.attr.call(a,c,!0),d.merge(this,a);if((c=y.getElementById(w[2]))&&c.parentNode){if(c.id!==w[2])return h.find(a);this.length=1;this[0]=c}this.context=
y;this.selector=a;return this}if(d.isFunction(a))return h.ready(a);a.selector!==f&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return Z.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,c,h){a=d.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===c?a.selector=this.selector+(this.selector?
" ":"")+h:c&&(a.selector=this.selector+"."+c+"("+h+")");return a},each:function(a,c){return d.each(this,a,c)},ready:function(a){d.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Z.apply(this,arguments),"slice",Z.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(c,d){return a.call(c,d,c)}))},end:function(){return this.prevObject||
this.constructor(null)},push:Na,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var a,c,h,w,b,E=arguments[0]||{},e=1,l=arguments.length,k=!1;"boolean"===typeof E&&(k=E,E=arguments[1]||{},e=2);"object"===typeof E||d.isFunction(E)||(E={});l===e&&(E=this,--e);for(;e<l;e++)if(null!=(a=arguments[e]))for(c in a)h=E[c],w=a[c],E!==w&&(k&&w&&(d.isPlainObject(w)||(b=d.isArray(w)))?(b?(b=!1,h=h&&d.isArray(h)?h:[]):h=h&&d.isPlainObject(h)?h:{},E[c]=d.extend(k,h,w)):w!==
f&&(E[c]=w));return E};d.extend({noConflict:function(a){b.$===d&&(b.$=x);a&&b.jQuery===d&&(b.jQuery=oa);return d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(!0===a?!--d.readyWait:!d.isReady){if(!y.body)return setTimeout(d.ready,1);d.isReady=!0;!0!==a&&0<--d.readyWait||(X.resolveWith(y,[d]),d.fn.trigger&&d(y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===d.type(a)},isArray:Array.isArray||function(a){return"array"===d.type(a)},
isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):ua[ob.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==d.type(a)||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(var c in a);return c===f||ba.call(a,c)},isEmptyObject:function(a){for(var c in a)return!1;return!0},
error:function(a){throw Error(a);},parseHTML:function(a,c,h){var w;if(!a||"string"!==typeof a)return null;"boolean"===typeof c&&(h=c,c=0);c=c||y;if(w=Lb.exec(a))return[c.createElement(w[1])];w=d.buildFragment([a],c,h?null:[]);return d.merge([],(w.cacheable?d.clone(w.fragment):w.fragment).childNodes)},parseJSON:function(a){if(!a||"string"!==typeof a)return null;a=d.trim(a);if(b.JSON&&b.JSON.parse)return b.JSON.parse(a);if($b.test(a.replace(ac,"@").replace(ud,"]").replace(td,"")))return(new Function("return "+
a))();d.error("Invalid JSON: "+a)},parseXML:function(a){var c,h;if(!a||"string"!==typeof a)return null;try{b.DOMParser?(h=new DOMParser,c=h.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(w){c=f}c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+a);return c},noop:function(){},globalEval:function(a){a&&Xa.test(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(vd,
"ms-").replace(wd,ue)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toUpperCase()===c.toUpperCase()},each:function(a,c,h){var w,b=0,E=a.length,e=E===f||d.isFunction(a);if(h)if(e)for(w in a){if(!1===c.apply(a[w],h))break}else for(;b<E&&!1!==c.apply(a[b++],h););else if(e)for(w in a){if(!1===c.call(a[w],w,a[w]))break}else for(;b<E&&!1!==c.call(a[b],b,a[b++]););return a},trim:ca?function(a){return null==a?"":ca.call(a)}:function(a){return null==a?"":a.toString().replace(sd,"")},makeArray:function(a,
c){var h,w=c||[];null!=a&&(h=d.type(a),null==a.length||"string"===h||"function"===h||"regexp"===h||d.isWindow(a)?Na.call(w,a):d.merge(w,a));return w},inArray:function(a,c,d){var w;if(c){if(Oa)return Oa.call(c,a,d);w=c.length;for(d=d?0>d?Math.max(0,w+d):d:0;d<w;d++)if(d in c&&c[d]===a)return d}return-1},merge:function(a,c){var d=c.length,w=a.length,b=0;if("number"===typeof d)for(;b<d;b++)a[w++]=c[b];else for(;c[b]!==f;)a[w++]=c[b++];a.length=w;return a},grep:function(a,c,d){var w,b=[],E=0,f=a.length;
for(d=!!d;E<f;E++)w=!!c(a[E],E),d!==w&&b.push(a[E]);return b},map:function(a,c,h){var w,b,E=[],e=0,l=a.length;if(a instanceof d||l!==f&&"number"===typeof l&&(0<l&&a[0]&&a[l-1]||0===l||d.isArray(a)))for(;e<l;e++)w=c(a[e],e,h),null!=w&&(E[E.length]=w);else for(b in a)w=c(a[b],b,h),null!=w&&(E[E.length]=w);return E.concat.apply([],E)},guid:1,proxy:function(a,c){var h,w;"string"===typeof c&&(h=a[c],c=a,a=h);if(!d.isFunction(a))return f;w=Z.call(arguments,2);h=function(){return a.apply(c,w.concat(Z.call(arguments)))};
h.guid=a.guid=a.guid||h.guid||d.guid++;return h},access:function(a,c,h,w,b,E,e){var l,k=null==h,m=0,g=a.length;if(h&&"object"===typeof h){for(m in h)d.access(a,c,m,h[m],1,E,w);b=1}else if(w!==f){l=e===f&&d.isFunction(w);k&&(l?(l=c,c=function(a,c,h){return l.call(d(a),h)}):(c.call(a,w),c=null));if(c)for(;m<g;m++)c(a[m],h,l?w.call(a[m],m,c(a[m],h)):w,e);b=1}return b?a:k?c.call(a):g?c(a[0],h):E},now:function(){return(new Date).getTime()}});d.ready.promise=function(a){if(!X)if(X=d.Deferred(),"complete"===
y.readyState||"loading"!==y.readyState&&y.addEventListener)setTimeout(d.ready,1);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",Mb,!1),b.addEventListener("load",d.ready,!1);else{y.attachEvent("onreadystatechange",Mb);b.attachEvent("onload",d.ready);var c=!1;try{c=null==b.frameElement&&y.documentElement}catch(h){}c&&c.doScroll&&function w(){if(!d.isReady){try{c.doScroll("left")}catch(a){return setTimeout(w,50)}d.ready()}}()}return X.promise(a)};d.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(a,c){ua["[object "+c+"]"]=c.toLowerCase()});D=d(y);var yb={};d.Callbacks=function(a){a="string"===typeof a?yb[a]||I(a):d.extend({},a);var c,h,w,b,E,e,l=[],k=!a.once&&[],m=function(d){c=a.memory&&d;h=!0;e=b||0;b=0;E=l.length;for(w=!0;l&&e<E;e++)if(!1===l[e].apply(d[0],d[1])&&a.stopOnFalse){c=!1;break}w=!1;l&&(k?k.length&&m(k.shift()):c?l=[]:g.disable())},g={add:function(){if(l){var h=l.length;(function ve(c){d.each(c,function(c,h){!d.isFunction(h)||a.unique&&g.has(h)?h&&h.length&&ve(h):l.push(h)})})(arguments);
w?E=l.length:c&&(b=h,m(c))}return this},remove:function(){l&&d.each(arguments,function(a,c){for(var h;-1<(h=d.inArray(c,l,h));)l.splice(h,1),w&&(h<=E&&E--,h<=e&&e--)});return this},has:function(a){return-1<d.inArray(a,l)},empty:function(){l=[];return this},disable:function(){l=k=c=f;return this},disabled:function(){return!l},lock:function(){k=f;c||g.disable();return this},locked:function(){return!k},fireWith:function(a,c){c=c||[];c=[a,c.slice?c.slice():c];!l||h&&!k||(w?k.push(c):m(c));return this},
fire:function(){g.fireWith(this,arguments);return this},fired:function(){return!!h}};return g};d.extend({Deferred:function(a){var c=[["resolve","done",d.Callbacks("once memory"),"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],h="pending",w={state:function(){return h},always:function(){b.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return d.Deferred(function(h){d.each(c,function(c,w){var f=w[0],e=a[c];
b[w[1]](d.isFunction(e)?function(){var a=e.apply(this,arguments);if(a&&d.isFunction(a.promise))a.promise().done(h.resolve).fail(h.reject).progress(h.notify);else h[f+"With"](this===b?h:this,[a])}:h[f])});a=null}).promise()},promise:function(a){return"object"===typeof a?d.extend(a,w):w}},b={};w.pipe=w.then;d.each(c,function(a,d){var f=d[2],e=d[3];w[d[1]]=f.add;e&&f.add(function(){h=e},c[a^1][2].disable,c[2][2].lock);b[d[0]]=f.fire;b[d[0]+"With"]=f.fireWith});w.promise(b);a&&a.call(b,b);return b},when:function(a){var c=
0,h=Z.call(arguments),w=h.length,b=1!==w||a&&d.isFunction(a.promise)?w:0,f=1===b?a:d.Deferred(),e=function(a,c,d){return function(h){c[a]=this;d[a]=1<arguments.length?Z.call(arguments):h;d===l?f.notifyWith(c,d):--b||f.resolveWith(c,d)}},l,k,m;if(1<w)for(l=Array(w),k=Array(w),m=Array(w);c<w;c++)h[c]&&d.isFunction(h[c].promise)?h[c].promise().done(e(c,m,h)).fail(f.reject).progress(e(c,k,l)):--b;b||f.resolveWith(m,h);return f.promise()}});d.support=function(){var a,c,h,w,f,E,e,l=y.createElement("div");
l.setAttribute("className","t");l.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";c=l.getElementsByTagName("*");h=l.getElementsByTagName("a")[0];h.style.cssText="top:1px;float:left;opacity:.5";if(!c||!c.length||!h)return{};w=y.createElement("select");f=w.appendChild(y.createElement("option"));c=l.getElementsByTagName("input")[0];a={leadingWhitespace:3===l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,
style:/top/.test(h.getAttribute("style")),hrefNormalized:"/a"===h.getAttribute("href"),opacity:/^0.5/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:"on"===c.value,optSelected:f.selected,getSetAttribute:"t"!==l.className,enctype:!!y.createElement("form").enctype,html5Clone:"\x3c:nav\x3e\x3c/:nav\x3e"!==y.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===y.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};c.checked=!0;a.noCloneChecked=c.cloneNode(!0).checked;w.disabled=!0;a.optDisabled=!f.disabled;try{delete l.test}catch(k){a.deleteExpando=!1}!l.addEventListener&&l.attachEvent&&l.fireEvent&&(l.attachEvent("onclick",h=function(){a.noCloneEvent=!1}),l.cloneNode(!0).fireEvent("onclick"),l.detachEvent("onclick",h));c=y.createElement("input");c.value="t";c.setAttribute("type","radio");a.radioValue="t"===c.value;c.setAttribute("checked",
"checked");c.setAttribute("name","t");l.appendChild(c);h=y.createDocumentFragment();h.appendChild(l.lastChild);a.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=c.checked;h.removeChild(c);h.appendChild(l);if(l.attachEvent)for(E in{submit:!0,change:!0,focusin:!0})c="on"+E,e=c in l,e||(l.setAttribute(c,"return;"),e="function"===typeof l[c]),a[E+"Bubbles"]=e;d(function(){var c,d,h,w=y.getElementsByTagName("body")[0];w&&(c=y.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",
w.insertBefore(c,w.firstChild),d=y.createElement("div"),c.appendChild(d),d.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",h=d.getElementsByTagName("td"),h[0].style.cssText="padding:0;margin:0;border:0;display:none",e=0===h[0].offsetHeight,h[0].style.display="",h[1].style.display="none",a.reliableHiddenOffsets=e&&0===h[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
a.boxSizing=4===d.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==w.offsetTop,b.getComputedStyle&&(a.pixelPosition="1%"!==(b.getComputedStyle(d,null)||{}).top,a.boxSizingReliable="4px"===(b.getComputedStyle(d,null)||{width:"4px"}).width,h=y.createElement("div"),h.style.cssText=d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",h.style.marginRight=h.style.width="0",d.style.width="1px",d.appendChild(h),a.reliableMarginRight=!parseFloat((b.getComputedStyle(h,null)||{}).marginRight)),
"undefined"!==typeof d.style.zoom&&(d.innerHTML="",d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="\x3cdiv\x3e\x3c/div\x3e",d.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),w.removeChild(c))});h.removeChild(l);c=h=w=f=c=h=l=null;return a}();var qd=/^(?:\{.*\}|\[.*\])$/,Gb=/([A-Z])/g;d.extend({cache:{},
deletedIds:[],uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!J(a)},data:function(a,c,h,w){if(d.acceptData(a)){var b=d.expando,e="string"===typeof c,l=a.nodeType,k=l?d.cache:a,m=l?a[b]:a[b]&&b;if(m&&k[m]&&(w||k[m].data)||!e||h!==f){m||(l?a[b]=m=d.deletedIds.pop()||++d.uuid:m=b);k[m]||(k[m]={},l||(k[m].toJSON=d.noop));
if("object"===typeof c||"function"===typeof c)w?k[m]=d.extend(k[m],c):k[m].data=d.extend(k[m].data,c);a=k[m];w||(a.data||(a.data={}),a=a.data);h!==f&&(a[d.camelCase(c)]=h);e?(h=a[c],null==h&&(h=a[d.camelCase(c)])):h=a;return h}}},removeData:function(a,c,h){if(d.acceptData(a)){var w,b,f,e=a.nodeType,l=e?d.cache:a,k=e?a[d.expando]:d.expando;if(l[k]){if(c&&(w=h?l[k]:l[k].data)){d.isArray(c)||(c in w?c=[c]:(c=d.camelCase(c),c=c in w?[c]:c.split(" ")));b=0;for(f=c.length;b<f;b++)delete w[c[b]];if(!(h?
J:d.isEmptyObject)(w))return}if(!h&&(delete l[k].data,!J(l[k])))return;e?d.cleanData([a],!0):d.support.deleteExpando||l!=l.window?delete l[k]:l[k]=null}}},_data:function(a,c,h){return d.data(a,c,h,!0)},acceptData:function(a){var c=a.nodeName&&d.noData[a.nodeName.toLowerCase()];return!c||!0!==c&&a.getAttribute("classid")===c}});d.fn.extend({data:function(a,c){var h,b,e,E,l,k=this[0],m=0,x=null;if(a===f){if(this.length&&(x=d.data(k),1===k.nodeType&&!d._data(k,"parsedAttrs"))){e=k.attributes;for(l=e.length;m<
l;m++)E=e[m].name,0===E.indexOf("data-")&&(E=d.camelCase(E.substring(5)),g(k,E,x[E]));d._data(k,"parsedAttrs",!0)}return x}if("object"===typeof a)return this.each(function(){d.data(this,a)});h=a.split(".",2);h[1]=h[1]?"."+h[1]:"";b=h[1]+"!";return d.access(this,function(c){if(c===f)return x=this.triggerHandler("getData"+b,[h[0]]),x===f&&k&&(x=d.data(k,a),x=g(k,a,x)),x===f&&h[1]?this.data(h[0]):x;h[1]=c;this.each(function(){var f=d(this);f.triggerHandler("setData"+b,h);d.data(this,a,c);f.triggerHandler("changeData"+
b,h)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({queue:function(a,c,h){var b;if(a)return c=(c||"fx")+"queue",b=d._data(a,c),h&&(!b||d.isArray(h)?b=d._data(a,c,d.makeArray(h)):b.push(h)),b||[]},dequeue:function(a,c){c=c||"fx";var h=d.queue(a,c),b=h.shift(),f=d._queueHooks(a,c),e=function(){d.dequeue(a,c)};"inprogress"===b&&(b=h.shift());b&&("fx"===c&&h.unshift("inprogress"),delete f.stop,b.call(a,e,f));!h.length&&f&&
f.empty.fire()},_queueHooks:function(a,c){var h=c+"queueHooks";return d._data(a,h)||d._data(a,h,{empty:d.Callbacks("once memory").add(function(){d.removeData(a,c+"queue",!0);d.removeData(a,h,!0)})})}});d.fn.extend({queue:function(a,c){var h=2;"string"!==typeof a&&(c=a,a="fx",h--);return arguments.length<h?d.queue(this[0],a):c===f?this:this.each(function(){var h=d.queue(this,a,c);d._queueHooks(this,a);"fx"===a&&"inprogress"!==h[0]&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,
a)})},delay:function(a,c){a=d.fx?d.fx.speeds[a]||a:a;return this.queue(c||"fx",function(c,d){var b=setTimeout(c,a);d.stop=function(){clearTimeout(b)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var h,b=1,e=d.Deferred(),E=this,l=this.length,k=function(){--b||e.resolveWith(E,[E])};"string"!==typeof a&&(c=a,a=f);for(a=a||"fx";l--;)(h=d._data(E[l],a+"queueHooks"))&&h.empty&&(b++,h.empty.add(k));k();return e.promise(c)}});var Ya,Jc,Kc,sa=/[\t\r\n]/g,za=/\r/g,la=/^(?:button|input)$/i,
we=/^(?:button|input|object|select|textarea)$/i,P=/^a(?:rea|)$/i,bc=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,cc=d.support.getSetAttribute;d.fn.extend({attr:function(a,c){return d.access(this,d.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,c){return d.access(this,d.prop,a,c,1<arguments.length)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=
f,delete this[a]}catch(c){}})},addClass:function(a){var c,h,b,f,e,l,k;if(d.isFunction(a))return this.each(function(c){d(this).addClass(a.call(this,c,this.className))});if(a&&"string"===typeof a)for(c=a.split(Wa),h=0,b=this.length;h<b;h++)if(f=this[h],1===f.nodeType)if(f.className||1!==c.length){e=" "+f.className+" ";l=0;for(k=c.length;l<k;l++)~e.indexOf(" "+c[l]+" ")||(e+=c[l]+" ");f.className=d.trim(e)}else f.className=a;return this},removeClass:function(a){var c,h,b,e,l,k,m;if(d.isFunction(a))return this.each(function(c){d(this).removeClass(a.call(this,
c,this.className))});if(a&&"string"===typeof a||a===f)for(c=(a||"").split(Wa),k=0,m=this.length;k<m;k++)if(b=this[k],1===b.nodeType&&b.className){h=(" "+b.className+" ").replace(sa," ");e=0;for(l=c.length;e<l;e++)for(;-1<h.indexOf(" "+c[e]+" ");)h=h.replace(" "+c[e]+" "," ");b.className=a?d.trim(h):""}return this},toggleClass:function(a,c){var h=typeof a,b="boolean"===typeof c;return d.isFunction(a)?this.each(function(h){d(this).toggleClass(a.call(this,h,this.className,c),c)}):this.each(function(){if("string"===
h)for(var f,e=0,l=d(this),k=c,m=a.split(Wa);f=m[e++];)k=b?k:!l.hasClass(f),l[k?"addClass":"removeClass"](f);else if("undefined"===h||"boolean"===h)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===a?"":d._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&-1<(" "+this[c].className+" ").replace(sa," ").indexOf(a))return!0;return!1},val:function(a){var c,h,b,e=this[0];if(arguments.length)return b=
d.isFunction(a),this.each(function(h){var e=d(this);1===this.nodeType&&(h=b?a.call(this,h,e.val()):a,null==h?h="":"number"===typeof h?h+="":d.isArray(h)&&(h=d.map(h,function(a){return null==a?"":a+""})),c=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,h,"value")!==f||(this.value=h))});if(e){if((c=d.valHooks[e.type]||d.valHooks[e.nodeName.toLowerCase()])&&"get"in c&&(h=c.get(e,"value"))!==f)return h;h=e.value;return"string"===typeof h?h.replace(za,""):null==
h?"":h}}});d.extend({valHooks:{option:{get:function(a){var c=a.attributes.value;return!c||c.specified?a.value:a.text}},select:{get:function(a){var c,h,b=a.selectedIndex,f=[],e=a.options,l="select-one"===a.type;if(0>b)return null;a=l?b:0;for(h=l?b+1:e.length;a<h;a++)if(c=e[a],!(!c.selected||(d.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&d.nodeName(c.parentNode,"optgroup"))){c=d(c).val();if(l)return c;f.push(c)}return l&&!f.length&&e.length?d(e[b]).val():
f},set:function(a,c){var h=d.makeArray(c);d(a).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),h)});h.length||(a.selectedIndex=-1);return h}}},attrFn:{},attr:function(a,c,h,b){var e,l,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if(b&&d.isFunction(d.fn[c]))return d(a)[c](h);if("undefined"===typeof a.getAttribute)return d.prop(a,c,h);if(b=1!==k||!d.isXMLDoc(a))c=c.toLowerCase(),l=d.attrHooks[c]||(bc.test(c)?Jc:Ya);if(h!==f)if(null===h)d.removeAttr(a,c);else{if(l&&"set"in l&&b&&(e=
l.set(a,h,c))!==f)return e;a.setAttribute(c,""+h);return h}else{if(l&&"get"in l&&b&&null!==(e=l.get(a,c)))return e;e=a.getAttribute(c);return null===e?f:e}}},removeAttr:function(a,c){var h,b,f,e,l=0;if(c&&1===a.nodeType)for(b=c.split(Wa);l<b.length;l++)if(f=b[l])h=d.propFix[f]||f,(e=bc.test(f))||d.attr(a,f,""),a.removeAttribute(cc?f:h),e&&h in a&&(a[h]=!1)},attrHooks:{type:{set:function(a,c){if(la.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&
"radio"===c&&d.nodeName(a,"input")){var h=a.value;a.setAttribute("type",c);h&&(a.value=h);return c}}},value:{get:function(a,c){return Ya&&d.nodeName(a,"button")?Ya.get(a,c):c in a?a.value:null},set:function(a,c,h){if(Ya&&d.nodeName(a,"button"))return Ya.set(a,c,h);a.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},prop:function(a,c,h){var b,e,l;l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l){if(l=1!==l||!d.isXMLDoc(a))c=d.propFix[c]||c,e=d.propHooks[c];return h!==f?e&&"set"in e&&(b=e.set(a,h,c))!==f?b:a[c]=h:e&&"get"in e&&null!==(b=e.get(a,c))?b:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):we.test(a.nodeName)||P.test(a.nodeName)&&a.href?0:f}}}});Jc={get:function(a,c){var h,b=d.prop(a,c);return!0===b||"boolean"!==
typeof b&&(h=a.getAttributeNode(c))&&!1!==h.nodeValue?c.toLowerCase():f},set:function(a,c,h){!1===c?d.removeAttr(a,h):(c=d.propFix[h]||h,c in a&&(a[c]=!0),a.setAttribute(h,h.toLowerCase()));return h}};cc||(Kc={name:!0,id:!0,coords:!0},Ya=d.valHooks.button={get:function(a,c){var d;return(d=a.getAttributeNode(c))&&(Kc[c]?""!==d.value:d.specified)?d.value:f},set:function(a,c,d){var b=a.getAttributeNode(d);b||(b=y.createAttribute(d),a.setAttributeNode(b));return b.value=c+""}},d.each(["width","height"],
function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{set:function(a,d){if(""===d)return a.setAttribute(c,"auto"),d}})}),d.attrHooks.contenteditable={get:Ya.get,set:function(a,c,d){""===c&&(c="false");Ya.set(a,c,d)}});d.support.hrefNormalized||d.each(["href","src","width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null===a?f:a}})});d.support.style||(d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||f},set:function(a,
c){return a.style.cssText=""+c}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));d.support.enctype||(d.propFix.enctype="encoding");d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,
c){if(d.isArray(c))return a.checked=0<=d.inArray(d(a).val(),c)}})});var Aa=/^(?:textarea|input|select)$/i,dc=/^([^\.]*|)(?:\.(.+)|)$/,Ba=/(?:^|\s)hover(\.\S+|)\b/,Pa=/^key/,Lc=/^(?:mouse|contextmenu)|click/,Mc=/^(?:focusinfocus|focusoutblur)$/,zb=function(a){return d.event.special.hover?a:a.replace(Ba,"mouseenter$1 mouseleave$1")};d.event={add:function(a,c,h,b,e){var l,k,m,x,g,y,u,p,C;if(3!==a.nodeType&&8!==a.nodeType&&c&&h&&(l=d._data(a))){h.handler&&(u=h,h=u.handler,e=u.selector);h.guid||(h.guid=
d.guid++);m=l.events;m||(l.events=m={});k=l.handle;k||(l.handle=k=function(a){return"undefined"===typeof d||a&&d.event.triggered===a.type?f:d.event.dispatch.apply(k.elem,arguments)},k.elem=a);c=d.trim(zb(c)).split(" ");for(l=0;l<c.length;l++)x=dc.exec(c[l])||[],g=x[1],y=(x[2]||"").split(".").sort(),C=d.event.special[g]||{},g=(e?C.delegateType:C.bindType)||g,C=d.event.special[g]||{},x=d.extend({type:g,origType:x[1],data:b,handler:h,guid:h.guid,selector:e,namespace:y.join(".")},u),p=m[g],p||(p=m[g]=
[],p.delegateCount=0,C.setup&&!1!==C.setup.call(a,b,y,k)||(a.addEventListener?a.addEventListener(g,k,!1):a.attachEvent&&a.attachEvent("on"+g,k))),C.add&&(C.add.call(a,x),x.handler.guid||(x.handler.guid=h.guid)),e?p.splice(p.delegateCount++,0,x):p.push(x),d.event.global[g]=!0;a=null}},global:{},remove:function(a,c,h,b,e){var f,l,k,m,x,g,y,p,u,C,B=d.hasData(a)&&d._data(a);if(B&&(y=B.events)){c=d.trim(zb(c||"")).split(" ");for(f=0;f<c.length;f++)if(l=dc.exec(c[f])||[],k=m=l[1],l=l[2],k){p=d.event.special[k]||
{};k=(b?p.delegateType:p.bindType)||k;u=y[k]||[];x=u.length;l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(g=0;g<u.length;g++)C=u[g],!e&&m!==C.origType||h&&h.guid!==C.guid||l&&!l.test(C.namespace)||b&&b!==C.selector&&("**"!==b||!C.selector)||(u.splice(g--,1),C.selector&&u.delegateCount--,p.remove&&p.remove.call(a,C));0===u.length&&x!==u.length&&(p.teardown&&!1!==p.teardown.call(a,l,B.handle)||d.removeEvent(a,k,B.handle),delete y[k])}else for(k in y)d.event.remove(a,
k+c[f],h,b,!0);d.isEmptyObject(y)&&(delete B.handle,d.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,c,h,w){if(!h||3!==h.nodeType&&8!==h.nodeType){var e,l,k,m,g,x,u=a.type||a;k=[];if(!Mc.test(u+d.event.triggered)&&(0<=u.indexOf("!")&&(u=u.slice(0,-1),e=!0),0<=u.indexOf(".")&&(k=u.split("."),u=k.shift(),k.sort()),h&&!d.event.customEvent[u]||d.event.global[u]))if(a="object"===typeof a?a[d.expando]?a:new d.Event(u,a):new d.Event(u),a.type=u,a.isTrigger=
!0,a.exclusive=e,a.namespace=k.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k=0>u.indexOf(":")?"on"+u:"",h){if(a.result=f,a.target||(a.target=h),c=null!=c?d.makeArray(c):[],c.unshift(a),m=d.event.special[u]||{},!m.trigger||!1!==m.trigger.apply(h,c)){x=[[h,m.bindType||u]];if(!w&&!m.noBubble&&!d.isWindow(h)){g=m.delegateType||u;e=Mc.test(g+u)?h:h.parentNode;for(l=h;e;e=e.parentNode)x.push([e,g]),l=e;l===(h.ownerDocument||y)&&x.push([l.defaultView||
l.parentWindow||b,g])}for(l=0;l<x.length&&!a.isPropagationStopped();l++)e=x[l][0],a.type=x[l][1],(g=(d._data(e,"events")||{})[a.type]&&d._data(e,"handle"))&&g.apply(e,c),(g=k&&e[k])&&d.acceptData(e)&&!1===g.apply(e,c)&&a.preventDefault();a.type=u;w||a.isDefaultPrevented()||m._default&&!1!==m._default.apply(h.ownerDocument,c)||"click"===u&&d.nodeName(h,"a")||!d.acceptData(h)||!k||!h[u]||("focus"===u||"blur"===u)&&0===a.target.offsetWidth||d.isWindow(h)||((l=h[k])&&(h[k]=null),d.event.triggered=u,h[u](),
d.event.triggered=f,l&&(h[k]=l));return a.result}}else for(l in h=d.cache,h)h[l].events&&h[l].events[u]&&d.event.trigger(a,c,h[l].handle.elem,!0)}},dispatch:function(a){"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("MODERATE")&&console.time("Click Event Time");"click"==a.type&&ajq!==f&&ajq.checkTrimNative();a=d.event.fix(a||b.event);var c,h,w,e,l,k,m,g,x,u;h=d.extend([],(d._data(this,"events")||{})[a.type]||[]);m=[];for(var p=0;p<h.length;p++)"apptegicDocumentLevelClick"==h[p].namespace&&
(m.push(h[p]),h.splice(p,1),p--,h.delegateCount--);l=h.delegateCount;var p=[].slice.call(arguments),C=!a.exclusive&&!a.namespace,B=d.event.special[a.type]||{},oa=[];p[0]=a;a.delegateTarget=this;if(B.preDispatch&&!1===B.preDispatch.call(this,a))"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("MODERATE")&&console.timeEnd("Click Event Time");else{if(l&&(!a.button||"click"!==a.type))for(e=d(this),e.context=this,w=a.target;w!=this;w=w.parentNode||this)if(!0!==w.disabled||"click"!==a.type){k=
{};g=[];e[0]=w;"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("RIGOROUS")&&console.time("Node Parsed: "+w.tagName);for(c=0;c<l;c++)x=h[c],u=x.selector,k[u]===f&&(k[u]=e.is(u)),k[u]&&g.push(x);g.length&&oa.push({elem:w,matches:g});"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("RIGOROUS")&&console.timeEnd("Node Parsed: "+w.tagName)}"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("MODERATE")&&console.time("Direct Handler Total Time");for(c=0;c<m.length;c++)"click"==
a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("RIGOROUS")&&console.time("Direct Handler #"+c+" with selector: "+m[c].selector),x=d(y).find(m[c].selector),w=d(a.target),0<x.size()&&(x.is(w)&&!0!==w.get(0).disabled||0<x.find(w).size()&&!0!==x.find(w).get(0).disabled)&&oa.push({elem:this,matches:[m[c]]}),"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("RIGOROUS")&&console.timeEnd("Direct Handler #"+c+" with selector: "+m[c].selector);"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("MODERATE")&&
console.timeEnd("Direct Handler Total Time");h.length>l&&oa.push({elem:this,matches:h.slice(l)});for(c=0;c<oa.length&&!a.isPropagationStopped();c++)for(m=oa[c],a.currentTarget=m.elem,h=0;h<m.matches.length&&!a.isImmediatePropagationStopped();h++)if(x=m.matches[h],C||!a.namespace&&!x.namespace||a.namespace_re&&a.namespace_re.test(x.namespace))a.data=x.data,a.handleObj=x,l=((d.event.special[x.origType]||{}).handle||x.handler).apply(m.elem,p),l!==f&&(a.result=l,!1===l&&(a.preventDefault(),a.stopPropagation()));
B.postDispatch&&B.postDispatch.call(this,a);"click"==a.type&&evergageLog!==f&&evergageLog.shouldTestPerf("MODERATE")&&console.timeEnd("Click Event Time");return a.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,c){null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode);return a}},
mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,b,e=c.button,l=c.fromElement;null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||y,b=d.documentElement,d=d.body,a.pageX=c.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0));!a.relatedTarget&&l&&(a.relatedTarget=l===
a.target?c.toElement:l);a.which||e===f||(a.which=e&1?1:e&2?3:e&4?2:0);return a}},fix:function(a){if(a[d.expando])return a;var c,h,b=a,e=d.event.fixHooks[a.type]||{},l=e.props?this.props.concat(e.props):this.props;a=d.Event(b);for(c=l.length;c;)h=l[--c],a[h]=b[h];a.target||(a.target=b.srcElement||y);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return e.filter?e.filter(a,b):a},special:{ready:{setup:d.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},
beforeunload:{setup:function(a,c,h){d.isWindow(this)&&(this.onbeforeunload=h)},teardown:function(a,c){this.onbeforeunload===c&&(this.onbeforeunload=null)}}},simulate:function(a,c,h,b){a=d.extend(new d.Event,h,{type:a,isSimulated:!0,originalEvent:{}});b?d.event.trigger(a,null,c):d.event.dispatch.call(c,a);a.isDefaultPrevented()&&h.preventDefault()}};d.event.handle=d.event.dispatch;d.removeEvent=y.removeEventListener?function(a,c,d){a.removeEventListener&&a.removeEventListener(c,d,!1)}:function(a,c,
d){c="on"+c;a.detachEvent&&("undefined"===typeof a[c]&&(a[c]=null),a.detachEvent(c,d))};d.Event=function(a,c){if(!(this instanceof d.Event))return new d.Event(a,c);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===f&&a.getPreventDefault&&a.getPreventDefault()?H:v):this.type=a;c&&d.extend(this,c);this.timeStamp=a&&a.timeStamp||d.now();this[d.expando]=!0};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=H;var a=this.originalEvent;
a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=H;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=H;this.stopPropagation()},isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,c){d.event.special[a]={delegateType:c,bindType:c,handle:function(a){var b,
e=a.relatedTarget,l=a.handleObj;if(!e||e!==this&&!d.contains(this,e))a.type=l.origType,b=l.handler.apply(this,arguments),a.type=c;return b}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=d.nodeName(a,"input")||d.nodeName(a,"button")?a.form:f)&&!d._data(a,"_submit_attached")&&(d.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),d._data(a,"_submit_attached",
!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&d.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(d.nodeName(this,"form"))return!1;d.event.remove(this,"._submit")}});d.support.changeBubbles||(d.event.special.change={setup:function(){if(Aa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)d.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=
!0)}),d.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,a,!0)});return!1}d.event.add(this,"beforeactivate._change",function(a){a=a.target;Aa.test(a.nodeName)&&!d._data(a,"_change_attached")&&(d.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||d.event.simulate("change",this.parentNode,a,!0)}),d._data(a,"_change_attached",!0))})},handle:function(a){var c=a.target;if(this!==c||a.isSimulated||
a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return Aa.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,c){var h=0,b=function(a){d.event.simulate(c,a.target,d.event.fix(a),!0)};d.event.special[c]={setup:function(){0===h++&&y.addEventListener(a,b,!0)},teardown:function(){0===--h&&y.removeEventListener(a,b,!0)}}});d.fn.extend({on:function(a,
c,h,b,e){var l,k;if("object"===typeof a){"string"!==typeof c&&(h=h||c,c=f);for(k in a)this.on(k,c,h,a[k],e);return this}null==h&&null==b?(b=c,h=c=f):null==b&&("string"===typeof c?(b=h,h=f):(b=h,h=c,c=f));if(!1===b)b=v;else if(!b)return this;1===e&&(l=b,b=function(a){d().off(a);return l.apply(this,arguments)},b.guid=l.guid||(l.guid=d.guid++));return this.each(function(){d.event.add(this,a,b,h,c)})},one:function(a,c,d,b){return this.on(a,c,d,b,1)},off:function(a,c,h){var b;if(a&&a.preventDefault&&a.handleObj)return b=
a.handleObj,d(a.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler),this;if("object"===typeof a){for(b in a)this.off(b,c,a[b]);return this}if(!1===c||"function"===typeof c)h=c,c=f;!1===h&&(h=v);return this.each(function(){d.event.remove(this,a,h,c)})},bind:function(a,c,d){return this.on(a,null,c,d)},unbind:function(a,c){return this.off(a,null,c)},live:function(a,c,h){d(this.context).on(a,this.selector,c,h);return this},die:function(a,c){d(this.context).off(a,
this.selector||"**",c);return this},delegate:function(a,c,d,b){return this.on(c,a,d,b)},undelegate:function(a,c,d){return 1==arguments.length?this.off(a,"**"):this.off(c,a||"**",d)},trigger:function(a,c){return this.each(function(){d.event.trigger(a,c,this)})},triggerHandler:function(a,c){if(this[0])return d.event.trigger(a,c,this[0],!0)},toggle:function(a){var c=arguments,h=a.guid||d.guid++,b=0,e=function(h){var e=(d._data(this,"lastToggle"+a.guid)||0)%b;d._data(this,"lastToggle"+a.guid,e+1);h.preventDefault();
return c[e].apply(this,arguments)||!1};for(e.guid=h;b<c.length;)c[b++].guid=h;return this.click(e)},hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,c){d.fn[c]=function(a,d){null==d&&(d=a,a=null);return 0<arguments.length?this.on(c,null,a,d):this.trigger(c)};
Pa.test(c)&&(d.event.fixHooks[c]=d.event.keyHooks);Lc.test(c)&&(d.event.fixHooks[c]=d.event.mouseHooks)});(function(a,c){function h(a,c,d,h){for(var b=0,e=c.length;b<e;b++)ba(a,c[b],d,h)}function b(a,c,d,e,l,f){var w,k=ca.setFilters[c.toLowerCase()];k||ba.error(c);!a&&(w=l)||h(a||"*",e,w=[],l);return 0<w.length?k(w,d,f):[]}function e(a,d,l,f,k){for(var m,E,x,g,u,p,y,C=0,B=k.length,oa=K.POS,n=new RegExp("^"+oa.source+"(?![\\x20\\t\\r\\n\\f])","i"),G=function(){for(var a=1,d=arguments.length-2;a<d;a++)arguments[a]===
c&&(m[a]=c)};C<B;C++){oa.exec("");a=k[C];g=[];x=0;for(u=f;m=oa.exec(a);)if(E=oa.lastIndex=m.index+m[0].length,E>x){y=a.slice(x,m.index);x=E;p=[d];v.test(y)&&(u&&(p=u),u=f);if(E=Z.test(y))y=y.slice(0,-5).replace(v,"$\x26*");1<m.length&&m[0].replace(n,G);u=b(y,m[1],m[2],p,u,E)}u?(g=g.concat(u),(y=a.slice(x))&&")"!==y?v.test(y)?h(y,g,l,f):ba(y,d,l,f?f.concat(u):u):M.apply(l,g)):ba(a,d,l,f)}return 1===B?l:ba.uniqueSort(l)}function l(a,c,d){var h=c.dir,b=G++;a||(a=function(a){return a===d});return c.first?
function(c,d){for(;c=c[h];)if(1===c.nodeType)return a(c,d)&&c}:function(c,d){for(var e,l=b+"."+x,f=l+"."+m;c=c[h];)if(1===c.nodeType){if((e=c[t])===f)return c.sizset;if("string"===typeof e&&0===e.indexOf(l)){if(c.sizset)return c}else{c[t]=f;if(a(c,d))return c.sizset=!0,c;c.sizset=!1}}}}function f(a,c){return a?function(d,h){var b=c(d,h);return b&&a(!0===b?d:b,h)}:c}function k(a){return function(c,d){for(var h,b=0;h=a[b];b++)if(h(c,d))return!0;return!1}}var m,x,g,u,y,p=a.document,C=p.documentElement,
B=!1,oa=!0,G=0,n=[].slice,M=[].push,t=("sizcache"+Math.random()).replace(".",""),N="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",q="(?\x3d[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+N+"|"+":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?\x3d[^\\[]*\\]))|(?:,(?\x3d[^\\(]*\\))))*))\\)|)".replace(2,
7)+"|[^\\\\(),])+",R=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),v=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,da=new RegExp(q+"?(?\x3d[\\x20\\t\\r\\n\\f]*,|$)","g"),T=new RegExp("^(?:(?!,)(?:(?:^|,)[\\x20\\t\\r\\n\\f]*"+q+")*?|[\\x20\\t\\r\\n\\f]*(.*?))(\\)|$)"),A=new RegExp(q.slice(19,-6)+"\\x20\\t\\r\\n\\f\x3e+~])+|[\\x20\\t\\r\\n\\f]*([\\x20\\t\\r\\n\\f\x3e+~])[\\x20\\t\\r\\n\\f]*","g"),H=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Na=/[\x20\t\r\n\f]*[+~]/,
Z=/:not\($/,D=/h\d/i,F=/input|select|textarea|button/i,Oa=/\\(?!\\)/g,K={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+N),PSEUDO:/^:((?:\\.|[-\w]|[^\x00-\xa0])+)(?:\((?:(['"])((?:\\.|[^\\])*?)\2|((?:[^,]|\\,|(?:,(?=[^\[]*\]))|(?:,(?=[^\(]*\))))*))\)|)/,CHILD:/^:(only|nth|last|first)-child(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?\x3d[^-]|$)","ig"),needsContext:/^[\x20\t\r\n\f]*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\)|)(?=[^-]|$)/i},Y={},J=[],Q={},ia=[],N=function(a){a.sizzleFilter=!0;return a},q=function(a){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===a}},fa=function(a){return function(c){var d=c.nodeName.toLowerCase();return("input"===d||"button"===d)&&c.type===a}},I=function(a){var c=!1,d=p.createElement("div");try{c=
a(d)}catch(h){}return c},ma=I(function(a){a.innerHTML="\x3cselect\x3e\x3c/select\x3e";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),qa=I(function(a){a.id=t+0;a.innerHTML="\x3ca name\x3d'"+t+"'\x3e\x3c/a\x3e\x3cdiv name\x3d'"+t+"'\x3e\x3c/div\x3e";C.insertBefore(a,C.firstChild);var c=p.getElementsByName&&p.getElementsByName(t).length===2+p.getElementsByName(t+0).length;y=!p.getElementById(t);C.removeChild(a);return c}),fb=I(function(a){a.appendChild(p.createComment(""));
return 0===a.getElementsByTagName("*").length}),na=I(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),ob=I(function(a){a.innerHTML="\x3cdiv class\x3d'hidden e'\x3e\x3c/div\x3e\x3cdiv class\x3d'hidden'\x3e\x3c/div\x3e";if(!a.getElementsByClassName||0===a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 1!==a.getElementsByClassName("e").length}),ba=function(a,
c,d,h){d=d||[];c=c||p;var b,e,l,f,w=c.nodeType;if(1!==w&&9!==w)return[];if(!a||"string"!==typeof a)return d;l=O(c);if(!l&&!h&&(b=H.exec(a)))if(f=b[1])if(9===w)if((e=c.getElementById(f))&&e.parentNode){if(e.id===f)return d.push(e),d}else return d;else{if(c.ownerDocument&&(e=c.ownerDocument.getElementById(f))&&ra(c,e)&&e.id===f)return d.push(e),d}else{if(b[2])return M.apply(d,n.call(c.getElementsByTagName(a),0)),d;if((f=b[3])&&ob&&c.getElementsByClassName)return M.apply(d,n.call(c.getElementsByClassName(f),
0)),d}return Xa(a,c,d,h,l)},ca=ba.selectors={cacheLength:50,match:K,order:["ID","TAG"],attrHandle:{},createPseudo:N,find:{ID:y?function(a,c,d){if("undefined"!==typeof c.getElementById&&!d)return(a=c.getElementById(a))&&a.parentNode?[a]:[]}:function(a,d,h){if("undefined"!==typeof d.getElementById&&!h)return(d=d.getElementById(a))?d.id===a||"undefined"!==typeof d.getAttributeNode&&d.getAttributeNode("id").value===a?[d]:c:[]},TAG:fb?function(a,c){if("undefined"!==typeof c.getElementsByTagName)return c.getElementsByTagName(a)}:
function(a,c){var d=c.getElementsByTagName(a);if("*"===a){for(var h,b=[],e=0;h=d[e];e++)1===h.nodeType&&b.push(h);return b}return d}},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Oa,"");a[3]=(a[4]||a[5]||"").replace(Oa,"");"~\x3d"===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||ba.error(a[0]),a[3]=+(a[3]?
a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&ba.error(a[0]);return a},PSEUDO:function(a){var c,d=a[4];if(K.CHILD.test(a[0]))return null;d&&(c=T.exec(d))&&c.pop()&&(a[0]=a[0].slice(0,c[0].length-d.length-1),d=c[0].slice(0,-1));a.splice(2,3,d||a[3]);return a}},filter:{ID:y?function(a){a=a.replace(Oa,"");return function(c){return c.getAttribute("id")===a}}:function(a){a=a.replace(Oa,"");return function(c){return(c="undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id"))&&
c.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(Oa,"").toLowerCase();return function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(a){var c=Y[a];c||(c=Y[a]=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),J.push(a),J.length>ca.cacheLength&&delete Y[J.shift()]);return function(a){return c.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,c,d){return c?function(h){h=ba.attr(h,
a);var b=h+"";if(null==h)return"!\x3d"===c;switch(c){case "\x3d":return b===d;case "!\x3d":return b!==d;case "^\x3d":return d&&0===b.indexOf(d);case "*\x3d":return d&&-1<b.indexOf(d);case "$\x3d":return d&&b.substr(b.length-d.length)===d;case "~\x3d":return-1<(" "+b+" ").indexOf(d);case "|\x3d":return b===d||b.substr(0,d.length+1)===d+"-"}}:function(c){return null!=ba.attr(c,a)}},CHILD:function(a,c,d,h){if("nth"===a){var b=G++;return function(a){var c,e=0,l=a;if(1===d&&0===h)return!0;if((c=a.parentNode)&&
(c[t]!==b||!a.sizset)){for(l=c.firstChild;l&&(1!==l.nodeType||(l.sizset=++e,l!==a));l=l.nextSibling);c[t]=b}a=a.sizset-h;return 0===d?0===a:0===a%d&&0<=a/d}}return function(c){var d=c;switch(a){case "only":case "first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===a)return!0;d=c;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0}}},PSEUDO:function(a,c,d,h){var b=ca.pseudos[a]||ca.pseudos[a.toLowerCase()];b||ba.error("unsupported pseudo: "+a);return b.sizzleFilter?
b(c,d,h):b}},pseudos:{not:N(function(a,c,d){var h=P(a.replace(R,"$1"),c,d);return function(a){return!h(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&!!a.checked||"option"===c&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!ca.pseudos.empty(a)},empty:function(a){var c;for(a=a.firstChild;a;){if("@"<a.nodeName||
3===(c=a.nodeType)||4===c)return!1;a=a.nextSibling}return!0},contains:N(function(a){return function(c){return-1<(c.textContent||c.innerText||ka(c)).indexOf(a)}}),has:N(function(a){return function(c){return 0<ba(a,c).length}}),header:function(a){return D.test(a.nodeName)},text:function(a){var c,d;return"input"===a.nodeName.toLowerCase()&&"text"===(c=a.type)&&(null==(d=a.getAttribute("type"))||d.toLowerCase()===c)},radio:q("radio"),checkbox:q("checkbox"),file:q("file"),password:q("password"),image:q("image"),
submit:fa("submit"),reset:fa("reset"),button:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&"button"===a.type||"button"===c},input:function(a){return F.test(a.nodeName)},focus:function(a){var c=a.ownerDocument;return a===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,c,d){return d?a.slice(1):[a[0]]},last:function(a,c,d){c=a.pop();return d?a:[c]},even:function(a,c,d){c=[];d=
d?1:0;for(var h=a.length;d<h;d+=2)c.push(a[d]);return c},odd:function(a,c,d){c=[];d=d?0:1;for(var h=a.length;d<h;d+=2)c.push(a[d]);return c},lt:function(a,c,d){return d?a.slice(+c):a.slice(0,+c)},gt:function(a,c,d){return d?a.slice(0,+c+1):a.slice(+c+1)},eq:function(a,c,d){c=a.splice(+c,1);return d?a:c}}};ca.setFilters.nth=ca.setFilters.eq;ca.filters=ca.pseudos;na||(ca.attrHandle={href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}});qa&&(ca.order.push("NAME"),
ca.find.NAME=function(a,c){if("undefined"!==typeof c.getElementsByName)return c.getElementsByName(a)});ob&&(ca.order.splice(1,0,"CLASS"),ca.find.CLASS=function(a,c,d){if("undefined"!==typeof c.getElementsByClassName&&!d)return c.getElementsByClassName(a)});try{n.call(C.childNodes,0)[0].nodeType}catch(Af){n=function(a){for(var c,d=[];c=this[a];a++)d.push(c);return d}}var O=ba.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1},ra=ba.contains=C.compareDocumentPosition?
function(a,c){return!!(a.compareDocumentPosition(c)&16)}:C.contains?function(a,c){var d=9===a.nodeType?a.documentElement:a,h=c.parentNode;return a===h||!!(h&&1===h.nodeType&&d.contains&&d.contains(h))}:function(a,c){for(;c=c.parentNode;)if(c===a)return!0;return!1},ka=ba.getText=function(a){var c,d="",h=0;if(c=a.nodeType)if(1===c||9===c||11===c){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=ka(a)}else{if(3===c||4===c)return a.nodeValue}else for(;c=
a[h];h++)d+=ka(c);return d};ba.attr=function(a,c){var d;(d=O(a))||(c=c.toLowerCase());return ca.attrHandle[c]?ca.attrHandle[c](a):ma||d?a.getAttribute(c):(d=a.getAttributeNode(c))?"boolean"===typeof a[c]?a[c]?c:null:d.specified?d.value:null:null};ba.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};[0,0].sort(function(){return oa=0});C.compareDocumentPosition?g=function(a,c){return a===c?(B=!0,0):(a.compareDocumentPosition&&c.compareDocumentPosition?a.compareDocumentPosition(c)&
4:a.compareDocumentPosition)?-1:1}:(g=function(a,c){if(a===c)return B=!0,0;if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex;var d,h,b=[],e=[];d=a.parentNode;h=c.parentNode;var l=d;if(d===h)return u(a,c);if(!d)return-1;if(!h)return 1;for(;l;)b.unshift(l),l=l.parentNode;for(l=h;l;)e.unshift(l),l=l.parentNode;d=b.length;h=e.length;for(l=0;l<d&&l<h;l++)if(b[l]!==e[l])return u(b[l],e[l]);return l===d?u(a,e[l],-1):u(b[l],c,1)},u=function(a,c,d){if(a===c)return d;for(a=a.nextSibling;a;){if(a===
c)return-1;a=a.nextSibling}return 1});ba.uniqueSort=function(a){var c,d=1;if(g&&(B=oa,a.sort(g),B))for(;c=a[d];d++)c===a[d-1]&&a.splice(d--,1);return a};var P=ba.compile=function(a,c,d){var h,b,e=Q[a];if(e&&e.context===c)return e;var w,m,e=[];h=0;for(var x=T.exec(a),g=!x.pop()&&!x.pop(),u=g&&a.match(da)||[""],y=ca.preFilter,C=ca.filter,B=!d&&c!==p;null!=(m=u[h])&&g;h++)for(e.push(w=[]),B&&(m=" "+m);m;){g=!1;if(x=v.exec(m))m=m.slice(x[0].length),g=w.push({part:x.pop().replace(R," "),captures:x});for(b in C)!(x=
K[b].exec(m))||y[b]&&!(x=y[b](x,c,d))||(m=m.slice(x.shift().length),g=w.push({part:b,captures:x}));if(!g)break}g||ba.error(a);for(b=0;h=e[b];b++){w=e;m=b;x=c;g=d;y=u=void 0;for(C=0;u=h[C];C++)ca.relative[u.part]?y=l(y,ca.relative[u.part],x):(u.captures.push(x,g),y=f(y,ca.filter[u.part].apply(null,u.captures)));w[m]=y}e=Q[a]=k(e);e.context=c;e.runs=e.dirruns=0;ia.push(a);ia.length>ca.cacheLength&&delete Q[ia.shift()];return e};ba.matches=function(a,c){return ba(a,null,null,c)};ba.matchesSelector=function(a,
c){return 0<ba(c,null,null,[a]).length};var Xa=function(a,c,d,h,b){a=a.replace(R,"$1");var l,f,w,k,g,E,u=a.match(da);f=a.match(A);w=c.nodeType;if(K.POS.test(a))return e(a,c,d,h,u);if(h)l=n.call(h,0);else if(u&&1===u.length){if(1<f.length&&9===w&&!b&&(u=K.ID.exec(f[0]))){c=ca.find.ID(u[1],c,b)[0];if(!c)return d;a=a.slice(f.shift().length)}h=(u=Na.exec(f[0]))&&!u.index&&c.parentNode||c;E=f.pop();k=E.split(":not")[0];f=0;for(w=ca.order.length;f<w;f++)if(g=ca.order[f],u=K[g].exec(k))if(l=ca.find[g]((u[1]||
"").replace(Oa,""),h,b),null!=l){k===E&&((a=a.slice(0,a.length-E.length)+k.replace(K[g],""))||M.apply(d,n.call(l,0)));break}}if(a)for(b=P(a,c,b),x=b.dirruns++,null==l&&(l=ca.find.TAG("*",Na.test(a)&&c.parentNode||c)),f=0;a=l[f];f++)m=b.runs++,b(a,c)&&d.push(a);return d};p.querySelectorAll&&function(){var a,c=Xa,d=/'|\\/g,h=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,b=[],e=[":active"],l=C.matchesSelector||C.mozMatchesSelector||C.webkitMatchesSelector||C.oMatchesSelector||C.msMatchesSelector;I(function(a){a.innerHTML=
"\x3cselect\x3e\x3coption selected\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[selected]").length||b.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||b.push(":checked")});I(function(a){a.innerHTML="\x3cp test\x3d''\x3e\x3c/p\x3e";a.querySelectorAll("[test^\x3d'']").length&&b.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="\x3cinput type\x3d'hidden'\x3e";a.querySelectorAll(":enabled").length||
b.push(":enabled",":disabled")});b=b.length&&new RegExp(b.join("|"));Xa=function(a,h,e,l,f){if(!(l||f||b&&b.test(a)))if(9===h.nodeType)try{return M.apply(e,n.call(h.querySelectorAll(a),0)),e}catch(w){}else if(1===h.nodeType&&"object"!==h.nodeName.toLowerCase()){var k=h.getAttribute("id"),m=k||t,x=Na.test(a)&&h.parentNode||h;k?m=m.replace(d,"\\$\x26"):h.setAttribute("id",m);try{return M.apply(e,n.call(x.querySelectorAll(a.replace(da,"[id\x3d'"+m+"'] $\x26")),0)),e}catch(w){}finally{k||h.removeAttribute("id")}}return c(a,
h,e,l,f)};l&&(I(function(c){a=l.call(c,"div");try{l.call(c,"[test!\x3d'']:sizzle"),e.push(ca.match.PSEUDO)}catch(d){}}),e=new RegExp(e.join("|")),ba.matchesSelector=function(c,d){d=d.replace(h,"\x3d'$1']");if(!(O(c)||e.test(d)||b&&b.test(d)))try{var f=l.call(c,d);if(f||a||c.document&&11!==c.document.nodeType)return f}catch(w){}return 0<ba(d,null,null,[c]).length})}();ba.attr=d.attr;d.find=ba;d.expr=ba.selectors;d.expr[":"]=d.expr.pseudos;d.unique=ba.uniqueSort;d.text=ba.getText;d.isXMLDoc=ba.isXML;
d.contains=ba.contains})(b);var zd=/Until$/,Ad=/^(?:parents|prev(?:Until|All))/,Hb=/^.[^:#\[\.,]*$/,ic=d.expr.match.needsContext,Nb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var c,h,b,e,l,f,k=this;if("string"!==typeof a)return d(a).filter(function(){c=0;for(h=k.length;c<h;c++)if(d.contains(k[c],this))return!0});f=this.pushStack("","find",a);c=0;for(h=this.length;c<h;c++)if(b=f.length,d.find(a,this[c],f),0<c)for(e=b;e<f.length;e++)for(l=0;l<b;l++)if(f[l]===f[e]){f.splice(e--,
1);break}return f},has:function(a){var c,h=d(a,this),b=h.length;return this.filter(function(){for(c=0;c<b;c++)if(d.contains(this,h[c]))return!0})},not:function(a){return this.pushStack(n(this,a,!1),"not",a)},filter:function(a){return this.pushStack(n(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?ic.test(a)?0<=d(a,this.context).index(this[0]):0<d.filter(a,this).length:0<this.filter(a).length)},closest:function(a,c){for(var h,b=0,e=this.length,l=[],f=ic.test(a)||"string"!==
typeof a?d(a,c||this.context):0;b<e;b++)for(h=this[b];h&&h.ownerDocument&&h!==c&&11!==h.nodeType;){if(f?-1<f.index(h):d.find.matchesSelector(h,a)){l.push(h);break}h=h.parentNode}l=1<l.length?d.unique(l):l;return this.pushStack(l,"closest",a)},index:function(a){return a?"string"===typeof a?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,c){var h="string"===typeof a?d(a,c):d.makeArray(a&&a.nodeType?[a]:a),b=d.merge(this.get(),
h);return this.pushStack(q(h[0])||q(b[0])?b:d.unique(b))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,c,h){return d.dir(a,"parentNode",h)},next:function(a){return t(a,"nextSibling")},prev:function(a){return t(a,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},
prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,c,h){return d.dir(a,"nextSibling",h)},prevUntil:function(a,c,h){return d.dir(a,"previousSibling",h)},siblings:function(a){return d.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.merge([],a.childNodes)}},function(a,c){d.fn[a]=function(h,b){var e=d.map(this,c,h);zd.test(a)||(b=h);b&&
"string"===typeof b&&(e=d.filter(b,e));e=1<this.length&&!Nb[a]?d.unique(e):e;1<this.length&&Ad.test(a)&&(e=e.reverse());return this.pushStack(e,a,Z.call(arguments).join(","))}});d.extend({filter:function(a,c,h){h&&(a=":not("+a+")");return 1===c.length?d.find.matchesSelector(c[0],a)?[c[0]]:[]:d.find.matches(a,c)},dir:function(a,c,h){var b=[];for(a=a[c];a&&9!==a.nodeType&&(h===f||1!==a.nodeType||!d(a).is(h));)1===a.nodeType&&b.push(a),a=a[c];return b},sibling:function(a,c){for(var d=[];a;a=a.nextSibling)1===
a.nodeType&&a!==c&&d.push(a);return d}});var Ma="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Bd=/ jQuery\d+="(?:null|\d+)"/g,Pc=/^\s+/,pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qc=/<([\w:]+)/,Ia=/<tbody/i,S=/<|&#?\w+;/,Ge=/<(?:script|style|link)/i,Cd=/<(?:script|object|embed|option|style)/i,Za=new RegExp("\x3c(?:"+Ma+")[\\s/\x3e]","i"),Wb=/^(?:checkbox|radio)$/,
Rc=/checked\s*(?:[^=]|=\s*.checked.)/i,Dd=/\/(java|ecma)script/i,Sc=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,xa={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],
area:[1,"\x3cmap\x3e","\x3c/map\x3e"],_default:[0,"",""]},Tc=A(y),gb=Tc.appendChild(y.createElement("div"));xa.optgroup=xa.option;xa.tbody=xa.tfoot=xa.colgroup=xa.caption=xa.thead;xa.th=xa.td;d.support.htmlSerialize||(xa._default=[1,"X\x3cdiv\x3e","\x3c/div\x3e"]);d.fn.extend({text:function(a){return d.access(this,function(a){return a===f?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(c){d(this).wrapAll(a.call(this,
c))});if(this[0]){var c=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(c){d(this).wrapInner(a.call(this,c))}):this.each(function(){var c=d(this),h=c.contents();h.length?h.wrapAll(a):c.append(a)})},wrap:function(a){var c=d.isFunction(a);return this.each(function(h){d(this).wrapAll(c?
a.call(this,h):a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!q(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,
this)});if(arguments.length){var a=d.clean(arguments);return this.pushStack(d.merge(a,this),"before",this.selector)}},after:function(){if(!q(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=d.clean(arguments);return this.pushStack(d.merge(this,a),"after",this.selector)}},remove:function(a,c){for(var h,b=0;null!=(h=this[b]);b++)if(!a||d.filter(a,[h]).length)c||1!==h.nodeType||(d.cleanData(h.getElementsByTagName("*")),
d.cleanData([h])),h.parentNode&&h.parentNode.removeChild(h);return this},empty:function(){for(var a,c=0;null!=(a=this[c]);c++)for(1===a.nodeType&&d.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,c){a=null==a?!1:a;c=null==c?a:c;return this.map(function(){return d.clone(this,a,c)})},html:function(a){return d.access(this,function(a){var h=this[0]||{},b=0,e=this.length;if(a===f)return 1===h.nodeType?h.innerHTML.replace(Bd,""):f;if(!("string"!==
typeof a||Ge.test(a)||!d.support.htmlSerialize&&Za.test(a)||!d.support.leadingWhitespace&&Pc.test(a)||xa[(Qc.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(pb,"\x3c$1\x3e\x3c/$2\x3e");try{for(;b<e;b++)h=this[b]||{},1===h.nodeType&&(d.cleanData(h.getElementsByTagName("*")),h.innerHTML=a);h=0}catch(l){}}h&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!q(this[0])){if(d.isFunction(a))return this.each(function(c){var h=d(this),b=h.html();h.replaceWith(a.call(this,c,b))});
"string"!==typeof a&&(a=d(a).detach());return this.each(function(){var c=this.nextSibling,h=this.parentNode;d(this).remove();c?d(c).before(a):d(h).append(a)})}return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,h){a=[].concat.apply([],a);var b,e,l,k=0,m=a[0],x=[],g=this.length;if(!d.support.checkClone&&1<g&&"string"===typeof m&&Rc.test(m))return this.each(function(){d(this).domManip(a,c,h)});if(d.isFunction(m))return this.each(function(b){var e=
d(this);a[0]=m.call(this,b,c?e.html():f);e.domManip(a,c,h)});if(this[0]){b=d.buildFragment(a,this,x);l=b.fragment;e=l.firstChild;1===l.childNodes.length&&(l=e);if(e)for(c=c&&d.nodeName(e,"tr"),b=b.cacheable||g-1;k<g;k++)h.call(c&&d.nodeName(this[k],"table")?Q(this[k],"tbody"):this[k],k===b?l:d.clone(l,!0,!0));l=e=null;x.length&&d.each(x,function(a,c){c.src?d.ajax?d.ajax({url:c.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):d.error("no ajax"):d.globalEval((c.text||c.textContent||
c.innerHTML||"").replace(Sc,""));c.parentNode&&c.parentNode.removeChild(c)})}return this}});d.buildFragment=function(a,c,h){var b,e,l,k=a[0];c=c||y;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;"undefined"===typeof c.createDocumentFragment&&(c=y);!(1===a.length&&"string"===typeof k&&512>k.length&&c===y&&"\x3c"===k.charAt(0))||Cd.test(k)||!d.support.checkClone&&Rc.test(k)||!d.support.html5Clone&&Za.test(k)||(e=!0,b=d.fragments[k],l=b!==f);b||(b=c.createDocumentFragment(),d.clean(a,c,b,h),e&&(d.fragments[k]=
l&&b));return{fragment:b,cacheable:e}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){d.fn[a]=function(b){var e,l=0,f=[];b=d(b);var k=b.length;e=1===this.length&&this[0].parentNode;if((null==e||e&&11===e.nodeType&&1===e.childNodes.length)&&1===k)return b[c](this[0]),this;for(;l<k;l++)e=(0<l?this.clone(!0):this).get(),d(b[l])[c](e),f=f.concat(e);return this.pushStack(f,a,b.selector)}});d.extend({clone:function(a,
c,b){var e,l,f,k;d.support.html5Clone||d.isXMLDoc(a)||!Za.test("\x3c"+a.nodeName+"\x3e")?k=a.cloneNode(!0):(gb.innerHTML=a.outerHTML,gb.removeChild(k=gb.firstChild));if(!(d.support.noCloneEvent&&d.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||d.isXMLDoc(a)))for(F(a,k),e=O(a),l=O(k),f=0;e[f];++f)l[f]&&F(e[f],l[f]);if(c&&(K(a,k),b))for(e=O(a),l=O(k),f=0;e[f];++f)K(e[f],l[f]);return k},clean:function(a,c,b,e){var l,f,k,m,x,g,u=0,p=[];c&&"undefined"!==typeof c.createDocumentFragment||(c=y);
for(f=c===y&&Tc;null!=(k=a[u]);u++)if("number"===typeof k&&(k+=""),k){if("string"===typeof k)if(S.test(k)){f=f||A(c);g=g||f.appendChild(c.createElement("div"));k=k.replace(pb,"\x3c$1\x3e\x3c/$2\x3e");l=(Qc.exec(k)||["",""])[1].toLowerCase();m=xa[l]||xa._default;x=m[0];for(g.innerHTML=m[1]+k+m[2];x--;)g=g.lastChild;if(!d.support.tbody)for(x=Ia.test(k),m="table"!==l||x?"\x3ctable\x3e"!==m[1]||x?[]:g.childNodes:g.firstChild&&g.firstChild.childNodes,l=m.length-1;0<=l;--l)d.nodeName(m[l],"tbody")&&!m[l].childNodes.length&&
m[l].parentNode.removeChild(m[l]);!d.support.leadingWhitespace&&Pc.test(k)&&g.insertBefore(c.createTextNode(Pc.exec(k)[0]),g.firstChild);k=g.childNodes;g=f.lastChild}else k=c.createTextNode(k);k.nodeType?p.push(k):p=d.merge(p,k)}g&&(f.removeChild(g),k=g=f=null);if(!d.support.appendChecked)for(u=0;null!=(k=p[u]);u++)d.nodeName(k,"input")?B(k):"undefined"!==typeof k.getElementsByTagName&&d.grep(k.getElementsByTagName("input"),B);if(b)for(a=function(a){if(!a.type||Dd.test(a.type))return e?e.push(a.parentNode?
a.parentNode.removeChild(a):a):b.appendChild(a)},u=0;null!=(k=p[u]);u++)d.nodeName(k,"script")&&a(k)||(b.appendChild(k),"undefined"!==typeof k.getElementsByTagName&&(k=d.grep(d.merge([],k.getElementsByTagName("script")),a),p.splice.apply(p,[u+1,0].concat(k)),u+=k.length));return p},cleanData:function(a,c){for(var b,e,l,f,k=0,m=d.expando,g=d.cache,x=d.support.deleteExpando,u=d.event.special;null!=(l=a[k]);k++)if(c||d.acceptData(l))if(b=(e=l[m])&&g[e]){if(b.events)for(f in b.events)u[f]?d.event.remove(l,
f):d.removeEvent(l,f,b.handle);g[e]&&(delete g[e],x?delete l[m]:l.removeAttribute?l.removeAttribute(m):l[m]=null,d.deletedIds.push(e))}}});(function(){var a,c;d.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=d.uaMatch(l.userAgent);c={};a.browser&&(c[a.browser]=
!0,c.version=a.version);c.webkit&&(c.safari=!0);d.browser=c;d.sub=function(){function a(c,d){return new a.fn.init(c,d)}d.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(b,e){e&&e instanceof d&&!(e instanceof a)&&(e=a(e));return d.fn.init.call(this,b,e,c)};a.fn.init.prototype=a.fn;var c=a(y);return a}})();var wa,eb,Ga,jc=/alpha\([^)]*\)/i,Ed=/opacity=([^)]*)/,Uc=/^(top|right|bottom|left)$/,Ob=/^margin/,qe=new RegExp("^("+fb+")(.*)$",
"i"),Ib=new RegExp("^("+fb+")(?!px)[a-z%]+$","i"),He=new RegExp("^([-+])\x3d("+fb+")","i"),Xb={},Ie={position:"absolute",visibility:"hidden",display:"block"},Fd={letterSpacing:0,fontWeight:400,lineHeight:1},db=["Top","Right","Bottom","Left"],rd=["Webkit","O","Moz","ms"],Je=d.fn.toggle;d.fn.extend({css:function(a,c){return d.access(this,function(a,c,b){return b!==f?d.style(a,c,b):d.css(a,c)},a,c,1<arguments.length)},show:function(){return da(this,!0)},hide:function(){return da(this)},toggle:function(a,
c){var b="boolean"===typeof a;return d.isFunction(a)&&d.isFunction(c)?Je.apply(this,arguments):this.each(function(){(b?a:e(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(a,c){if(c){var d=wa(a,"opacity");return""===d?"1":d}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,b,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var l,
m,g,x=d.camelCase(c),u=a.style;c=d.cssProps[x]||(d.cssProps[x]=k(u,x));g=d.cssHooks[c]||d.cssHooks[x];if(b!==f){if(m=typeof b,"string"===m&&(l=He.exec(b))&&(b=(l[1]+1)*l[2]+parseFloat(d.css(a,c)),m="number"),!(null==b||"number"===m&&isNaN(b)||("number"!==m||d.cssNumber[x]||(b+="px"),g&&"set"in g&&(b=g.set(a,b,e))===f)))try{u[c]=b}catch(y){}}else return g&&"get"in g&&(l=g.get(a,!1,e))!==f?l:u[c]}},css:function(a,c,b,e){var l,m;m=d.camelCase(c);c=d.cssProps[m]||(d.cssProps[m]=k(a.style,m));(m=d.cssHooks[c]||
d.cssHooks[m])&&"get"in m&&(l=m.get(a,!0,e));l===f&&(l=wa(a,c));"normal"===l&&c in Fd&&(l=Fd[c]);return b||e!==f?(a=parseFloat(l),b||d.isNumeric(a)?a||0:l):l},swap:function(a,c,d){var b,e={};for(b in c)e[b]=a.style[b],a.style[b]=c[b];d=d.call(a);for(b in c)a.style[b]=e[b];return d}});b.getComputedStyle?wa=function(a,c){var b,e,l,f,k=getComputedStyle(a,null),m=a.style;k&&(b=k[c],""!==b||d.contains(a.ownerDocument.documentElement,a)||(b=d.style(a,c)),Ib.test(b)&&Ob.test(c)&&(e=m.width,l=m.minWidth,
f=m.maxWidth,m.minWidth=m.maxWidth=m.width=b,b=k.width,m.width=e,m.minWidth=l,m.maxWidth=f));return b}:y.documentElement.currentStyle&&(wa=function(a,c){var d,b,e=a.currentStyle&&a.currentStyle[c],l=a.style;null==e&&l&&l[c]&&(e=l[c]);if(Ib.test(e)&&!Uc.test(c)){d=l.left;if(b=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;l.left="fontSize"===c?"1em":e;e=l.pixelLeft+"px";l.left=d;b&&(a.runtimeStyle.left=b)}return""===e?"auto":e});d.each(["height","width"],function(a,c){d.cssHooks[c]=
{get:function(a,b,e){if(b)return 0!==a.offsetWidth||"none"!==wa(a,"display")?ia(a,c,e):d.swap(a,Ie,function(){return ia(a,c,e)})},set:function(a,b,e){return R(a,b,e?G(a,c,e,d.support.boxSizing&&"border-box"===d.css(a,"boxSizing")):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(a,c){return Ed.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(a,c){var b=a.style,e=a.currentStyle,l=d.isNumeric(c)?"alpha(opacity\x3d"+100*
c+")":"",f=e&&e.filter||b.filter||"";b.zoom=1;if(1<=c&&""===d.trim(f.replace(jc,""))&&b.removeAttribute&&(b.removeAttribute("filter"),e&&!e.filter))return;b.filter=jc.test(f)?f.replace(jc,l):f+" "+l}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(a,c){return d.swap(a,{display:"inline-block"},function(){if(c)return wa(a,"marginRight")})}});!d.support.pixelPosition&&d.fn.position&&d.each(["top","left"],function(a,c){d.cssHooks[c]={get:function(a,b){if(b){var e=wa(a,
c);return Ib.test(e)?d(a).position()[c]+"px":e}}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!d.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||1===a.nodeType&&wa(a,"display"))},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});d.each({margin:"",padding:"",border:"Width"},function(a,c){d.cssHooks[a+c]={expand:function(d){var b="string"===typeof d?d.split(" "):[d],e={};for(d=0;4>d;d++)e[a+db[d]+
c]=b[d]||b[d-2]||b[0];return e}};Ob.test(a)||(d.cssHooks[a+c].set=R)});var Ke=/%20/g,re=/\[\]$/,Gd=/\r?\n/g,Le=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Me=/^(?:select|textarea)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||
Me.test(this.nodeName)||Le.test(this.type))}).map(function(a,c){var b=d(this).val();return null==b?null:d.isArray(b)?d.map(b,function(a,d){return{name:c.name,value:a.replace(Gd,"\r\n")}}):{name:c.name,value:b.replace(Gd,"\r\n")}}).get()}});d.param=function(a,c){var b,e=[],l=function(a,c){c=d.isFunction(c)?c():null==c?"":c;e[e.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(c)};c===f&&(c=d.ajaxSettings&&d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){l(this.name,
this.value)});else for(b in a)ma(b,a[b],c,l);return e.join("\x26").replace(Ke,"+")};var Sa,qb,Vc=/#.*$/,Ne=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Oe=/^(?:GET|HEAD)$/,kc=/^\/\//,lc=/\?/,mc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hd=/([?&])_=[^&]*/,nc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ta=d.fn.load,Ha={},Id={},Wc=["*/"]+["*"];try{Sa=Y.href}catch(a){Sa=y.createElement("a"),Sa.href="",Sa=Sa.href}qb=nc.exec(Sa.toLowerCase())||[];d.fn.load=function(a,c,b){if("string"!==typeof a&&Ta)return Ta.apply(this,
arguments);if(!this.length)return this;var e,l,k,m=this,g=a.indexOf(" ");0<=g&&(e=a.slice(g,a.length),a=a.slice(0,g));d.isFunction(c)?(b=c,c=f):"object"===typeof c&&(l="POST");d.ajax({url:a,type:l,dataType:"html",data:c,complete:function(a,c){b&&m.each(b,k||[a.responseText,c,a])}}).done(function(a){k=arguments;m.html(e?d("\x3cdiv\x3e").append(a.replace(mc,"")).find(e):a)});return this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){d.fn[c]=function(a){return this.on(c,
a)}});d.each(["get","post"],function(a,c){d[c]=function(a,b,e,l){d.isFunction(b)&&(l=l||e,e=b,b=f);return d.ajax({type:c,url:a,data:b,success:e,dataType:l})}});d.extend({getScript:function(a,c){return d.get(a,f,c,"script")},getJSON:function(a,c,b){return d.get(a,c,b,"json")},ajaxSetup:function(a,c){c?qa(a,d.ajaxSettings):(c=a,a=d.ajaxSettings);qa(a,c);return a},ajaxSettings:{url:Sa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(qb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Wc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:p(Ha),ajaxTransport:p(Id),ajax:function(a,c){function b(a,c,h,k){var x,y,E,t,M=c;if(2!==q){q=2;g&&clearTimeout(g);
m=f;l=k||"";v.readyState=0<a?4:0;if(h){t=p;k=v;var N,R,da,T,Na=t.contents,A=t.dataTypes,H=t.responseFields;for(R in H)R in h&&(k[H[R]]=h[R]);for(;"*"===A[0];)A.shift(),N===f&&(N=t.mimeType||k.getResponseHeader("content-type"));if(N)for(R in Na)if(Na[R]&&Na[R].test(N)){A.unshift(R);break}if(A[0]in h)da=A[0];else{for(R in h){if(!A[0]||t.converters[R+" "+A[0]]){da=R;break}T||(T=R)}da=da||T}da?(da!==A[0]&&A.unshift(da),t=h[da]):t=void 0}if(200<=a&&300>a||304===a)if(p.ifModified&&((h=v.getResponseHeader("Last-Modified"))&&
(d.lastModified[e]=h),(h=v.getResponseHeader("Etag"))&&(d.etag[e]=h)),304===a)M="notmodified",x=!0;else{a:{y=p;E=t;var Z,D,M=y.dataTypes.slice();N=M[0];R={};da=0;y.dataFilter&&(E=y.dataFilter(E,y.dataType));if(M[1])for(Z in y.converters)R[Z.toLowerCase()]=y.converters[Z];for(;h=M[++da];)if("*"!==h){if("*"!==N&&N!==h){Z=R[N+" "+h]||R["* "+h];if(!Z)for(D in R)if(x=D.split(" "),x[1]===h&&(Z=R[N+" "+x[0]]||R["* "+x[0]])){!0===Z?Z=R[D]:!0!==R[D]&&(h=x[0],M.splice(da--,0,h));break}if(!0!==Z)if(Z&&y["throws"])E=
Z(E);else try{E=Z(E)}catch(F){x={state:"parsererror",error:Z?F:"No conversion from "+N+" to "+h};break a}}N=h}x={state:"success",data:E}}M=x.state;y=x.data;E=x.error;x=!E}else if(E=M,!M||a)M="error",0>a&&(a=0);v.status=a;v.statusText=""+(c||M);x?oa.resolveWith(C,[y,M,v]):oa.rejectWith(C,[v,M,E]);v.statusCode(G);G=f;u&&B.trigger("ajax"+(x?"Success":"Error"),[v,p,x?y:E]);n.fireWith(C,[v,M]);u&&(B.trigger("ajaxComplete",[v,p]),--d.active||d.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=f);
c=c||{};var e,l,k,m,g,x,u,y,p=d.ajaxSetup({},c),C=p.context||p,B=C!==p&&(C.nodeType||C instanceof d)?d(C):d.event,oa=d.Deferred(),n=d.Callbacks("once memory"),G=p.statusCode||{},t={},M={},q=0,N="canceled",v={readyState:0,setRequestHeader:function(a,c){if(!q){var d=a.toLowerCase();a=M[d]=M[d]||a;t[a]=c}return this},getAllResponseHeaders:function(){return 2===q?l:null},getResponseHeader:function(a){var c;if(2===q){if(!k)for(k={};c=Ne.exec(l);)k[c[1].toLowerCase()]=c[2];c=k[a.toLowerCase()]}return c===
f?null:c},overrideMimeType:function(a){q||(p.mimeType=a);return this},abort:function(a){a=a||N;m&&m.abort(a);b(0,a);return this}};oa.promise(v);v.success=v.done;v.error=v.fail;v.complete=n.add;v.statusCode=function(a){if(a){var c;if(2>q)for(c in a)G[c]=[G[c],a[c]];else c=a[v.status],v.always(c)}return this};p.url=((a||p.url)+"").replace(Vc,"").replace(kc,qb[1]+"//");p.dataTypes=d.trim(p.dataType||"*").toLowerCase().split(Wa);null==p.crossDomain&&(x=nc.exec(p.url.toLowerCase()),p.crossDomain=!(!x||
x[1]==qb[1]&&x[2]==qb[2]&&(x[3]||("http:"===x[1]?80:443))==(qb[3]||("http:"===qb[1]?80:443))));p.data&&p.processData&&"string"!==typeof p.data&&(p.data=d.param(p.data,p.traditional));T(Ha,p,c,v);if(2===q)return v;u=p.global;p.type=p.type.toUpperCase();p.hasContent=!Oe.test(p.type);u&&0===d.active++&&d.event.trigger("ajaxStart");if(!p.hasContent&&(p.data&&(p.url+=(lc.test(p.url)?"\x26":"?")+p.data,delete p.data),e=p.url,!1===p.cache)){x=d.now();var R=p.url.replace(Hd,"$1_\x3d"+x);p.url=R+(R===p.url?
(lc.test(p.url)?"\x26":"?")+"_\x3d"+x:"")}(p.data&&p.hasContent&&!1!==p.contentType||c.contentType)&&v.setRequestHeader("Content-Type",p.contentType);p.ifModified&&(e=e||p.url,d.lastModified[e]&&v.setRequestHeader("If-Modified-Since",d.lastModified[e]),d.etag[e]&&v.setRequestHeader("If-None-Match",d.etag[e]));v.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wc+"; q\x3d0.01":""):p.accepts["*"]);for(y in p.headers)v.setRequestHeader(y,
p.headers[y]);if(p.beforeSend&&(!1===p.beforeSend.call(C,v,p)||2===q))return v.abort();N="abort";for(y in{success:1,error:1,complete:1})v[y](p[y]);if(m=T(Id,p,c,v)){v.readyState=1;u&&B.trigger("ajaxSend",[v,p]);p.async&&0<p.timeout&&(g=setTimeout(function(){v.abort("timeout")},p.timeout));try{q=1,m.send(t,b)}catch(da){if(2>q)b(-1,da);else throw da;}}else b(-1,"No Transport");return v},active:0,lastModified:{},etag:{}});var Xc=[],Jd=/\?/,Ab=/(=)\?(?=&|$)|\?\?/,Yc=d.now();d.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=Xc.pop()||d.expando+"_"+Yc++;this[a]=!0;return a}});d.ajaxPrefilter("json jsonp",function(a,c,h){var e,l,k,m=a.data,x=a.url,g=!1!==a.jsonp,p=g&&Ab.test(x),u=g&&!p&&"string"===typeof m&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ab.test(m);if("jsonp"===a.dataTypes[0]||p||u)return e=a.jsonpCallback=d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l=b[e],p?a.url=x.replace(Ab,"$1"+e):u?a.data=m.replace(Ab,"$1"+e):g&&(a.url+=(Jd.test(x)?
"\x26":"?")+a.jsonp+"\x3d"+e),a.converters["script json"]=function(){k||d.error(e+" was not called");return k[0]},a.dataTypes[0]="json",b[e]=function(){k=arguments},h.always(function(){b[e]=l;a[e]&&(a.jsonpCallback=c.jsonpCallback,Xc.push(e));k&&d.isFunction(l)&&l(k[0]);k=l=f}),"script"});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);
return a}}});d.ajaxPrefilter("script",function(a){a.cache===f&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});d.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=y.head||y.getElementsByTagName("head")[0]||y.documentElement;return{send:function(b,e){c=y.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=
null,d&&c.parentNode&&d.removeChild(c),c=f,b||e(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var $a,Zc=b.ActiveXObject?function(){for(var a in $a)$a[a](0,1)}:!1,Pe=0;d.ajaxSettings.xhr=b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&N()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:N;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||
d.support.cors){var c;return{send:function(e,l){var k,m,x=a.xhr();a.username?x.open(a.type,a.url,a.async,a.username,a.password):x.open(a.type,a.url,a.async);if(a.xhrFields)for(m in a.xhrFields)x[m]=a.xhrFields[m];a.mimeType&&x.overrideMimeType&&x.overrideMimeType(a.mimeType);a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(m in e)x.setRequestHeader(m,e[m])}catch(g){}x.send(a.hasContent&&a.data||null);c=function(b,e){var h,m,g,p,u;try{if(c&&(e||4===x.readyState))if(c=
f,k&&(x.onreadystatechange=d.noop,Zc&&delete $a[k]),e)4!==x.readyState&&x.abort();else{h=x.status;g=x.getAllResponseHeaders();p={};(u=x.responseXML)&&u.documentElement&&(p.xml=u);try{p.text=x.responseText}catch(y){}try{m=x.statusText}catch(y){m=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=p.text?200:404}}catch(y){e||l(-1,y)}p&&l(h,m,p,g)};a.async?4===x.readyState?setTimeout(c,0):(k=++Pe,Zc&&($a||($a={},d(b).unload(Zc)),$a[k]=c),x.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var Jb,
hb,$c=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([-+])\x3d|)("+fb+")([a-z%]*)$","i"),Re=/queueHooks$/,Zb=[function(a,c,b){var l,f,k,m,x,g,p=this,u=a.style,y={},C=[],B=a.nodeType&&e(a);b.queue||(x=d._queueHooks(a,"fx"),null==x.unqueued&&(x.unqueued=0,g=x.empty.fire,x.empty.fire=function(){x.unqueued||g()}),x.unqueued++,p.always(function(){p.always(function(){x.unqueued--;d.queue(a,"fx").length||x.empty.fire()})}));1===a.nodeType&&("height"in c||"width"in c)&&(b.overflow=[u.overflow,u.overflowX,u.overflowY],
"inline"===d.css(a,"display")&&"none"===d.css(a,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==ka(a.nodeName)?u.zoom=1:u.display="inline-block"));b.overflow&&(u.overflow="hidden",d.support.shrinkWrapBlocks||p.done(function(){u.overflow=b.overflow[0];u.overflowX=b.overflow[1];u.overflowY=b.overflow[2]}));for(l in c)f=c[l],$c.exec(f)&&(delete c[l],f!==(B?"hide":"show")&&C.push(l));if(f=C.length)for(k=d._data(a,"fxshow")||d._data(a,"fxshow",{}),B?d(a).show():p.done(function(){d(a).hide()}),
p.done(function(){var c;d.removeData(a,"fxshow",!0);for(c in y)d.style(a,c,y[c])}),l=0;l<f;l++)c=C[l],m=p.createTween(c,B?k[c]:0),y[c]=k[c]||d.style(a,c),c in k||(k[c]=m.start,B&&(m.end=m.start,m.start="width"===c||"height"===c?1:0))}],Kb={"*":[function(a,c){var b,e,l,f=this.createTween(a,c),k=Qe.exec(c),m=f.cur(),x=+m||0,g=1;if(k){b=+k[2];e=k[3]||(d.cssNumber[a]?"":"px");if("px"!==e&&x){x=d.css(f.elem,a,!0)||b||1;do l=g=g||".5",x/=g,d.style(f.elem,a,x+e),g=f.cur()/m;while(1!==g&&g!==l)}f.unit=e;
f.start=x;f.end=k[1]?x+(k[1]+1)*b:b}return f}]};d.Animation=d.extend(C,{tweener:function(a,c){d.isFunction(a)?(c=a,a=["*"]):a=a.split(" ");for(var b,e=0,l=a.length;e<l;e++)b=a[e],Kb[b]=Kb[b]||[],Kb[b].unshift(c)},prefilter:function(a,c){c?Zb.unshift(a):Zb.push(a)}});d.Tween=fa;fa.prototype={constructor:fa,init:function(a,c,b,e,l,f){this.elem=a;this.prop=b;this.easing=l||"swing";this.options=c;this.start=this.now=this.cur();this.end=e;this.unit=f||(d.cssNumber[b]?"":"px")},cur:function(){var a=fa.propHooks[this.prop];
return a&&a.get?a.get(this):fa.propHooks._default.get(this)},run:function(a){var c=fa.propHooks[this.prop];this.pos=a=d.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration);this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):fa.propHooks._default.set(this);return this}};fa.prototype.init.prototype=fa.prototype;fa.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=
a.elem.style[a.prop]?(a=d.css(a.elem,a.prop,!1,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(d.fx.step[a.prop])d.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[d.cssProps[a.prop]]||d.cssHooks[a.prop])?d.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};fa.propHooks.scrollTop=fa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};d.each(["toggle","show","hide"],function(a,c){var b=d.fn[c];d.fn[c]=function(e,l,f){return null==
e||"boolean"===typeof e||!a&&d.isFunction(e)&&d.isFunction(l)?b.apply(this,arguments):this.animate(na(c,!0),e,l,f)}});d.fn.extend({fadeTo:function(a,c,d,b){return this.filter(e).css("opacity",0).show().end().animate({opacity:c},a,d,b)},animate:function(a,c,b,e){var l=d.isEmptyObject(a),f=d.speed(c,b,e);c=function(){var c=C(this,d.extend({},a),f);l&&c.stop(!0)};return l||!1===f.queue?this.each(c):this.queue(f.queue,c)},stop:function(a,c,b){var e=function(a){var c=a.stop;delete a.stop;c(b)};"string"!==
typeof a&&(b=c,c=a,a=f);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var c=!0,l=null!=a&&a+"queueHooks",f=d.timers,k=d._data(this);if(l)k[l]&&k[l].stop&&e(k[l]);else for(l in k)k[l]&&k[l].stop&&Re.test(l)&&e(k[l]);for(l=f.length;l--;)f[l].elem!==this||null!=a&&f[l].queue!==a||(f[l].anim.stop(b),c=!1,f.splice(l,1));!c&&b||d.dequeue(this,a)})}});d.each({slideDown:na("show"),slideUp:na("hide"),slideToggle:na("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,c){d.fn[a]=function(a,d,b){return this.animate(c,a,d,b)}});d.speed=function(a,c,b){var e=a&&"object"===typeof a?d.extend({},a):{complete:b||!b&&c||d.isFunction(a)&&a,duration:a,easing:b&&c||c&&!d.isFunction(c)&&c};e.duration=d.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,
e.queue)};return e};d.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};d.timers=[];d.fx=fa.prototype.init;d.fx.tick=function(){for(var a,c=d.timers,b=0;b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||d.fx.stop()};d.fx.timer=function(a){a()&&d.timers.push(a)&&!hb&&(hb=setInterval(d.fx.tick,d.fx.interval))};d.fx.interval=13;d.fx.stop=function(){clearInterval(hb);hb=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&
(d.expr.filters.animated=function(a){return d.grep(d.timers,function(c){return a===c.elem}).length});var oc=/^(?:body|html)$/i;d.fn.offset=function(a){if(arguments.length)return a===f?this:this.each(function(c){d.offset.setOffset(this,a,c)});var c,b,e,l,k,m;if(k=(c=this[0])&&c.ownerDocument){if((e=k.body)===c)return d.offset.bodyOffset(c);b=k.documentElement;if(!d.contains(b,c))return{top:0,left:0};c=c.getBoundingClientRect();l=ra(k);k=b.clientTop||e.clientTop||0;e=b.clientLeft||e.clientLeft||0;m=
l.pageYOffset||b.scrollTop;b=l.pageXOffset||b.scrollLeft;k=c.top+m-k;c=c.left+b-e;return{top:k,left:c}}};d.offset={bodyOffset:function(a){var c=a.offsetTop,b=a.offsetLeft;d.support.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(d.css(a,"marginTop"))||0,b+=parseFloat(d.css(a,"marginLeft"))||0);return{top:c,left:b}},setOffset:function(a,c,b){var e=d.css(a,"position");"static"===e&&(a.style.position="relative");var l=d(a),f=l.offset(),k=d.css(a,"top"),m=d.css(a,"left"),x={},g={};("absolute"===e||"fixed"===
e)&&-1<d.inArray("auto",[k,m])?(g=l.position(),e=g.top,m=g.left):(e=parseFloat(k)||0,m=parseFloat(m)||0);d.isFunction(c)&&(c=c.call(a,b,f));null!=c.top&&(x.top=c.top-f.top+e);null!=c.left&&(x.left=c.left-f.left+m);"using"in c?c.using.call(a,x):l.css(x)}};d.fn.extend({position:function(){if(this[0]){var a=this[0],c=this.offsetParent(),b=this.offset(),e=oc.test(c[0].nodeName)?{top:0,left:0}:c.offset();b.top-=parseFloat(d.css(a,"marginTop"))||0;b.left-=parseFloat(d.css(a,"marginLeft"))||0;e.top+=parseFloat(d.css(c[0],
"borderTopWidth"))||0;e.left+=parseFloat(d.css(c[0],"borderLeftWidth"))||0;return{top:b.top-e.top,left:b.left-e.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||y.body;a&&!oc.test(a.nodeName)&&"static"===d.css(a,"position");)a=a.offsetParent;return a||y.body})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var b=/Y/.test(c);d.fn[a]=function(e){return d.access(this,function(a,e,l){var k=ra(a);if(l===f)return k?c in k?k[c]:k.document.documentElement[e]:
a[e];k?k.scrollTo(b?d(k).scrollLeft():l,b?l:d(k).scrollTop()):a[e]=l},a,e,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(a,c){d.each({padding:"inner"+a,content:c,"":"outer"+a},function(b,e){d.fn[e]=function(e,l){var k=arguments.length&&(b||"boolean"!==typeof e),m=b||(!0===e||!0===l?"margin":"border");return d.access(this,function(c,b,e){return d.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(b=c.documentElement,Math.max(c.body["scroll"+a],b["scroll"+
a],c.body["offset"+a],b["offset"+a],b["client"+a])):e===f?d.css(c,b,e,m):d.style(c,b,e,m)},c,k?e:f,k)}})});b.jQuery=b.$=d})(window);var ajq;ajq=jQuery.noConflict(!0);window.ajq=ajq;(function(b,f,I){(function(b){ajq&&!ajq.fn.qtip&&b(ajq)})(function(g){function J(b){var e=function(b){return null===b||"object"!==typeof b},f=function(b){return!g.isFunction(b)&&(!b&&!b.attr||1>b.length||"object"===typeof b&&!b.jquery)};if(!b||"object"!==typeof b)return!1;e(b.metadata)&&(b.metadata={type:b.metadata});if("content"in
b){if(e(b.content)||b.content.jquery)b.content={text:b.content};f(b.content.text||!1)&&(b.content.text=!1);"title"in b.content&&(e(b.content.title)&&(b.content.title={text:b.content.title}),f(b.content.title.text||!1)&&(b.content.title.text=!1))}"position"in b&&e(b.position)&&(b.position={my:b.position,at:b.position});"show"in b&&e(b.show)&&(b.show=b.show.jquery?{target:b.show}:{event:b.show});"hide"in b&&e(b.hide)&&(b.hide=b.hide.jquery?{target:b.hide}:{event:b.hide});"style"in b&&e(b.style)&&(b.style=
{classes:b.style});g.each(K,function(){this.sanitize&&this.sanitize(b)});return b}function v(k,e,t,v){function G(b){var f=0,k,m=e;for(b=b.split(".");m=m[b[f++]];)f<b.length&&(k=m);return[k||e,b.pop()]}function n(b,e,f){b=g.Event("tooltip"+b);b.originalEvent=(f?g.extend({},f):null)||Y.event||null;D.trigger(b,[m].concat(e||[]));return!b.isDefaultPrevented()}function q(){var b=e.style.widget;D.toggleClass("ui-helper-reset ui-widget",b).toggleClass("evergage-tooltip-default",e.style.def&&!b);y.content&&
y.content.toggleClass("ui-widget-content",b);y.titlebar&&y.titlebar.toggleClass("ui-widget-header",b);y.button&&y.button.toggleClass("evergage-tooltip-icon",!b)}function A(b){y.title&&(y.titlebar.remove(),y.titlebar=y.title=y.button=null,!1!==b&&m.reposition())}function p(){var b=e.content.title.button,f="string"===typeof b?b:"Close tooltip";y.button&&y.button.remove();y.button=b.jquery?b:g("\x3cdiv /\x3e",{"class":"evergage-tooltip-close "+(e.style.widget?"":"evergage-tooltip-icon"),title:f,href:"Javascript:void(false);"}).prepend(g("\x3cspan /\x3e",
{"class":"evergage-ui-icon-close",html:"\x26times;"}));y.button.appendTo(y.titlebar).attr("role","button").click(function(b){D.hasClass("ui-state-disabled")||e&&e.bundle&&e.bundle.previewMode||m.hide(b);return!1});m.redraw()}function T(){var b=fa+"-title";y.titlebar&&A();y.titlebar=g("\x3cdiv /\x3e",{"class":"evergage-tooltip-titlebar "+(e.style.widget?"ui-widget-header":"")}).append(y.title=g("\x3cdiv /\x3e",{id:b,"class":"evergage-tooltip-title"})).insertBefore(y.content);e.content.title.button?
p():m.rendered&&m.redraw()}function H(){y.poweredByEvergage&&y.poweredByEvergage.remove();y.poweredByEvergage=g("\x3cdiv\x3e\x3c/div\x3e",{"class":"evergage poweredByEvergage"});var b=g("\x3ca\x3e\x3c/a\x3e",{href:"http://www.evergage.com?poweredByEvergage",target:"_blank",title:"Powered by Evergage"});g("\x3cimg /\x3e",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEN2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS4xLjIiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxMy0wNS0zMVQxMTowNTo0NTwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6Q29tcHJlc3Npb24+NTwvdGlmZjpDb21wcmVzc2lvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MTwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4yNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CmHSW3gAAAP/SURBVEgNtVVfTFtlFP/13v6/azsqbbGlIu3+wEihW4hlkixRHjaNBJYICagxDZo9YBwkMCNLJFFM9IEl0/ggupDgog9Tw4gx2Ts8sD/gtlDiYMDoAox2tqHa9rb0Xr/v4m24UhJI9DRfzz3nfOf8zv3O+c5ViaKI/5PUcnCVSsU0NjYGOY5r0Ol0pUSWTXviJNFMNpu9l0gkroyNjc3ITir6BrW1tRqv13vDbre/5Pf74fF4YLFYsF8QAoDV1VV+dHT0reHh4WsSCAVoamrqe//8eXFiYkJ8Go+JbRPfiOduXRWJw75WJpMRk6mUGA6H4y0tLTYam6EoZrO56WRdHXi3Be/N/gyf1Q2XsQhv3x7BfDIKtVotLZFhEc0yYP+RZb3MNRoNDHo9nnU6LR0dHadobKkG5My9FZWVmOSf4vABGz6sOE1t6J6+htDGE9xfNyOVy+H64p/4dVXApRdMeLfSBDVTuE4sw8Dn8x2iMSQAkgHzjNUKIR1HLJOkeol4IYVb62l8NhmBkxNx2m1Ee7kan0/HMPQgjaBXi8rIbZTYHTSg7CZxkrSEnu8ilmXxsqMCc39FcG7qe4Ccn17FYS5mQ51djdFXSuAwspLzwkYWDb88wdhSFi86i9B3sQ8DnwygpqZGAUIFqQay9ojJjkv+13HWUY033bUoY87gp0ccPg5Y88HpXo9Zg4vHzfiDF1B6zI/2tnYMfDogh1FwBYBsuTF4Bfy9MI4UARakYNXt3FbKqTGd5nB1LgFyd7CysiK7K/hOT2JeXl5GPB7Ha2UcvCYWI79vKJyoMPIggVNWAa8+x2FzcxMmk2nHHqrI12C7lbYdQzohnRNxkGT/5WwKOTGCNw4fIDrg29kN/LCQxp2zJThWpEFIFGAwGLaHyD8XBJCtelaF7xocmIlt4qObUXz1UES5Ogm3SYs2jwHPk1pQohdKT/q/EBUE4HleuljUwUnOmq5DZgd+fMTjjOsguYhaRSw6UnRanUInCwUB/DV+zD+cl/dIvJxk2+vbylhhIMLiwiKOVhz9t1qSCwJ0dnaip7cHXd1d5Oorz1aj1YCMARgNRlz+4jJSyRTWI+sYHBzcHUAQhBQ5R9KUW2Sz2TD09RBmQjPI8BlJSc+Z/h6HH6O3pxcerwdLS0vo7upGdXX1jiKT/WnqKL0BmZp3ySR00iDyiCZXHSeOn9hC3P5/Eqivr8eFDy7A5XIhEAhst+afSZv/VlxcvNUBzc3NDePj4wJPxu1eiY7yUCi02/ZJMq5ZmrDUYvSBnPs7a2triVwut5vTXvXjU1NTZTQmXdIXTX6v1tZWazAYDFRVVZXS2b4fInXko9HoffI1u9vf3y/IvgoAWflf8r8B05gl5ZrxIbMAAAAASUVORK5CYII\x3d"}).appendTo(b);
b.appendTo(y.poweredByEvergage);y.poweredByEvergage.insertAfter(y.content);m.rendered&&m.redraw()}function N(b,e){var f=y.title;if(!m.rendered||!b)return!1;g.isFunction(b)&&(b=b.call(k,Y.event,m));if(!1===b||!b&&""!==b)return A(!1);b.jquery&&0<b.length?f.empty().append(b.css({display:"block"})):f.html(b);m.redraw();!1!==e&&m.rendered&&0<D[0].offsetWidth&&m.reposition(Y.event)}function u(b,e){function f(b){function l(f){f&&(delete x[f.src],clearTimeout(m.timers.img[f.src]),g(f).unbind(X));g.isEmptyObject(x)&&
(m.redraw(),!1!==e&&m.reposition(Y.event),b())}var k,x={};if(0===(k=p.find("img[src]:not([height]):not([width])")).length)return l();k.each(function(b,d){if(x[d.src]===I){var e=0;(function Wa(){if(d.height||d.width||3<e)return l(d);e+=1;m.timers.img[d.src]=setTimeout(Wa,700)})();g(d).bind("error"+X+" load"+X,function(){l(this)});x[d.src]=d}})}var p=y.content;if(!m.rendered||!b)return!1;g.isFunction(b)&&(b=b.call(k,Y.event,m)||"");b.jquery&&0<b.length?p.empty().append(b.css({display:"block"})):p.html(b);
0>m.rendered?D.queue("fx",f):(ra=0,f(g.noop));return m}function M(){function l(d){try{if(D.hasClass("ui-state-disabled"))return!1;clearTimeout(m.timers.show);clearTimeout(m.timers.hide);var b=function(){m.toggle(!0,d)};0<e.show.delay?m.timers.show=setTimeout(b,e.show.delay):b()}catch(l){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(l,"messageShow")}}function p(d){try{if(D.hasClass("ui-state-disabled")||na||ra)return!1;var b=g(d.relatedTarget||d.target),
l=b.closest("div.evergage-qtip.evergage-tooltip")[0]===D[0],f=b[0]===B.show[0];clearTimeout(m.timers.show);clearTimeout(m.timers.hide);if("mouse"===C.target&&l||e.hide.fixed&&/mouse(out|leave|move)/.test(d.type)&&(l||f))try{d.preventDefault(),d.stopImmediatePropagation()}catch(k){}else 0<e.hide.delay?m.timers.hide=setTimeout(function(){m.hide(d)},e.hide.delay):m.hide(d)}catch(k){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(k,"messageHide")}}function x(d){try{if(D.hasClass("ui-state-disabled"))return!1;
clearTimeout(m.timers.inactive);m.timers.inactive=setTimeout(function(){m.hide(d)},e.hide.inactive)}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageInactiveTimer")}}function u(d){try{m.rendered&&0<D[0].offsetWidth&&m.reposition(d)}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageReposition")}}var C=e.position,B={show:e.show.target,hide:e.hide.target,viewport:g(C.viewport),
document:g(f),body:g(f.body),window:g(b)},M=g.trim(""+e.show.event).split(" "),n=g.trim(""+e.hide.event).split(" "),v=g.browser.msie&&6===parseInt(g.browser.version,10);D.bind("mouseenter"+X+" mouseleave"+X,function(d){var b="mouseenter"===d.type;b&&m.focus(d);D.toggleClass("evergage-tooltip-hover",b)});/mouse(out|leave)/i.test(e.hide.event)&&"window"===e.hide.leave&&B.window.bind("mouseout"+X+" blur"+X,function(d){try{/select|option/.test(d.target.nodeName)||d.relatedTarget||m.hide(d)}catch(b){"object"===
typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageMouseLeave")}});e.hide.fixed?(B.hide=B.hide.add(D),D.bind("mouseover"+X,function(){D.hasClass("ui-state-disabled")||clearTimeout(m.timers.hide)})):/mouse(over|enter)/i.test(e.show.event)&&B.hide.bind("mouseleave"+X,function(d){try{clearTimeout(m.timers.show)}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageMouseEnter")}});-1<(""+e.hide.event).indexOf("unfocus")&&
C.container.closest("html").bind("mousedown"+X+" touchstart"+X,function(d){try{var b=g(d.target);m.rendered&&D.hasClass("ui-state-disabled");var e=0<b.parents("div.evergage-qtip.evergage-tooltip").filter(D[0]).length;b[0]===k[0]||b[0]===D[0]||e||k.has(b[0]).length||b.attr("disabled")||m.hide(d)}catch(l){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(l,"messageUnfocusHide")}});"number"===typeof e.hide.inactive&&(B.show.bind("qtip-"+t+"-inactive",x),g.each(Q.inactiveEvents,
function(d,b){B.hide.add(y.tooltip).bind(b+X+"-inactive",x)}));g.each(n,function(d,b){var e=g.inArray(b,M),f=g(B.hide);-1<e&&f.add(B.show).length===f.length||"unfocus"===b?(B.show.bind(b+X,function(d){try{0<D[0].offsetWidth?p(d):l(d)}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageToggle")}}),delete M[e]):B.hide.bind(b+X,p)});g.each(M,function(d,b){B.show.bind(b+X,l)});"number"===typeof e.hide.distance&&B.show.add(D).bind("mousemove"+
X,function(d){var b=Y.origin||{},l=e.hide.distance,f=Math.abs;(f(d.pageX-b.pageX)>=l||f(d.pageY-b.pageY)>=l)&&m.hide(d)});"mouse"===C.target&&(B.show.bind("mousemove"+X,function(d){try{F={pageX:d.pageX,pageY:d.pageY,type:"mousemove"}}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageMouseMove")}}),C.adjust.mouse&&(e.hide.event&&(D.bind("mouseleave"+X,function(d){(d.relatedTarget||d.target)!==B.show[0]&&m.hide(d)}),y.target.bind("mouseenter"+
X+" mouseleave"+X,function(d){try{Y.onTarget="mouseenter"===d.type}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageMouseEnterLeave")}})),B.document.bind("mousemove"+X,function(d){try{m.rendered&&Y.onTarget&&!D.hasClass("ui-state-disabled")&&0<D[0].offsetWidth&&m.reposition(d||F)}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageMouseMoveEvents")}})));(C.adjust.resize||
B.viewport.length)&&(g.event.special.resize?B.viewport:B.window).bind("resize"+X,u);for(var n=g(e.position.target).parents().andSelf(),d=0;d<n.length;d++)g(n[d]).bind("scroll"+X,u);(B.viewport.length||v&&"fixed"===D.css("position"))&&B.viewport.bind("scroll"+X,u)}function C(){for(var l=[e.show.target[0],e.hide.target[0],m.rendered&&y.tooltip[0],e.position.container[0],e.position.viewport[0],e.position.container.closest("html")[0],b,f],k=g(e.position.target).parents().andSelf(),x=0;x<k.length;x++)l.push(k[x]);
m.rendered?g([]).pushStack(g.grep(l,function(b){return"object"===typeof b})).unbind(X):e.show.target.unbind(X+"-create")}var m=this,fa="evergage-tooltip-"+t,na=0,ra=0,D=g(),X=".evergage-qtip-"+t,y,Y;m.id=t;m.rendered=!1;m.destroyed=!1;m.elements=y={target:k};m.timers={img:{}};m.options=e;m.checks={};m.plugins={};m.cache=Y={event:{},target:g(),disabled:!1,attr:v,onTarget:!1,lastClass:""};m.checks.builtin={"^id$":function(b,e,f){b=!0===f?Q.nextid:f;e="evergage-tooltip-"+b;!1!==b&&0<b.length&&!g("#"+
e).length&&(D[0].id=e,y.content[0].id=e+"-content",y.title[0].id=e+"-title")},"^content.text$":function(b,e,f){u(f)},"^content.fullcontents$":function(b,e,f){u(f)},"^content.title.text$":function(b,e,f){if(!f)return A();!y.title&&f&&T();N(f)},"^content.title.button$":function(b,e,f){b=y.button;e=y.title;m.rendered&&(f?(e||T(),p()):b.remove())},"^position.(my|at)$":function(b,e,f){"string"===typeof f&&(b[e]=new K.Corner(f))},"^position.container$":function(b,e,f){if(m.rendered)if((b=m.options?m.options.bundle:
null)&&"page"==b.target.renderType)switch(b.target.inlineInsertionLocation){case "NextSibling":D.insertAfter(f);break;case "PreviousSibling":D.insertBefore(f);break;case "FirstChild":D.prependTo(f);break;default:D.appendTo(f)}else D.appendTo(f)},"^show.ready$":function(){m.rendered?m.toggle(!0):m.render(1)},"^style.classes$":function(b,e,f){D.attr("class","evergage-tooltip evergage-qtip "+f)},"^style.widget|content.title":q,"^events.(render|show|move|hide|focus|blur|destroy)$":function(b,e,f){D[(g.isFunction(f)?
"":"un")+"bind"]("tooltip"+e,f)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var b=e.position;D.attr("tracking","mouse"===b.target&&b.adjust.mouse);C();M()}};e&&e.bundle&&!e.bundle.legacy?(delete m.checks.builtin["^content.text$"],delete m.checks.builtin["^content.title.text$"]):delete m.checks.builtin["^content.fullcontents$"];g.extend(m,{render:function(l){if(m.rendered)return m;var f=e.content.text,x=e.content.title.text,p=e.position,C=e.bundle,
B=C.invisible?"evergage-tooltip-invisible":"",v="";C&&null!=C.existingStyles&&(v+=C.existingStyles);if(C&&!C.legacy&&null!=C.topLevelDivStyle)if(v+=C.topLevelDivStyle,"page"!==k.renderType||!0!==k.inlineRespectMessageSize)e.style.width=null,e.style.height=null;else if("page"===k.renderType&&!0===k.inlineRespectMessageSize){var G=g("\x3cdiv style\x3d'"+C.topLevelDivStyle+"'\x3e\x3c/div\x3e"),R=G.css("width");R&&-1<R.indexOf("px")&&(e.style.width=R);(G=G.css("height"))&&-1<G.indexOf("px")&&(e.style.height=
G)}v+="visibility: hidden;box-sizing: border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;display: block;";C&&!0===C.invisible&&(v+="width: 1px !important; height: 1px !important; display: none !important; visibility: hidden !important; pointer-events: none !important; opacity: 0 !important;");D=y.tooltip=g("\x3cdiv/\x3e",{id:fa,"class":"evergage-tooltip evergage-qtip evergage-tooltip-default "+e.style.classes+" evergage-tooltip-pos-"+e.position.my.abbrev()+" "+B,tracking:"mouse"===
p.target&&p.adjust.mouse,style:v}).toggleClass("ui-state-disabled",Y.disabled).data("qtip",m);if(e.position.container&&0<e.position.container.length&&e.position.replaceContainer)g(e.position.container[0]).replaceWith(D);else if(C&&"page"==C.target.renderType&&!0!==C.target.replaceExistingContent)switch(C.target.inlineInsertionLocation){case "NextSibling":D.insertAfter(e.position.container);break;case "PreviousSibling":D.insertBefore(e.position.container);break;case "FirstChild":D.prependTo(e.position.container);
break;default:D.appendTo(e.position.container)}else D.appendTo(e.position.container);null!=e.content.fullContents?(p=ajq(ajq.trim(e.content.fullContents)),!C.previewMode&&C.formElementData&&C.formElementData.messageHasForm&&(B=ajq("\x3cform/\x3e",{}),C.formElementData.formSubmitAction&&B.attr("evergage-action",C.formElementData.formSubmitAction),C.formElementData.hideMessageOnSubmit||B.attr("evergage-nocloseonsubmit","evergage-nocloseonsubmit"),C.formElementData.dismissMessageOnSubmit||B.attr("evergage-nodismissonsubmit",
"evergage-nodismissonsubmit"),p=B.append(p)),D.append(p),y.content=D):D.append(y.content=g("\x3cdiv /\x3e",{"class":"evergage-tooltip-content",id:fa+"-content"}));m.rendered=-1;na=ra=1;x&&null==e.content.fullContents&&(T(),g.isFunction(x)||N(x,!1));g.isFunction(f)||null!=e.content.fullContents||u(f,!1);m.rendered=!0;e.style.poweredBy&&H();q();g.each(e.events,function(d,b){g.isFunction(b)&&D.bind("toggle"===d?"tooltipshow tooltiphide":"tooltip"+d,b)});g.each(K,function(){"render"===this.initialize&&
this(m)});M();D.queue("fx",function(d){n("render");na=ra=0;m.redraw();if(e.show.ready||l)m.toggle(!0,Y.event,!1),setTimeout(function(){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Finished showing message ["+C.id+"] via 1 second timeout.");D.css("display","block");Evergage.getDisabledQtipWindowScroll()||g(b).scroll()},1E3),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Finished showing message ["+C.id+"]."),Evergage&&"object"===typeof Evergage&&"function"===typeof Evergage.setMessageAsDisplayedForReshowPersonalizationSections&&
Evergage.setMessageAsDisplayedForReshowPersonalizationSections(t),e.bundle&&"function"===typeof e.bundle.showCallback&&e.bundle.showCallback(m);d()});return m},get:function(b){switch(b.toLowerCase()){case "dimensions":b={height:D.outerHeight(!1),width:D.outerWidth(!1)};break;case "offset":b=K.offset(D,e.position.container);break;default:b=G(b.toLowerCase()),b=b[0][b[1]],b=b.precedance?b.string():b}return b},set:function(b,f){var k=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,
p=/^content\.(title|attr)|style/i,u=!1,C=!1,y=m.checks,B;"string"===typeof b?(B=b,b={},b[B]=f):b=g.extend(!0,{},b);g.each(b,function(e,d){var f=G(e.toLowerCase()),m;m=f[0][f[1]];f[0][f[1]]="object"===typeof d&&d.nodeType?g(d):d;b[e]=[f[0],f[1],d,m];u=k.test(e)||u;C=p.test(e)||C});J(e);na=ra=1;g.each(b,function(b,d){var e,f,l;for(e in y)for(f in y[e])if(l=(new RegExp(f,"i")).exec(b))d.push(l),y[e][f].apply(m,d)});na=ra=0;m.rendered&&0<D[0].offsetWidth&&(u&&m.reposition("mouse"===e.position.target?
null:Y.event),C&&m.redraw());return m},toggle:function(b,k,x){function p(){b?(g.browser.msie&&D[0].style.removeAttribute("filter"),D.css("overflow",""),"string"===typeof y.autofocus&&g(y.autofocus,D).focus(),y.target.trigger("qtip-"+t+"-inactive")):D.css({display:"",visibility:"",opacity:"",left:"",top:""});n(b?"visible":"hidden")}if(k){if(/over|enter/.test(k.type)&&/out|leave/.test(Y.event.type)&&e.show.target.add(k.target).length===e.show.target.length&&D.has(k.relatedTarget).length)return m;Y.event=
g.extend({},k)}if(!m.rendered)return b?m.render(1):m;var C=b?"show":"hide",y=e[C],v=e.position,M=e.content,G=0<D[0].offsetWidth&&"visible"==D.css("visibility"),d=b||1===y.target.length,q=!k||2>y.target.length||Y.target[0]===k.target;(typeof b).search("boolean|number")&&(b=!G);if(!D.is(":animated")&&G===b&&q||!n(C,[90]))return m;b?(Y.origin=g.extend({},F),m.focus(k),g.isFunction(M.text)&&u(M.text,!1),g.isFunction(M.title.text)&&N(M.title.text,!1),!B&&"mouse"===v.target&&v.adjust.mouse&&(g(f).bind("mousemove.qtip",
function(b){try{F={pageX:b.pageX,pageY:b.pageY,type:"mousemove"}}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"pageMouseMove")}}),B=!0),m.reposition(k,x),D.css({visibility:"visible"}),y.solo&&g("div.evergage-qtip.evergage-tooltip",y.solo).not(D).qtip("hide",g.Event("tooltipsolo"))):(clearTimeout(m.timers.show),delete Y.origin,B&&!g('div.evergage-qtip.evergage-tooltip[tracking\x3d"true"]:visible',y.solo).not(D).length&&(g(f).unbind("mousemove.qtip"),
B=!1),m.blur(k));!1===y.effect||!1===d?(D[C](),p.call(D)):g.isFunction(y.effect)?(D.stop(1,1),y.effect.call(D,m),D.queue("fx",function(b){p();b()})):D.fadeTo(90,b?1:0,p);b&&y.target.trigger("qtip-"+t+"-inactive");return m},show:function(b){return m.toggle(!0,b)},hide:function(b){return m.toggle(!1,b)},focus:function(b){if(!m.rendered)return m;var e=g("div.evergage-qtip.evergage-tooltip"),f=parseInt(D[0].style.zIndex,10),k=Q.zindex+e.length;b=g.extend({},b);D.hasClass("evergage-tooltip-focus")||D.hasClass("evergage-tooltip-invisible")||
!n("focus",[k],b)||(f!==k&&(e.each(function(){this.style.zIndex>f&&--this.style.zIndex}),e.filter(".evergage-tooltip-focus").qtip("blur",b)),D.addClass("evergage-tooltip-focus")[0].style.zIndex=k);return m},blur:function(b){D.removeClass("evergage-tooltip-focus");n("blur",[D.css("zIndex")],b);return m},reposition:function(l,k){if(!m.rendered||na)return m;var x=e?e.bundle:null;x&&x.target&&x.target.target&&e.position&&e.position.target&&e.position.target.selector===x.target.target&&(e.position.target=
ajq(x.target.target));na=1;var x=e.position.target,p=e.position,u=p.my,C=p.at,B=p.adjust;B.method.split(" ");var M=D.outerWidth(!1),v=D.outerHeight(!1),d=0,t=0,G="fixed"===D.css("position"),q=p.viewport,N={left:0,top:0},R=p.container,A=0<D[0].offsetWidth;if(g.isArray(x)&&2===x.length)C={x:"left",y:"top"},N={left:x[0],top:x[1]};else if("mouse"===x&&(l&&l.pageX||Y.event.pageX))C={x:"left",y:"top"},l=(!l||"resize"!==l.type&&"scroll"!==l.type?l&&l.pageX&&"mousemove"===l.type?l:!F||!F.pageX||!B.mouse&&
l&&l.pageX?!B.mouse&&Y.origin&&Y.origin.pageX&&e.show.distance?Y.origin:l:{pageX:F.pageX,pageY:F.pageY}:Y.event)||l||Y.event||F||{},N={top:l.pageY,left:l.pageX};else{"event"===x&&l&&l.target&&"scroll"!==l.type&&"resize"!==l.type?Y.target=g(l.target):"event"!==x&&(Y.target=g(x.jquery?x:y.target));x=Y.target;x=g(x).eq(0);if(0===x.length)return m;x[0]===f||x[0]===b?(d="number"===typeof b.innerWidth&&"number"===typeof x.width()&&b.innerWidth!==x.width()&&b.innerWidth+20>=x.width()?x.width():"number"===
typeof b.innerWidth?b.innerWidth:x.width(),t="number"===typeof b.innerHeight&&"number"===typeof x.height()&&b.innerHeight!==x.height()&&b.innerHeight+20>=x.height()?x.height():"number"===typeof b.innerHeight?b.innerHeight:x.height(),x[0]===b&&(N={top:(q||x).scrollTop(),left:(q||x).scrollLeft()})):(d=x.outerWidth(!1),t=x.outerHeight(!1),N=K.offset(x,R));if(K.iOS||!K.iOS&&G)G=g(b),N.left-=G.scrollLeft(),N.top-=G.scrollTop();N.left+="right"===C.x?d:"center"===C.x?d/2:0;N.top+="bottom"===C.y?t:"center"===
C.y?t/2:0}N.left+=B.x+("right"===u.x?-M:"center"===u.x?-M/2:0);N.top+=B.y+("bottom"===u.y?-v:"center"===u.y?-v/2:0);N.adjusted=K.viewport?K.viewport(m,N,p,d,t,M,v):{left:0,top:0};if(!n("move",[N,q.elem||q],l))return m;delete N.adjusted;!1===k||!A||isNaN(N.left)||isNaN(N.top)||"mouse"===x||!g.isFunction(p.effect)?D.css(N):g.isFunction(p.effect)&&(p.effect.call(D,m,g.extend({},N)),D.queue(function(b){g(this).css({opacity:""});g.browser.msie&&this.style.removeAttribute("filter");b()}));na=0;return m},
redraw:function(){if(1>m.rendered||ra)return m;var b=e.style,f=e.position.container,k,g,p;ra=1;n("redraw");b.height&&"1px"!=b.height&&(k=D[0].style.cssText,ajq.trim(k).lastIndexOf(";")+1!=ajq.trim(k).length&&(k+="; "),k+=" max-height: "+b.height+" !important;",k+=" height: "+b.height+" !important;",D[0].style.cssText=k);if(b.width&&"1px"!=b.width)k=D[0].style.cssText,ajq.trim(k).lastIndexOf(";")+1!=ajq.trim(k).length&&(k+="; "),k+=" max-width: "+b.width+" !important;",k+=" width: "+b.width+" !important;",
D[0].style.cssText=k;else if(!0!==e.position.replaceContainer){if("-28000px"==D.css("top"))return m;k=D.outerWidth();var u=e.bundle;if(parseInt(D.css("width"))>=parseInt(f.css("width")))if(u&&"page"==u.target.renderType&&!0!==u.target.replaceExistingContent)switch(u.target.inlineInsertionLocation){case "NextSibling":D.insertAfter(f);break;case "PreviousSibling":D.insertBefore(f);break;case "FirstChild":D.prependTo(f);break;default:D.appendTo(f)}else D.appendTo(f);else if(g=D.css("max-width")||"",
p=D.css("min-width")||"",b=-1<(g+p).indexOf("%")?f.width()/100:0,g=(-1<g.indexOf("%")?b:1)*parseInt(g,10)||k,p=(-1<p.indexOf("%")?b:1)*parseInt(p,10)||0,k=g+p?Math.min(Math.max(k,p),g):k,u&&"page"==u.target.renderType&&!0!==u.target.replaceExistingContent)switch(e.bundle.target.inlineInsertionLocation){case "NextSibling":D.css("width",Math.round(k)).insertAfter(f);break;case "PreviousSibling":D.css("width",Math.round(k)).insertBefore(f);break;case "FirstChild":D.css("width",Math.round(k)).prependTo(f);
break;default:D.css("width",Math.round(k)).appendTo(f)}else D.css("width",Math.round(k)).appendTo(f)}n("redrawn");ra=0;return m},disable:function(b){"boolean"!==typeof b&&(b=!(D.hasClass("ui-state-disabled")||Y.disabled));m.rendered?D.toggleClass("ui-state-disabled",b):Y.disabled=!!b;return m},enable:function(){return m.disable(!1)},destroy:function(){var b=k[0],f=g.attr(b,"oldtitle"),p=k.data("qtip");n("destroy");m.destroyed=!0;m.rendered&&(D.stop(1,0).remove(),g.each(m.plugins,function(){this.destroy&&
this.destroy()}));clearTimeout(m.timers.show);clearTimeout(m.timers.hide);C();p&&m!==p||(g.removeData(b,"qtip"),e.suppress&&f&&(g.attr(b,"title",f),k.removeAttr("oldtitle")));k.unbind(".qtip-"+t);delete O[m.id];return k}})}function H(b,e){var B,t,G,n,q,A=g(this),p=g(f.body),T=this===f?p:A;t=A.metadata?A.metadata(e.metadata):null;n="html5"===e.metadata.type&&t?t[e.metadata.name]:null;var H=A.data(e.metadata.name||"qtipopts");try{H="string"===typeof H?g.parseJSON(H):H}catch(N){}n=g.extend(!0,{},Q.defaults,
e,"object"===typeof H?J(H):null,J(n||t));t=n.position;n.id=b;if("boolean"===typeof n.content.text)if(G=A.attr(n.content.attr),!1!==n.content.attr&&G)n.content.text=G;else return!1;t.container.length||(t.container=p);!1===t.target&&(t.target=T);!1===n.show.target&&(n.show.target=T);!0===n.show.solo&&(n.show.solo=t.container.closest("body"));!1===n.hide.target&&(n.hide.target=T);!0===n.position.viewport&&(n.position.viewport=t.container);t.container=t.container.eq(0);t.at=new K.Corner(t.at);t.my=new K.Corner(t.my);
if(g.data(this,"qtip"))if(n.overwrite)A.qtip("destroy");else if(!1===n.overwrite)return!1;n.suppress&&(q=g.attr(this,"title"))&&g(this).removeAttr("title").attr("oldtitle",q).attr("title","");B=new v(A,n,b,!!G);g.data(this,"qtip",B);A.bind("remove.qtip-"+b+" removeqtip.qtip-"+b,function(){B.destroy()});return B}function q(b){var e=this,f=b.elements.tooltip,B=b.options.content.ajax,t=Q.defaults.content.ajax,n=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,v=!0,q=!1,p;b.checks.ajax={"^content.ajax":function(b,
k,p){"ajax"===k&&(B=p);"once"===k?e.init():B&&B.url?e.load():f.unbind(".qtip-ajax")}};g.extend(e,{init:function(){if(B&&B.url)f.unbind(".qtip-ajax")[B.once?"one":"bind"]("tooltipshow.qtip-ajax",e.load);return e},load:function(f){function A(){var e;b.destroyed||(v=!1,H&&(q=!0,b.show(f.originalEvent)),(e=t.complete||B.complete)&&g.isFunction(e)&&e.apply(B.context||b,arguments))}function N(e,f,p){var u;b.destroyed||(m&&"string"===typeof e&&(e=g("\x3cdiv/\x3e").append(e.replace(n,"")).find(m)),(u=t.success||
B.success)&&g.isFunction(u)?u.call(B.context||b,e,f,p):b.set("content.text",e))}function u(e,f,m){b.destroyed||0===e.status||b.set("content.text",f+": "+m)}if(q)q=!1;else{var M=B.url.lastIndexOf(" "),C=B.url,m,H=!B.loading&&v;if(H)try{f.preventDefault()}catch(da){}else if(f&&f.isDefaultPrevented())return e;p&&p.abort&&p.abort();-1<M&&(m=C.substr(M),C=C.substr(0,M));p=g.ajax(g.extend({error:t.error||u,context:b},B,{url:C,success:N,complete:A}))}},destroy:function(){p&&p.abort&&p.abort();b.destroyed=
!0}});e.init()}function t(b,e,f){var g=Math.ceil(e/2),B=Math.ceil(f/2);e={bottomright:[[0,0],[e,f],[e,0]],bottomleft:[[0,0],[e,0],[0,f]],topright:[[0,f],[e,0],[e,f]],topleft:[[0,0],[0,f],[e,f]],topcenter:[[0,f],[g,0],[e,f]],bottomcenter:[[0,0],[e,0],[g,f]],rightcenter:[[0,0],[e,B],[0,f]],leftcenter:[[e,0],[e,f],[0,B]]};e.lefttop=e.bottomright;e.righttop=e.bottomleft;e.leftbottom=e.topright;e.rightbottom=e.topleft;return e[b.string()]}function n(b,e){var f,B;function n(b){var e=m.is(":visible");m.show();
b();m.toggle(e)}function v(e,f,l,m){if(C.tip){e=u.corner.clone();m=l.adjusted;var p=b.options.position.adjust.method.split(" "),g=p[0],p=p[1]||p[0],B=!1,t=!1,n=0,N=0,q,d={};!0!==u.corner.fixed&&("shift"===g&&"x"===e.precedance&&m.left&&"center"!==e.y?e.precedance="x"===e.precedance?"y":"x":"shift"!==g&&m.left&&(e.x="center"===e.x?0<m.left?"left":"right":"left"===e.x?"right":"left"),"shift"===p&&"y"===e.precedance&&m.top&&"center"!==e.x?e.precedance="y"===e.precedance?"x":"y":"shift"!==p&&m.top&&(e.y=
"center"===e.y?0<m.top?"top":"bottom":"top"===e.y?"bottom":"top"),e.string()===J.corner.string()||J.top===m.top&&J.left===m.left||u.update(e,!1));q=u.position(e,m);t=A(e,e.x);B=A(e,e.y);f=f.options.bundle;if(f.legacy)q[e.x]+=t,q[e.y]+=B;else{var G=q.right?"right":"left";0>q[G]&&(t=f.previewMode?q[G]-t:-(C.tip.width()+parseFloat(C.tip.css("padding-"+G))),C.tip.css(G,t));t=q.bottom?"bottom":"top";0>q[t]&&(f=f.previewMode?q[t]-B:-(C.tip.height()+parseFloat(C.tip.css("padding-"+t))),C.tip.css(t,f))}q.right!==
I&&(q.left=-q.right);q.bottom!==I&&(q.top=-q.bottom);q.user=Math.max(0,M.offset);if(B="shift"===g&&!!m.left)"center"===e.x?d["margin-left"]=n=q["margin-left"]-m.left:(f=q.right!==I?[m.left,-q.left]:[-m.left,q.left],(n=Math.max(f[0],f[1]))>f[0]&&(l.left-=m.left,B=!1),d[q.right!==I?"right":"left"]=n);if(t="shift"===p&&!!m.top)"center"===e.y?d["margin-top"]=N=q["margin-top"]-m.top:(f=q.bottom!==I?[m.top,-q.top]:[-m.top,q.top],(N=Math.max(f[0],f[1]))>f[0]&&(l.top-=m.top,t=!1),d[q.bottom!==I?"bottom":
"top"]=N);C.tip.css(d).toggle(!(n&&N||"center"===e.x&&N||"center"===e.y&&n));l.left-=q.left.charAt?q.user:"shift"!==g||t||!B&&!t?q.left:0;l.top-=q.top.charAt?q.user:"shift"!==p||B||!B&&!t?q.top:0;J.left=m.left;J.top=m.top;J.corner=e.clone()}}function q(){var e=M.corner,f=b.options.position,l=f.at,f=f.my.string?f.my.string():f.my;if(!1===e||!1===f&&!1===l)return!1;!0===e?u.corner=new K.Corner(f):e.string||(u.corner=new K.Corner(e),u.corner.fixed=!0);J.corner=new K.Corner(u.corner.string());return"centercenter"!==
u.corner.string()}function A(b,e,f){e=e?e:b[b.precedance];var k=C.titlebar&&"top"===b.y?C.titlebar:m,p="border-"+e+"-width",g;n(function(){g=(f?parseInt(f.css(p),10):parseInt(C.content.css(p),10)||parseInt(k.css(p),10)||parseInt(m.css(p),10))||0});return g}function p(b){var e=C.titlebar&&"top"===b.y?C.titlebar:C.content,f=g.browser.mozilla?"-moz-":g.browser.webkit?"-webkit-":"",k="border-radius-"+b.y+b.x,p="border-"+b.y+"-"+b.x+"-radius",u=function(b){return parseInt(e.css(b),10)||parseInt(m.css(b),
10)},B;n(function(){B=u(p)||u(f+p)||u(f+k)||u(k)||0});return B}function H(b){function e(b,f,l){f=b.css(f)||"transparent";return l&&f===b.css(l)?!1:k.test(f)?!1:f}var l=C.tip.css("cssText","");b=b||u.corner;var k=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,p="border-"+b[b.precedance]+"-color",t=C.titlebar,q=t&&("top"===b.y||"center"===b.y&&l.position().top+Q.height/2+M.offset<t.outerHeight(!0))?t:C.content;n(function(){f=e(l,"background-color")||e(q,"background-color")||e(C.content,"background-color")||
e(m,"background-color")||l.css("background-color");B=e(l,p,"color")||e(q,p,"color")||e(C.content,p,"color")||e(m,p,"color")||m.css(p);g("*",l).add(l).css("cssText","background-color:transparent !important;border:0 !important;")})}function F(b){var e="y"===b.precedance,f=Q[e?"width":"height"],k=Q[e?"height":"width"],m=-1<b.string().indexOf("center"),p=f*(m?.5:1),g=Math.pow;b=Math.round;var u=Math.sqrt(g(p,2)+g(k,2)),p=[O/p*u,O/k*u];p[2]=Math.sqrt(g(p[0],2)-g(O,2));p[3]=Math.sqrt(g(p[1],2)-g(O,2));
m=(u+p[2]+p[3]+(m?0:p[0]))/u;f=[b(m*k),b(m*f)];return{height:f[e?0:1],width:f[e?1:0]}}function N(b,e,f){return"\x3cqvml:"+b+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"evergage-qtip-vml" '+(e||"")+' style\x3d"behavior: url(#default#VML); '+(f||"")+'" /\x3e'}var u=this,M=b.options.style.tip,C=b.elements,m=C.tooltip,J={top:0,left:0},Q={width:M.width,height:M.height};B=f=void 0;var O=M.border||0,D=!!(g("\x3ccanvas /\x3e")[0]||{}).getContext,X;u.corner=null;u.mimic=null;u.border=O;u.offset=M.offset;
u.size=Q;b.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){u.init()||u.destroy();b.reposition()},"^style.tip.(height|width)$":function(){Q={width:M.width,height:M.height};u.create();u.update();b.reposition()},"^content.title.text|style.(classes|widget)$":function(){C.tip&&C.tip.length&&u.update()}};g.extend(u,{init:function(){var b=q()&&(D||g.browser.msie);b&&(u.create(),u.update(),m.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",v),D||m.bind("tooltipredraw tooltipredrawn",
function(b){"tooltipredraw"===b.type?(X=C.tip.html(),C.tip.html("")):C.tip.html(X)}));return b},create:function(){var b=Q.width,e=Q.height;C.tip&&C.tip.remove();C.tip=g("\x3cdiv /\x3e",{"class":"evergage-tooltip-tip"}).css({width:b,height:e}).prependTo(m);D?g("\x3ccanvas /\x3e").appendTo(C.tip)[0].getContext("2d").save():(b=N("shape",'coordorigin\x3d"0,0"',"position:absolute;"),C.tip.html(b+b),g("*",C.tip).bind("click mousedown",function(b){b.stopPropagation()}))},update:function(b,e){var l=C.tip,
k=l.children(),p=Q.width,q=Q.height,n=M.mimic,v=Math.round,G,I;b||(b=J.corner||u.corner);!1===n?n=b:(n=new K.Corner(n),n.precedance=b.precedance,"inherit"===n.x?n.x=b.x:"inherit"===n.y?n.y=b.y:n.x===n.y&&(n[b.precedance]=b[b.precedance]));"x"===b.precedance?(Q.width=M.height,Q.height=M.width):(Q.width=M.width,Q.height=M.height);C.tip.css({width:p=Q.width,height:q=Q.height});H(b);"transparent"!==B?(O=A(b,null),0===M.border&&0<O&&(f=B),u.border=O=!0!==M.border?M.border:O):u.border=O=0;G=t(n,p,q);u.size=
I=F(b);l.css(I);l="y"===b.precedance?[v("left"===n.x?O:"right"===n.x?I.width-p-O:(I.width-p)/2),v("top"===n.y?I.height-q:0)]:[v("left"===n.x?I.width-p:0),v("top"===n.y?O:"bottom"===n.y?I.height-q-O:(I.height-q)/2)];D?(k.attr(I),k=k[0].getContext("2d"),k.restore(),k.save(),k.clearRect(0,0,3E3,3E3),k.fillStyle=f,k.strokeStyle=B,k.lineWidth=2*O,k.lineJoin="miter",k.miterLimit=100,k.translate(l[0],l[1]),k.beginPath(),k.moveTo(G[0][0],G[0][1]),k.lineTo(G[1][0],G[1][1]),k.lineTo(G[2][0],G[2][1]),k.closePath(),
O&&("border-box"===m.css("background-clip")&&(k.strokeStyle=f,k.stroke()),k.strokeStyle=B,k.stroke()),k.fill()):(G="m"+G[0][0]+","+G[0][1]+" l"+G[1][0]+","+G[1][1]+" "+G[2][0]+","+G[2][1]+" xe",l[2]=O&&/^(r|b)/i.test(b.string())?8===parseFloat(g.browser.version,10)?2:1:0,k.css({coordsize:p+O+" "+(q+O),antialias:""+(-1<n.string().indexOf("center")),left:l[0],top:l[1],width:p+O,height:q+O}).each(function(b){var d=g(this);d[d.prop?"prop":"attr"]({coordsize:p+O+" "+(q+O),path:G,fillcolor:f,filled:!!b,
stroked:!b}).toggle(!(!O&&!b));b||""!==d.html()||d.html(N("stroke",'weight\x3d"'+2*O+'px" color\x3d"'+B+'" miterlimit\x3d"1000" joinstyle\x3d"miter"'))}));!1!==e&&u.position(b)},position:function(b){var e=C.tip,f={},k=Math.max(0,M.offset),m,B,n;if(!1===M.corner||!e)return!1;b=b||u.corner;m=b.precedance;B=F(b);n=[b.x,b.y];"x"===m&&n.reverse();g.each(n,function(e,g){var u,n,d;"center"===g?(u="y"===m?"left":"top",f[u]="50%",f["margin-"+u]=-Math.round(B["y"===m?"width":"height"]/2)+k):(u=A(b,g),n=A(b,
g,C.content),d=p(b),f[g]=e?n:k+(d>u?d:-u))});f[b[m]]-=B["x"===m?"width":"height"];e.css({top:"",bottom:"",left:"",right:"",margin:""}).css(f);return f},destroy:function(){C.tip&&C.tip.remove();C.tip=!1;m.unbind(".qtip-tip")}});u.init()}function A(k){function e(){N=g(F,A).not("[disabled]").map(function(){return"function"===typeof this.focus?this:null})}function B(b){1>N.length&&b.length?b.not("body").blur():N.first().focus()}function n(b){try{var e=g(b.target),f=e.closest(".evergage-qtip");(1>f.length?
0:parseInt(f[0].style.zIndex,10)>parseInt(A[0].style.zIndex,10))||g(b.target).closest("div.evergage-qtip.evergage-tooltip")[0]===A[0]||B(e)}catch(k){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(k,"messageFocus")}}var t=this,q=k.options.show.modal,v=k.elements,A=v.tooltip,p=".qtipmodal"+k.id,H=g(f.body),F=K.modal.focusable.join(","),N={},u;k.checks.modal={"^show.modal.(on|blur)$":function(){t.init();v.overlay.toggle(A.is(":visible"))},"^content.text$":function(){e()}};
g.extend(t,{init:function(){if(!q.on)return t;u=t.create();A.attr("is-modal-qtip",!0).css("z-index",K.modal.zindex+g("div.evergage-qtip.evergage-tooltip[is-modal-qtip]").length).unbind(".qtipmodal").unbind(p).bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(b,e,f){e=b.originalEvent;if(b.target===A[0])if(e&&"tooltiphide"===b.type&&/mouse(leave|enter)/.test(e.type)&&g(e.relatedTarget).closest(u[0]).length)try{b.preventDefault()}catch(k){}else if(!e||e&&!e.solo)t[b.type.replace("tooltip",
"")](b,f)}).bind("tooltipfocus.qtipmodal",function(b){if(!b.isDefaultPrevented()&&b.target===A[0]){var e=g("div.evergage-qtip.evergage-tooltip").filter("[is-modal-qtip]"),f=K.modal.zindex+e.length,k=parseInt(A[0].style.zIndex,10);u[0].style.zIndex=f-2;e.each(function(){this.style.zIndex>k&&--this.style.zIndex});e.end().filter(".evergage-tooltip-focus").qtip("blur",b.originalEvent);A.addClass("evergage-tooltip-focus")[0].style.zIndex=f;try{b.preventDefault()}catch(p){}}}).bind("tooltiphide.qtipmodal",
function(b){b.target===A[0]&&g("[is-modal-qtip]").filter(":visible").not(A).last().qtip("focus",b)});q.escape&&g(f).unbind(p).bind("keydown"+p,function(b){try{27===b.keyCode&&A.hasClass("evergage-tooltip-focus")&&(k.hide(b),k.destroy(b))}catch(e){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(e,"messageEscapeKey")}});q.blur&&v.overlay.unbind(p).bind("click"+p,function(b){try{A.hasClass("evergage-tooltip-focus")&&(k.hide(b),k.destroy(b))}catch(e){"object"===
typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(e,"messageBlur")}});e();return t},create:function(){function e(){try{u.css({height:g(b).height(),width:g(b).width()})}catch(f){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(f,"pageResize")}}var f=g("#evergage-qtip-overlay");if(f.length)return v.overlay=f.insertAfter(g("div.evergage-qtip.evergage-tooltip").last());u=v.overlay=g("\x3cdiv /\x3e",{id:"evergage-qtip-overlay",
html:"\x3cdiv\x3e\x3c/div\x3e",mousedown:function(){return!1}}).hide().insertAfter(g("div.evergage-qtip.evergage-tooltip").last());g(b).unbind(".qtipmodal").bind("resize.qtipmodal",e);e();return u},toggle:function(b,e,f){if(b&&b.isDefaultPrevented())return t;b=q.effect;var k=e?"show":"hide",v=u.is(":visible"),N=g("[is-modal-qtip]").filter(":visible").not(A);u||(u=t.create());if(u.is(":animated")&&v===e||!e&&N.length)return t;e?(u.css({left:0,top:0}),u.toggleClass("blurs",q.blur),!1!==q.stealfocus&&
(H.bind("focusin"+p,n),B(g("body :focus")))):H.unbind("focusin"+p);u.stop(!0,!1);if(g.isFunction(b))b.call(u,e);else if(!1===b)u[k]();else u.fadeTo(parseInt(f,10)||90,e?1:0,function(){e||g(this).hide()});e||u.queue(function(b){u.css({left:"",top:""});b()});return t},show:function(b,e){return t.toggle(b,!0,e)},hide:function(b,e){return t.toggle(b,!1,e)},destroy:function(){var b=u;b&&((b=1>g("[is-modal-qtip]").not(A).length)?(v.overlay.remove(),g(f).unbind(".qtipmodal")):v.overlay.unbind(".qtipmodal"+
k.id),H.undelegate("*","focusin"+p));return A.removeAttr("is-modal-qtip").unbind(".qtipmodal")}});t.init()}var Q,K,F,O={},B;Q=g.fn.qtip=function(b,e,f){var B=(""+b).toLowerCase(),n=null,t=g.makeArray(arguments).slice(1),q=t[t.length-1],v=this[0]?g.data(this[0],"qtip"):null;if(!arguments.length&&v||"api"===B)return v;if("string"===typeof b)return this.each(function(){var b=g.data(this,"qtip");if(!b)return!0;q&&q.timeStamp&&(b.cache.event=q);if("option"!==B&&"options"!==B||!e)b[B]&&b[B].apply(b[B],
t);else if(g.isPlainObject(e)||f!==I)b.set(e,f);else return n=b.get(e),!1}),null!==n?n:this;if("object"===typeof b||!arguments.length)return v=J(g.extend(!0,{},b)),Q.bind.call(this,v,q)};Q.bind=function(b,e){return this.each(function(f){function B(b){try{var e=function(){p.render("object"===typeof b||n.show.ready);t.show.add(t.hide).unbind(v)};if(p.cache.disabled)return!1;p.cache.event=g.extend({},b);p.cache.target=b?g(b.target):[I];0<n.show.delay?(clearTimeout(p.timers.show),p.timers.show=setTimeout(e,
n.show.delay),q.show!==q.hide&&t.hide.bind(q.hide,function(){try{clearTimeout(p.timers.show)}catch(b){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(b,"messageHideClearTimeout")}})):e()}catch(f){try{ajq.log.shouldLog("WARN")&&console.log("Evergage: ERROR: Failed to render message ["+n.bundle.id+"] from campaign ["+n.bundle.campaignName+"], experience ["+n.bundle.experienceName+"] - does message HTML content contain script tags?",f)}catch(k){}p.hide();
p.destroy();"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(f,"messageDisplay")}}var n,t,q,v,p;f=g.isArray(b.id)?b.id[f]:b.id;f=!f||!1===f||1>f.length||O[f]?Q.nextid++:f;v=".qtip-"+f+"-create";p=H.call(this,f,b);if(!1===p)return!0;n=p.options;g.each(K,function(){"initialize"===this.initialize&&this(p)});t={show:n.show.target,hide:n.hide.target};q={show:g.trim(""+n.show.event).replace(/ /g,v+" ")+v,hide:g.trim(""+n.hide.event).replace(/ /g,v+" ")+v};/mouse(over|enter)/i.test(q.show)&&
!/mouse(out|leave)/i.test(q.hide)&&(q.hide+=" mouseleave"+v);t.show.bind("mousemove"+v,function(b){try{F={pageX:b.pageX,pageY:b.pageY,type:"mousemove"},p.cache.onTarget=!0}catch(e){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(e,"targetMouseMove")}});t.show.bind(q.show,B);(n.show.ready||n.prerender)&&B(e)})};K=Q.plugins={Corner:function(b){b=(""+b).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(b.match(/left|right/i)||b.match(/center/)||
["inherit"])[0].toLowerCase();this.y=(b.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();b=b.charAt(0);this.precedance="t"===b||"b"===b?"y":"x";this.string=function(){return"y"===this.precedance?this.y+this.x:this.x+this.y};this.abbrev=function(){var b=this.x.substr(0,1),f=this.y.substr(0,1);return b===f?b:"y"===this.precedance?f+b:b+f};this.invertx=function(b){this.x="left"===this.x?"right":"right"===this.x?"left":b||this.x};this.inverty=function(b){this.y="top"===this.y?"bottom":"bottom"===
this.y?"top":b||this.y};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(b,e){var f=b.offset(),B=b.closest("body")[0],n=e,t,q,v;if(n){do"static"!==n.css("position")&&(q=n.position(),n.is("body")&&(q.top+=parseInt(n.css("top"),10)||0),f.left-=q.left+(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("marginLeft"),10)||0),f.top-=q.top+(parseInt(n.css("borderTopWidth"),
10)||0)+(parseInt(n.css("marginTop"),10)||0),t||"hidden"===(v=n.css("overflow"))||"visible"===v||(t=n));while((n=g(n[0].offsetParent)).length);t&&t[0]!==B&&(B=t,f.left+=1*B.scrollLeft(),f.top+=1*B.scrollTop())}return f},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1,fn:{attr:function(b,e){if(this.length){var f=this[0],B=g.data(f,"qtip");if("title"===b&&B&&"object"===
typeof B&&B.options.suppress){if(2>arguments.length)return g.attr(f,"oldtitle");B&&"title"===B.options.content.attr&&B.cache.attr&&B.set("content.text",e);return this.attr("oldtitle",e)}}return g.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(b){g([]);var e=g.fn.clone_replacedByqTip.apply(this,arguments);b||e.filter("[oldtitle]").attr("title",function(){return g.attr(this,"oldtitle")}).removeAttr("oldtitle");return e}}};g.each(K.fn,function(b,e){if(!e||g.fn[b+"_replacedByqTip"])return!0;
var f=g.fn[b+"_replacedByqTip"]=g.fn[b];g.fn[b]=function(){return e.apply(this,arguments)||f.apply(this,arguments)}});g.ui||(g.cleanData_replacedByqTip=g.cleanData,g.cleanData=function(b){for(var e=0,f;(f=b[e])!==I;e++)try{g(f).triggerHandler("removeqtip")}catch(B){}g.cleanData_replacedByqTip(b)});Q.version="@VERSION";Q.nextid=0;Q.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");Q.zindex=15E3;Q.defaults={prerender:!1,id:!1,overwrite:!0,suppress:!0,content:{text:!0,
attr:"title",title:{text:!1,button:!1}},position:{my:"top left",at:"bottom right",target:!1,container:!1,viewport:!1,adjust:{x:0,y:0,mouse:!0,resize:!0,method:"flip flip"},effect:function(b,e,f){g(this).css(e)}},show:{target:!1,event:"mouseenter",effect:!0,delay:90,solo:!1,ready:!1,autofocus:!1},hide:{target:!1,event:"mouseleave",effect:!0,delay:0,fixed:!1,inactive:!1,leave:"window",distance:!1},style:{classes:"",widget:!1,width:!1,height:!1,def:!0},events:{render:null,move:null,show:null,hide:null,
toggle:null,visible:null,hidden:null,focus:null,blur:null,destroy:null}};K.ajax=function(b){var e=b.plugins.ajax;return"object"===typeof e?e:b.plugins.ajax=new q(b)};K.ajax.initialize="render";K.ajax.sanitize=function(b){var e=b.content;e&&"ajax"in e&&(e=e.ajax,"object"!==typeof e&&(e=b.content.ajax={url:e}),"boolean"!==typeof e.once&&e.once&&(e.once=!!e.once))};g.extend(!0,Q.defaults,{content:{ajax:{loading:!0,once:!0}}});K.tip=function(b){var e=b.plugins.tip;return"object"===typeof e?e:b.plugins.tip=
new n(b)};K.tip.initialize="render";K.tip.sanitize=function(b){var e=b.style;e&&"tip"in e&&(e=b.style.tip,"object"!==typeof e&&(b.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=!0),"number"!==typeof e.width&&delete e.width,"number"!==typeof e.height&&delete e.height,"number"!==typeof e.border&&!0!==e.border&&delete e.border,"number"!==typeof e.offset&&delete e.offset)};g.extend(!0,Q.defaults,{style:{tip:{corner:!0,mimic:!1,width:6,height:6,border:!0,offset:0}}});K.modal=
function(b){var e=b.plugins.modal;return"object"===typeof e?e:b.plugins.modal=new A(b)};K.modal.initialize="render";K.modal.sanitize=function(b){b.show&&("object"!==typeof b.show.modal?b.show.modal={on:!!b.show.modal}:"undefined"===typeof b.show.modal.on&&(b.show.modal.on=!0))};K.modal.zindex=1000402;K.modal.focusable="a[href] area[href] input select textarea button iframe object embed [tabindex] [contenteditable]".split(" ");g.extend(!0,Q.defaults,{show:{modal:{on:!1,effect:!0,blur:!0,stealfocus:!0,
escape:!0}}});K.viewport=function(k,e,g,B,n,t,q){function v(b,f,k,p,g,u,B,n,t){var q=e[g],d=H[b],C=N[b],A="shift"===k,y=-F.offset[g]+m.offset[g]+m["scroll"+g],M=d===g?t:d===u?-t:-t/2,G=Q&&Q.size?Q.size[B]||0:0,D=Q&&Q.corner&&Q.corner.precedance===b&&!A?G:0,T=y-q+D;t=q+t-m[B]-y+D;n=M-(H.precedance===b||d===H[f]?C===g?n:C===u?-n:-n/2:0)-("center"===C?n/2:0);A?(D=Q&&Q.corner&&Q.corner.precedance===f?G:0,n=(d===g?1:-1)*M-D,e[g]+=0<T?T:0<t?-t:0,e[g]=Math.max(-F.offset[g]+m.offset[g]+(D&&"center"===Q.corner[b]?
Q.offset:0),q-n,Math.min(Math.max(-F.offset[g]+m.offset[g]+m[B],q+n),e[g]))):(p*="flipinvert"===k?2:0,0<T&&(d!==g||0<t)?(e[g]-=n+p,J["invert"+b](g)):0<t&&(d!==u||0<T)&&(e[g]-=("center"===d?-n:n)+p,J["invert"+b](u)),e[g]<y&&-e[g]>t&&(e[g]=q,J=H.clone()));return e[g]-q}var p=g.target,A=k.elements.tooltip,H=g.my,N=g.at,u=g.adjust,M=u.method.split(" "),C=M[0],M=M[1]||M[0],m=g.viewport,F=g.container,K=k.cache,Q=k.plugins.tip,D={left:0,top:0},J,y;if(!m.jquery||p[0]===b||p[0]===f.body||"none"===u.method)return D;
p="fixed"===A.css("position");m={elem:m,height:m[(m[0]===b?"h":"outerH")+"eight"](),width:m[(m[0]===b?"w":"outerW")+"idth"](),scrollleft:p?0:m.scrollLeft(),scrolltop:p?0:m.scrollTop(),offset:m.offset()||{left:0,top:0}};g.viewport[0]!==b&&(m.height+=g.viewport.offset().top,m.width+=g.viewport.offset().left);F={elem:F,scrollLeft:F.scrollLeft(),scrollTop:F.scrollTop(),offset:F.offset()||{left:0,top:0}};if("shift"!==C||"shift"!==M)J=H.clone();D={left:"none"!==C?v("x","y",C,u.x,"left","right","width",
B,t):0,top:"none"!==M?v("y","x",M,u.y,"top","bottom","height",n,q):0};J&&K.lastClass!==(y="evergage-tooltip-pos-"+J.abbrev())&&A.removeClass(k.cache.lastClass).addClass(k.cache.lastClass=y);return D}})})(window,document);(function(b){function f(b,f,e){e=e||0;for(var g=b.length;e<g;e++)if(b[e]===f)return e;return-1}function I(f,k,e){"string"===typeof f&&(f=ajq(f));if(!(k.position.target instanceof b)||k.position.target.length&&k.position.target.is(":visible")){var g={"content.text":k.content.text};
e&&e.bundle&&!e.bundle.legacy&&(g={"content.fullContents":k.content.fullContents});k.content.title&&(g["content.title.text"]=k.content.title.text);k.style&&(g["style.classes"]=k.style.classes+" "+e.style.extraClasses);f.qtip("options",g)}else f.qtip("destroy")}function g(f,k){if(1!=k.options.marginForElementRegistered){var e,g=k.options.position.container.is(b("#apptegicMessageContainerForToolbarEnabledPages"));e=g?k.options.position.container:b("body");k.options.marginForElementRegistered=!0;e.stop(!1,
!0);var n={},t="top"==k.options.position.stack?"margin-top":"margin-bottom";if(g)J("setBodyMarginAndSaveOriginal",t,b(this).outerHeight());else{var q=parseInt(e.css(t)),v=e.get(0);"margin-top"==t&&null==v.originalMarginTop&&(v.originalMarginTop=q);"margin-bottom"==t&&null==v.originalMarginBottom&&(v.originalMarginBottom=q);n[t]=q+b(this).outerHeight()+"px"}var A=this,p=b(A).outerHeight();e.animate(n,function(){b(".evergage-qtip").qtip("reposition");if(p!=b(A).outerHeight())if(g)J("setBodyMargin",
t,b(A).outerHeight());else{var f=parseInt(e.css(t));evergageLog.shouldLog("TRACE")&&console.log("After animation, the message height is different than the originally calculated height.  Adjusting by: "+(b(A).outerHeight()-p)+"px.");e.css(t,f+(b(A).outerHeight()-p))}g||Evergage.findAndMovePageTopOrBottomElements(k.options.position.stack,b(A).outerHeight())})}}function J(f,k,e){var g=b("#sendDataToEvergageVisualEditorDiv");0<g.size()&&(f={actionType:"infobarMarginRequest",eventDetails:{requestType:f,
cssAttr:k,marginToSet:e}},k=document.createEvent("CustomEvent"),k.initCustomEvent("dataToEvergageVisualEditor",!0,!0,f),g.get(0).dispatchEvent(k))}function v(f,k){if(0!=k.options.marginForElementRegistered){var e,g=k.options.position.container.is(b("#apptegicMessageContainerForToolbarEnabledPages"));e=g?k.options.position.container:b("body");k.options.marginForElementRegistered=!1;evergageLog.shouldLog("TRACE")&&console.log("Removing infobar "+k.options.position.stack+".");k.options.position.container.stop(!1,
!0);var n={},t="top"==k.options.position.stack?"margin-top":"margin-bottom";if(g)J("unsetBodyMarginAndRestoreOriginal",t,b(this).outerHeight());else{var q=parseInt(e.css(t)),v=e.get(0),A=0;"margin-top"==t&&null!=v.originalMarginTop&&(A=v.originalMarginTop);"margin-bottom"==t&&null!=v.originalMarginBottom&&(A=v.originalMarginBottom);"margin-top"==t&&q-b(this).outerHeight()<A?n[t]=A+"px":n[t]=q-b(this).outerHeight()+"px"}var p=-b(this).outerHeight();e.animate(n,function(){b(".evergage-qtip").qtip("reposition");
g||Evergage.findAndMovePageTopOrBottomElements(k.options.position.stack,p)})}}function H(f){var k=b(".evergage-qtip.evergage-jgrowl.evergage-"+f+":visible");k.outerWidth();k.outerHeight();var e=k.eq(0).qtip("option","position.adjust.y"),g=0;k.each(function(k){var n=b(this).data("qtip"),t="down"==n.options.position.next;k?(t?n.set("position.my","top left"):n.set("position.my","bottom left"),n.set("position.target",[b(this).offset().left,g])):(n.set("position.target",b(window)),n.set("position.my",
n.options.originalPosition.my),n.set("position.at",n.options.originalPosition.at),n.set("position.adjust.x",n.options.originalPosition.adjust.x));evergageLog.shouldLog("TRACE")&&console.log("Evergage: Repositioned message "+n.id+" in stack '"+f+"' to x\x3d"+b(this).css("left")+",y\x3d"+b(this).css("top"));k?g=t?g+(b(this).outerHeight()+Math.abs(e)):g-(b(this).outerHeight()+Math.abs(e)):(g=n.cache.finalPos.top,t&&(g+=b(this).outerHeight()));b(this)})}function q(f){try{var k=b(this).data("qtip");if(null==
k)return!1;var e=k.options;if(e.show&&!0===e.show.persistent)return!0;if(e.show&&e.show.lifespan){var g=parseInt(e.show.lifespan);clearTimeout(k.timer);f&&"mouseover"===f.type||(k.timer=setTimeout(k.hide,g))}return!0}catch(n){ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception setting up our timer for the message.",n),"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(n,"messageTimerSetup")}}if("undefined"!==typeof b){var t=0;b.updateMessage=function(b,
f,e){return I(b,f,e)};b.qtipGrowl=function(n){if(n.id)if(n.position.stack||n.position.container||n.position.target){n.style.extraClasses="";n.content.title&&n.content.title.button&&!n.content.title.text&&(n.style.extraClasses=" emptyTitle",n.content.title.text=" ");n.style.nonblocking&&(n.style.extraClasses+=" evergage-nonBlocking");var k="#evergage-tooltip-"+n.id;if(b(k).length){var e=b(k).qtip("api").options,q;q=(q=n.position.stack!=e.position.stack)||n.position.target&&n.position.target!=e.position.target;
evergageLog.shouldLog("TRACE")&&console.log("Evergage: updating message ["+n.id+"], rerender ["+q+"]");if(q)b(k).qtip("hide"),b(k).qtip("destroy"),b(k).attr("id","old"+t++);else{I(b(k),n,e);return}}if(n.position.target||n.position.container){var A;try{A=n.position.target?b(n.position.target):b(n.position.container),n.position&&!0===n.position.replaceContainer&&(A=b(n.bundle.target.target))}catch(H){A=null,"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(H,
"determineMessageTarget")}e=n.bundle&&n.bundle.target&&!0===n.bundle.target.replaceExistingContent&&"page"===n.bundle.target.renderType;if(!0!==n.position.ignoreTargetVisibilityCheck&&(!A||0===A.length||A.is(":hidden")&&!e)){A&&A.length&&A.is(":hidden")&&evergageLog.shouldLog("INFO")&&console.log("Message target ["+A.selector+"] exists on page but is not visible - not showing message ["+n.id+"]...");b(k).length&&b(k).qtip("destroy");return}}if(n.position.stack){n=b.extend(!0,{},b.qtipGrowl.baseDefaults,
b.qtipGrowl.growlDefaults,b.qtipGrowl.stacks[n.position.stack],n);A=".evergage-qtip.evergage-jgrowl.evergage-"+n.position.stack;n&&n.bundle&&!0===n.bundle.previewMode&&(A=".evergage-preview-message"+A);var F;b(A).length&&b(A+":visible").length&&(F=b(A+":visible:last"));n.style.extraClasses+=" evergage-jgrowl evergage-"+n.position.stack;n.position.my||(n.position.my="top right");n.position.at||(n.position.at=n.position.my);-1!=f(n.position.at.split(" "),"left")&&(n.position.adjust.x=b.qtipGrowl.windowSpace);
-1!=f(n.position.at.split(" "),"right")&&(n.position.adjust.x=-b.qtipGrowl.windowSpace);-1!=f(n.position.at.split(" "),"top")&&(n.position.adjust.y=b.qtipGrowl.windowSpace);-1!=f(n.position.at.split(" "),"bottom")&&(n.position.adjust.y=-b.qtipGrowl.windowSpace);n.originalPosition=n.position;F&&0<F.length&&(A="center","left"==n.position.at.split(" ")[0]?A="left":"right"==n.position.at.split(" ")[0]&&(A="right"),n.position="down"==n.position.next?b.extend({},n.position,{at:"bottom "+A,my:"top "+A,adjust:{y:10,
x:0},target:F}):b.extend({},n.position,{at:"top "+A,my:"bottom "+A,adjust:{y:-10,x:0},target:F}));if("top"==n.position.stack||"bottom"==n.position.stack)n.position.adjust.x=0,n.position.adjust.y=0,n.style.extraClasses+=" evergage-tooltip-bar",n.style.pushBar=!0,n.barVisible=g,n.barHidden=v}else if(n.position.target)F=n,F.style.extraClasses="evergage-tooltip-callout",n=b.extend(!0,{},b.qtipGrowl.baseDefaults,F);else if(n.position.container)F=b.extend(!0,{},b.qtipGrowl.baseDefaults,b.qtipGrowl.inPageDefaults,
n),F.style.extraClasses+=" evergage-tooltip-page",n=F.position&&!0===F.position.replaceContainer,(A=F.bundle)&&!0===A.target.replaceExistingContent&&!0!==A.isPreviewModeContainerReplacement&&!0!==A.isPreviewModeInlineRespectMessageSize&&!0!==A.target.inlineRespectMessageSize&&!n&&(F.style.extraClasses+=" evergage-tooltip-page-replace"),n=F;else return;n.style.classes+=" "+n.style.extraClasses;F=n.target&&n.target.jquery?n.position.target:b(document.body);F.qtip(n);0===b(k).length&&n.prerender&&evergageLog.shouldLog("INFO")&&
console.log("Evergage: Message ["+n.id+"] was not rendered.");F.removeData("qtip")}else evergageLog.shouldLog("WARN")&&console.log("Evergage: Error: Messages must have a stack, container or target.");else evergageLog.shouldLog("WARN")&&console.log("Evergage: Error: Messages must have an id.")};b.qtipUpdateGrowls=function(b){H(b)};var n,A=/^on/,Q=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,K=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,F=/^(scroll|resize|(un)?load|abort|error)$/,
O=function(f,k){var e;f=f.toLowerCase();document.createEvent&&this.dispatchEvent?(f=f.replace(A,""),f.match(Q)?(b(this).offset(),e=document.createEvent("MouseEvents"),e.initMouseEvent(f,k.bubbles,k.cancelable,k.view,k.detail,k.screenX,k.screenY,k.clientX,k.clientY,k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,k.button,k.relatedTarget)):f.match(K)?(e=document.createEvent("UIEvents"),e.initUIEvent(f,k.bubbles,k.cancelable,k.view,k.detail)):f.match(F)&&(e=document.createEvent("HTMLEvents"),e.initEvent(f,k.bubbles,
k.cancelable)),e&&this.dispatchEvent(e)):(f.match(A)||(f="on"+f),e=document.createEventObject(k),this.fireEvent(f,e))};b(document).delegate(".evergage-qtip.evergage-jgrowl.evergage-nonBlocking","mouseover mousemove mousedown mouseup click dblclick",function(f,k){try{f.stopPropagation();f.preventDefault();k=k||f.type;var e=b(this);e.css("display","none");var g=document.elementFromPoint(f.clientX,f.clientY);e.css("display","block");var t=b(g),q=t.css("cursor");e.css("cursor","auto"!=q?q:"default");
n&&n.get(0)==g||(n&&(O.call(n.get(0),"mouseleave",f.originalEvent),O.call(n.get(0),"mouseout",f.originalEvent)),O.call(g,"mouseenter",f.originalEvent),O.call(g,"mouseover",f.originalEvent));O.call(g,k,f.originalEvent);n=t}catch(v){ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception setting up non-blocking listener for the message.",v),"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(v,"messageNonBlockingSetup")}});b(document).delegate(".evergage-qtip.evergage-jgrowl",
"mouseover mouseout",q);b.qtipGrowl.windowSpace=15;b.qtipGrowl.stacks={topleft:{position:{my:"left top",next:"down"}},middleleft:{position:{my:"left center",next:"down"}},bottomleft:{position:{my:"left bottom",next:"up"}},topright:{position:{my:"right top",next:"down"}},middleright:{position:{my:"right center",next:"down"}},bottomright:{position:{my:"right bottom",next:"up"}},topcenter:{position:{my:"top center",next:"down"}},middlecenter:{position:{my:"center",next:"down"}},bottomcenter:{position:{my:"bottom center",
next:"up"}},top:{position:{my:"top center",next:"down"},style:{width:"100%"}},bottom:{position:{my:"bottom center",next:"up"},style:{width:"100%"}}};b.qtipGrowl.growlDefaults={content:{title:{text:"hi",button:!0}},position:{target:b(window),adjust:{method:"shift"},effect:function(f,k){b(this).css(k);f.cache.finalPos=k}},show:{event:!1,ready:!0,delay:0,persistent:!1},hide:{event:!1,effect:function(f){b(this).stop(0,1).fadeOut(400).queue(function(){f.hide();H(f.options.position.stack)})}},style:{tip:!1}};
b.qtipGrowl.inPageDefaults={position:{target:["auto","auto"]},style:{tip:!1,width:"auto"}};b.qtipGrowl.baseDefaults={prerender:!0,show:{delay:0,event:!1,ready:!0},events:{},position:{viewport:b(window)},hide:{event:!1}}}})(ajq);(function(b){b(ajq)})(function(b){function f(b){return b}function I(b){try{return decodeURIComponent(b.replace(J," "))}catch(f){evergageLog.shouldLog("ERROR")&&console.log("Evergage: Error decoding cookie segment: "+b)}}function g(b){0===b.indexOf('"')&&(b=b.slice(1,-1).replace(/\\"/g,
'"').replace(/\\\\/g,"\\"));try{return v.json?evergageJSON.parse(b):b}catch(f){}}if("undefined"!==typeof b){var J=/\+/g,v=function(H,q,t){if(void 0!==q){t=b.extend({},v.defaults,t);if("number"===typeof t.expires){var n=t.expires,A=t.expires=new Date;A.setDate(A.getDate()+n)}q=v.json?evergageJSON.stringify(q):String(q);return document.cookie=[v.raw?H:encodeURIComponent(H),"\x3d",v.raw?q:encodeURIComponent(q),t.expires?"; expires\x3d"+t.expires.toUTCString():"",t.path?"; path\x3d"+t.path:"",t.domain?
"; domain\x3d"+t.domain:"",t.secure?"; secure":""].join("")}q=v.raw?f:I;t=document.cookie.split("; ");for(var n=H?void 0:{},A=0,Q=t.length;A<Q;A++){var K=t[A].split("\x3d"),F=q(K.shift()),K=q(K.join("\x3d"));if(H&&H===F){n=g(K);break}H||(n[F]=g(K))}return n};v.defaults={};b.cookie=v;b.removeCookie=function(f,g){return void 0!==b.cookie(f)?(b.cookie(f,"",b.extend({},g,{expires:-1})),!0):!1}}});(function(b){function f(){var b=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest",
"tmpval"),b=!0,window.localStorage.removeItem("_tmptest")}catch(e){}if(b)try{window.localStorage&&(O=window.localStorage,k="localStorage",R=O.evergage_update)}catch(e){}else if("globalStorage"in window)try{window.globalStorage&&(O=window.globalStorage[window.location.hostname],k="globalStorage",R=O.evergage_update)}catch(e){}H();A();"localStorage"==k||"globalStorage"==k?"addEventListener"in window?window.addEventListener("storage",g,!1):document.attachEvent("onstorage",g):"userDataBehavior"==k&&setInterval(g,
1E3);Q();"addEventListener"in window&&window.addEventListener("pageshow",function(b){b.persisted&&g()},!1)}function I(){var b="{}";if("userDataBehavior"==k){null.load("evergage");try{b=null.getAttribute("evergage")}catch(e){}try{R=null.getAttribute("evergage_update")}catch(e){}O.evergage=b}H();A();Q()}function g(){var b;clearTimeout(da);da=setTimeout(function(){if("localStorage"==k||"globalStorage"==k)b=O.evergage_update;else if("userDataBehavior"==k){null.load("evergage");try{b=null.getAttribute("evergage_update")}catch(e){}}if(b&&
b!=R){R=b;var f=K.parse(K.stringify(F.__jstorage_meta.CRC32)),g;I();g=K.parse(K.stringify(F.__jstorage_meta.CRC32));var n,u=[],t=[];for(n in f)f.hasOwnProperty(n)&&(g[n]?f[n]!=g[n]&&"2."==String(f[n]).substr(0,2)&&u.push(n):t.push(n));for(n in g)g.hasOwnProperty(n)&&(f[n]||u.push(n));J(u,"updated");J(t,"deleted")}},25)}function J(b,f){b=[].concat(b||[]);if("flushed"==f){b=[];for(var k in e)e.hasOwnProperty(k)&&b.push(k);f="deleted"}k=0;for(var g=b.length;k<g;k++)if(e[b[k]])for(var n=0,t=e[b[k]].length;n<
t;n++)e[b[k]][n](b[k],f)}function v(){var b=(+new Date).toString();"localStorage"==k||"globalStorage"==k?t()||(O.evergage_update=b):"userDataBehavior"==k&&(null.setAttribute("evergage_update",b),null.save("evergage"));g()}function H(){if(O.evergage)try{F=K.parse(String(O.evergage))}catch(b){O.evergage="{}"}else O.evergage="{}";B=O.evergage?String(O.evergage).length:0;F.__jstorage_meta||(F.__jstorage_meta={});F.__jstorage_meta.CRC32||(F.__jstorage_meta.CRC32={})}function q(){if(F.__jstorage_meta.PubSub){for(var b=
+new Date-2E3,e=0,f=F.__jstorage_meta.PubSub.length;e<f;e++)if(F.__jstorage_meta.PubSub[e][0]<=b){F.__jstorage_meta.PubSub.splice(e,F.__jstorage_meta.PubSub.length-e);break}F.__jstorage_meta.PubSub.length||delete F.__jstorage_meta.PubSub}try{t()?(delete O.evergage,delete O.evergage_update):(O.evergage=K.stringify(F),B=O.evergage?String(O.evergage).length:0)}catch(k){}}function t(){if(null==F)return!0;for(var b in F)if(F.hasOwnProperty(b)&&"__jstorage_meta"!=b)return!1;return!0}function n(b){if(!b||
"string"!=typeof b&&"number"!=typeof b)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==b)throw new TypeError("Reserved key name");return!0}function A(){var b,e,f,k,g=Infinity,n=!1,t=[];clearTimeout(ka);if(F.__jstorage_meta&&"object"==typeof F.__jstorage_meta.TTL){b=+new Date;f=F.__jstorage_meta.TTL;k=F.__jstorage_meta.CRC32;for(e in f)f.hasOwnProperty(e)&&(f[e]<=b?(delete f[e],delete k[e],delete F[e],n=!0,t.push(e)):f[e]<g&&(g=f[e]));Infinity!=g&&(ka=setTimeout(A,g-
b));n&&(q(),v(),J(t,"deleted"))}}function Q(){var b;if(F.__jstorage_meta.PubSub){var e,f=ia;for(b=F.__jstorage_meta.PubSub.length-1;0<=b;b--)if(e=F.__jstorage_meta.PubSub[b],e[0]>ia){var f=e[0],k=e[1];e=e[2];if(G[k])for(var g=0,n=G[k].length;g<n;g++)G[k][g](k,K.parse(K.stringify(e)))}ia=f}}if("undefined"!==typeof b){var K=window.evergageJSON;if(!K.parse||!K.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var F={__jstorage_meta:{CRC32:{}}},
O={evergage:"{}"},B=0,k=!1,e={},da=!1,R=0,G={},ia=+new Date,ka,ma={isXML:function(b){return(b=(b?b.ownerDocument||b:0).documentElement)?"HTML"!==b.nodeName:!1},encode:function(b){if(!this.isXML(b))return!1;try{return(new XMLSerializer).serializeToString(b)}catch(e){try{return b.xml}catch(f){}}return!1},decode:function(b){var e="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(b){var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(b);return e};
if(!e)return!1;b=e.call("DOMParser"in window&&new DOMParser||window,b,"text/xml");return this.isXML(b)?b:!1}};b.evgjStorage=b.jStorage={version:"0.4.1",set:function(b,e,f){n(b);f=f||{};if("undefined"==typeof e)return this.deleteKey(b),e;if(ma.isXML(e))e={_is_xml:!0,xml:ma.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=K.parse(K.stringify(e)))}F[b]=e;for(var k=F.__jstorage_meta.CRC32,g=K.stringify(e),t=g.length,q=2538058380^t,m=0,v;4<=t;)v=g.charCodeAt(m)&255|(g.charCodeAt(++m)&
255)<<8|(g.charCodeAt(++m)&255)<<16|(g.charCodeAt(++m)&255)<<24,v=1540483477*(v&65535)+((1540483477*(v>>>16)&65535)<<16),v^=v>>>24,v=1540483477*(v&65535)+((1540483477*(v>>>16)&65535)<<16),q=1540483477*(q&65535)+((1540483477*(q>>>16)&65535)<<16)^v,t-=4,++m;switch(t){case 3:q^=(g.charCodeAt(m+2)&255)<<16;case 2:q^=(g.charCodeAt(m+1)&255)<<8;case 1:q^=g.charCodeAt(m)&255,q=1540483477*(q&65535)+((1540483477*(q>>>16)&65535)<<16)}q^=q>>>13;q=1540483477*(q&65535)+((1540483477*(q>>>16)&65535)<<16);k[b]="2."+
((q^q>>>15)>>>0);this.setTTL(b,f.TTL||0);J(b,"updated");return e},get:function(b,e){n(b);return b in F?F[b]&&"object"==typeof F[b]&&F[b]._is_xml?ma.decode(F[b].xml):F[b]:"undefined"==typeof e?null:e},deleteKey:function(b){n(b);return b in F?(delete F[b],"object"==typeof F.__jstorage_meta.TTL&&b in F.__jstorage_meta.TTL&&delete F.__jstorage_meta.TTL[b],delete F.__jstorage_meta.CRC32[b],q(),v(),J(b,"deleted"),!0):!1},setTTL:function(b,e){var f=+new Date;n(b);e=Number(e)||0;return b in F?(F.__jstorage_meta.TTL||
(F.__jstorage_meta.TTL={}),0<e?F.__jstorage_meta.TTL[b]=f+e:delete F.__jstorage_meta.TTL[b],q(),A(),v(),!0):!1},getTTL:function(b){var e=+new Date;n(b);return b in F&&F.__jstorage_meta.TTL&&F.__jstorage_meta.TTL[b]?(b=F.__jstorage_meta.TTL[b]-e)||0:0},flush:function(){F={__jstorage_meta:{CRC32:{}}};q();v();J(null,"flushed");return!0},storageObj:function(){function b(){}b.prototype=F;return new b},index:function(){var b=[],e;for(e in F)F.hasOwnProperty(e)&&"__jstorage_meta"!=e&&b.push(e);return b},
storageSize:function(){return B},currentBackend:function(){return k},storageAvailable:function(){return!!k},listenKeyChange:function(b,f){n(b);e[b]||(e[b]=[]);e[b].push(f)},stopListening:function(b,f){n(b);if(e[b])if(f)for(var k=e[b].length-1;0<=k;k--)e[b][k]==f&&e[b].splice(k,1);else delete e[b]},subscribe:function(b,e){b=(b||"").toString();if(!b)throw new TypeError("Channel not defined");G[b]||(G[b]=[]);G[b].push(e)},publish:function(b,e){b=(b||"").toString();if(!b)throw new TypeError("Channel not defined");
F.__jstorage_meta||(F.__jstorage_meta={});F.__jstorage_meta.PubSub||(F.__jstorage_meta.PubSub=[]);F.__jstorage_meta.PubSub.unshift([+new Date,b,e]);q();v()},reInit:function(){I()}};f()}})(ajq);if("undefined"!==typeof ajq){window.evergageDisableAjqPsuedoDefinitions||(ajq.expr[":"].containsExact=ajq.expr.createPseudo(function(b){return function(f){return ajq.trim(ajq(f).text())===b}}),ajq.expr[":"].textMatch=ajq.expr.createPseudo(function(b){return function(f){return ajq.trim(f.textContent)===b}}),
ajq.expr[":"].hasOnlyTextChild=ajq.expr.createPseudo(function(b){return function(b){return 1===b.childNodes.length&&3===b.childNodes[0].nodeType}}));ajq.isTrimNative=!1;ajq.checkTrimNative=function(){ajq.isTrimNative=/^\s*function[^{]+\{\s*\[native code\]\s*\}\s*$/.test(String.prototype.trim)};ajq.trim=function(b){return null==b?"":void 0!==ajq&&!0===ajq.isTrimNative?b.trim():b.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};ajq.log=evergageLog;var _aaq=window._aaq||[],_aaqi=window._aaqi||[];window._aaq=
_aaq;window._aaqi=_aaqi}var Evergage=function(){function b(){if(z.useSiteConfig&&!N(L)&&!Se){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Site config already available.");Gf();if(z.hideContentSections&&ajq.isArray(z.hideContentSectionsList)&&qa(z.hideContentSectionsMillis)&&0<z.hideContentSectionsMillis){var r=z.hideContentSectionsList;r.push(z.hideContentSectionsMillis);Evergage.hideSections.apply(null,r)}z.hidePagesForRedirect&&ajq.isArray(z.hidePageBeforeRedirectList)&&qa(z.hidePagesForRedirectMillis)&&
0<z.hidePagesForRedirectMillis&&(r=z.hidePageBeforeRedirectList,r.push(z.hidePagesForRedirectMillis),Evergage.hidePages.apply(null,r));Se=!0}}function f(r,a){try{if(!0===Zf){var b=new CustomEvent("sendToEvergageSideBarTools",{detail:{eventType:r,eventData:JSON.parse(JSON.stringify(a))}});document.dispatchEvent(b)}}catch(c){P(c,r+"_ForDevTools"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Error sending ["+r+"] to sidebar tools.")}}function I(r,a){if("function"==typeof window.CustomEvent&&"function"==
typeof document.dispatchEvent&&!0===ajq.browser.chrome)try{var b=new CustomEvent("pushEventParamsForProfiler",{detail:{randomParam:r,params:a}});document.dispatchEvent(b)}catch(c){P(c,"pushEventParamsForProfiler")}}function g(r){try{if(ajq.log.shouldLog("DEBUG")&&console.log('Evergage: userAgent\x3d"'+(window.evergageTestUserAgent||window.navigator.userAgent)+'"'),fh.test(window.evergageTestUserAgent||window.navigator.userAgent))B("Evergage: Beacon detected robot user agent - initialization aborted.");
else if($b())B("Evergage: Beacon detected page is prerendered - initialization aborted.");else if("object"!==typeof evergageJSON||"function"!==typeof evergageJSON.stringify||"function"!==typeof evergageJSON.parse)B("Evergage: Beacon cannot run within browsers lacking native JSON support. Initialization aborted.");else if(0<ajq("html[evergageVisualEditorLoading]").length)B("Evergage: The Visual Editor will be loaded for this page, so not running the existing Evergage beacon.");else{z.runningInMobileApp&&
ajq.log.shouldLog("DEBUG")&&console.log("Evergage: phonegap integration detected. Flicker defense, URL action mapping, field capturing and click tracking will be disabled.");!0===r&&(pc=!0,U.hasBeenFired=!1,Te=Bb=Ld=U.canBeFiredYet=!1,rb=qc=ab=null,ad=0,bd=pa=Ja=-1,Se=!1);Ue=[];Ve=[];We();$f();b();if(da()){ajq.evgjStorage.storageAvailable()&&"true"===window.localStorage.isEvergageToolsSideBarEnabled&&(Zf=!0,f("beaconInitialization",{account:ha,dataset:Ca,beaconVersion:12,trackerUrl:Da,cdnHost:rc}));
ajq.log.shouldLog("INFO")&&console.log("Evergage: Initializing Beacon v12 (accountKey\x3d"+ha+", datasetId\x3d"+Ca+", url\x3d"+Da+")...");Lc();O();Md.isInitialized()||null===z.googleAnalyticsIntegrationConfig||Md.init(z.googleAnalyticsIntegrationConfig);ca();ag(r);for(var a in U.waitingOn)U.waitingOn.hasOwnProperty(a)&&(U.waitingOn[a]=!1);U.actionName=null;!0===z.siteConfigExecBeforePageReady&&ye();ajq(document).ready(J)}bg=!0}}catch(c){P(c,"init("+r+")")}}function J(){try{cg=!0,!0!==z.siteConfigExecBeforePageReady&&
ye(),Xg(),v()}catch(r){P(r,"evergagePageReadyWrapper")}}function v(){try{!0!==ib&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Ensuring that we reshow the personalized sections at page ready."),!0===Bb&&0<sb.length&&(D(Cb,function(r,a){var b=a.bundle;clearTimeout(a.timeout);delete Cb[r];Ha(b)}),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Reshowing personalized sections due to page ready timer."),clearTimeout(ya),ya=-1,tb=!1,Pb()),sc=!0)}catch(r){P(r,"reshowPersonalizedSectionsAfterReady")}}
function H(){pa=0;var r=(new Date).getTime();if(-1===Ja||r-Ja>=z.minimumActivityTimeToRegister)Ja=r;ub=setTimeout(function(){q(!0)},z.timeOnPageTimer);ajq(window).unbind("blur.evergage",K);ajq(window).bind("blur.evergage",K);ajq(window).unbind("focus.evergage",F);ajq(window).bind("focus.evergage",F);ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Q);ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Q)}function q(r){var a=
(new Date).getTime();-1!==Ja&&(a-=Ja,z.timeOnPageTimer<a?t():(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage before: sendActivityPingRequest",pa),pa+=a,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage after: sendActivityPingRequest",pa),-1!==bb&&clearTimeout(bb),bb=setTimeout(t,z.timeOnPageTimer-a)));0<pa&&(pa=Math.min(pa,z.timeOnPageTimer),ue(pa),pa=0);0>pa&&(pa=0);r&&(-1!==ub&&clearTimeout(ub),ub=setTimeout(function(){q(!0)},z.timeOnPageTimer))}function t(){try{-1!==
bb&&(clearTimeout(bb),bb=-1);var r=(new Date).getTime(),a=0;-1!==Ja&&(a=r-Ja);-1!==bd&&(r-=bd,r<a||0===a)&&(a=r);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage before: setUserInactive",pa);pa+=a;ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage after: setUserInactive",pa);Ja=-1}catch(b){P(b,"setUserInactive")}}function n(){try{ajq(window).unbind("scroll.evergage resize.evergage",A),Nd=-1,Od=(new Date).getTime(),D(Qb,function(r,a){var b=!1;if(p(a)&&"number"===typeof a.length&&
0<=a.length){for(var c=0;c<a.length;c++){var d=a[c],e=d.bundle;if(Yb(d.selector)||e.userGroup===Ka.Default&&Yb(xd(e.id))){Sc(e);ajq.log.shouldLog("INFO")&&console.log("Evergage: sending impression for message "+ta(e)+" because it is now in the viewport.");b=!0;break}}b&&delete Qb[r]}}),N(Qb)?Od=0:ajq(window).bind("scroll.evergage resize.evergage",A)}catch(r){P(r,"maybeTrackImpressionsForOutOfViewCampaigns")}}function A(){try{var r=(new Date).getTime();50>r-Od?(ajq(window).unbind("scroll.evergage resize.evergage",
A),Od=r,Nd=setTimeout(n,50)):n()}catch(a){P(a,"listenForImpressionsForOutOfViewCampaigns")}}function Q(r){try{-1!==bb&&(clearTimeout(bb),bb=-1);var a=(new Date).getTime();if(-1===Ja||a-Ja>=z.minimumActivityTimeToRegister)-1!==Ja&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: timeOnPage before: activityRegistered",pa),pa+=a-Math.max(Ja,bd),ajq.log.shouldLog("TRACE")&&console.log("Evergage: timeOnPage after: activityRegistered",pa)),Ja=a}catch(b){P(b,"activityRegistered")}}function K(r){try{ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: window blurred"),t()}catch(a){P(a,"windowBlurFunction")}}function F(r){try{ajq.log.shouldLog("DEBUG")&&console.log("Evergage: window focused"),Q()}catch(a){P(a,"windowBlurFunction")}}function O(){if(z.testModeEnabledForPageLoad)La=z.testModeEnabledForPageLoad;else if(0<ajq("body.evergageVisualEditorTestMode").length)La=!0;else{var r=za(W.sessionSettings.ids.TestMessages),a=window.decodeURIComponent(window.location.search.substring(1)),b=window.location.hash.substring(1),c=/^.*evergageTestMessages=([\w,]*).*$/;
(La=0<=a.indexOf("evergageTestMessages\x3dfalse")||0<=b.indexOf("evergageTestMessages\x3dfalse")?null:a.match(c)?a.replace(c,"$1"):b.match(c)?b.replace(c,"$1"):null!=r?r:!1)?la(W.sessionSettings.ids.TestMessages,La):ajq.evgjStorage.deleteKey(sa(W.sessionSettings.ids.TestMessages));La&&ajq.log.shouldLog("INFO")&&console.log("Evergage: Test messages are enabled: "+La)}}function B(r){cd();ajq.log.shouldLog("WARN")&&console.log(r);_aaq=[]}function k(){void 0!==window.Evergage&&(cd(),Pd(),mc(),dg(),clearTimeout(Qd),
Qd=-1,window.Evergage=window.ajq=window._aaq=window._aaqi=window.Apptegic=window.ApptegicTwoWay=window.evergageJSON=window.evergageLog=window.evergageBeforeSiteConfigExecution=window.evergageSiteConfig=window.evergageSiteWideStyles=void 0,ib=!0)}function e(){var r=!1;ajq.evgjStorage.storageAvailable()&&"true"===window.localStorage.isEvergageToolsSideBarEnabled&&(zd(),r="true"===Evergage.getCustomField("_debug"));return r}function da(){if(!ha)return ajq.log.shouldLog("WARN")&&console.log("Evergage account key has not been set - initialization delayed."),
!1;if(!Ca)return ajq.log.shouldLog("WARN")&&console.log("Evergage dataset ID has not been set - initialization delayed."),!1;var r="https:"==window.location.protocol||e()?"https":"http";Da||(Da="localtest"===ha?"https://localtest.evergage.com:8443":r+"://"+ha+".evergage.com");rc||(rc=-1!==Da.indexOf("demo3")||-1!==Da.indexOf("demo4")||-1!==Da.indexOf("localtest")?Da:r+"://cdn.evergage.com");return!0}function R(){bg&&g()}function G(r){return ka(r)&&null!==r}function ia(r){return!G(r)||""===r}function ka(r){return"undefined"!==
typeof r}function ma(r){return"function"===typeof r}function p(r){return"object"===typeof r}function T(r){return"string"===typeof r||r instanceof String}function qa(r){return!isNaN(r-0)&&null!==r}function N(r){return p(r)&&ajq.isEmptyObject(r)}function u(r){return(ajq(r).prop("nodeName")||ajq(r).prop("tagName")).toLowerCase()}function M(r,a){return r&&a&&u(r)===a.toLowerCase()}function C(r){r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);
for(var a={},b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),c=0;c<b.length;c++)a[b[c]]=r[c]||"";a.queryKey={};a.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,b,c){b&&(a.queryKey[b]=c)});return a}function m(r){var a=function(r,a){return r<<a|r>>>32-a},b=function(r){for(var a="",b=7;0<=b;b--)a+=(r>>>4*b&15).toString(16);return a},c=Array(80),d=1732584193,e=4023233417,f=2562383102,h=271733878,k=3285377520,l,g,m,n,u,t;r=unescape(window.encodeURIComponent(r));
l=r.length;for(var q=[],p=0;p<l-3;p+=4)g=r.charCodeAt(p)<<24|r.charCodeAt(p+1)<<16|r.charCodeAt(p+2)<<8|r.charCodeAt(p+3),q.push(g);switch(l%4){case 0:m=2147483648;break;case 1:m=r.charCodeAt(l-1)<<24|8388608;break;case 2:m=r.charCodeAt(l-2)<<24|r.charCodeAt(l-1)<<16|32768;break;case 3:m=r.charCodeAt(l-3)<<24|r.charCodeAt(l-2)<<16|r.charCodeAt(l-1)<<8|128}for(q.push(m);14!=q.length%16;)q.push(0);q.push(l>>>29);q.push(l<<3&4294967295);for(r=0;r<q.length;r+=16){for(p=0;16>p;p++)c[p]=q[r+p];for(p=16;79>=
p;p++)c[p]=a(c[p-3]^c[p-8]^c[p-14]^c[p-16],1);l=d;g=e;m=f;n=h;u=k;for(p=0;19>=p;p++)t=a(l,5)+(g&m|~g&n)+u+c[p]+1518500249&4294967295,u=n,n=m,m=a(g,30),g=l,l=t;for(p=20;39>=p;p++)t=a(l,5)+(g^m^n)+u+c[p]+1859775393&4294967295,u=n,n=m,m=a(g,30),g=l,l=t;for(p=40;59>=p;p++)t=a(l,5)+(g&m|g&n|m&n)+u+c[p]+2400959708&4294967295,u=n,n=m,m=a(g,30),g=l,l=t;for(p=60;79>=p;p++)t=a(l,5)+(g^m^n)+u+c[p]+3395469782&4294967295,u=n,n=m,m=a(g,30),g=l,l=t;d=d+l&4294967295;e=e+g&4294967295;f=f+m&4294967295;h=h+n&4294967295;
k=k+u&4294967295}t=b(d)+b(e)+b(f)+b(h)+b(k);return t.toLowerCase()}function fa(r,a,b,c){if(r.addEventListener)return r.addEventListener(a,b,c),!0;if(r.attachEvent)return r.attachEvent("on"+a,b);r["on"+a]=b}function na(){if(Rd&&!0===Xe){Date.prototype.getTimeEvergageAlias=Date.prototype.getTime;var r;do r=new Date;while(r.getTimeEvergageAlias()<Rd)}ra()}function ra(){if(0<pa){var r=vd(pa);if(null!=r){var a=W.storedRequests.ids.StoredPingRequest,r={params:r,currentPageUrl:ua()};la(a,r)}}}function D(r,
a){for(var b in r)r.hasOwnProperty(b)&&"function"!==typeof r[b]&&a(b,r[b])}function X(r,a){var b=C(r).query,c=new RegExp("(?:^|\x26)"+a+"\x3d([^\x26]*)");return(b=b?c.exec(b):0)?window.decodeURIComponent(b[1]):""}function y(r,a,b){l(function(){Na(r,a,b)})}function Y(r){return l(function(){return oa(r)})}function l(r){ajq.cookie.json=!0;try{return r()}finally{ajq.cookie.json=!1}}function oa(r){if(x()){var a=ajq.cookie(r);ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded ["+r+"] cookie:",a);
return a}a=za(r);ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded ["+r+"] cookie from local storage:",a);return a}function x(r){if(!0===Rb&&!0!==r)return!0;if(!1===Rb&&!0!==r)return!1;r=Oa(3E4);null===r||null===r.domain||-1===r.domain.indexOf(".")?(Rb=!1,"chrome-extension:"!==window.location.protocol&&ajq.log.shouldLog("WARN")&&console.log('Evergage: Unable to store cookies due to lack of "." in the domain name ['+r.domain+"].  Falling back to the browser's LocalStorage.")):Rb=!0;return Rb}
function Na(r,a,b){var c=Oa(b);x()&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting ["+r+"] cookie:",a,c),ajq.cookie(r,a,c));c=ajq.cookie(r);c=!0===ajq.cookie.json?evergageJSON.stringify(c)===evergageJSON.stringify(a):c===a;c||(Rb=!1,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Storing what would normally be a cookie into the browser's LocalStorage."),la(r,a,b))}function Z(r){if(x()){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing ["+r+"] cookie...");var a=Oa();ajq.removeCookie(r,
a)}else ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing the LocalStorage value ["+r+"].  Normally this would be a cookie but we were unable to store cookies on this site."),ajq.evgjStorage.deleteKey(sa(r))}function Oa(r){var a={};r&&(a.expires=new Date((new Date).getTime()+r));a.path="/";if(z.cookieDomain)a.domain=z.cookieDomain;else for(a.domain=ob(dd);!Mc(a.domain);)a.domain=a.domain.substring(a.domain.indexOf(".")+1,a.domain.length);!0===eg&&(a.secure=eg);return a}function ob(r){0===
r.indexOf("www.")&&(r=r.substring(4,r.length));return r}function ba(r){var a=r.length;"."===r.charAt(--a)&&(r=r.slice(0,a));"*."===r.slice(0,2)&&(r=r.slice(1));return r}function ca(){if(z.doNotTrack)return Z(Pa("id")),Z(Ba("a")),Z(Pa("ses")),Z(Ba("sessionSettings")),Z(Pa("sessionSettings")),Z(Ba("logging")),Z(Pa("logging")),Z(Ba("performanceTest")),Z(Pa("performanceTest")),Z(Pa("userId")),Z(Ba("n")),D(W,function(r,a){D(a.ids,function(r,a){ajq.evgjStorage.deleteKey(sa(a))})}),!1;var r=!za(W.session.ids.SessionTicket);
Nb(Ma());la(W.session.ids.SessionTicket,"*");zb();r||(tc=za(W.session.ids.UserInfo),null==tc&&(tc={}),d(W.session));return r}function d(r){D(r.ids,function(a,b){ajq.evgjStorage.setTTL(sa(b),r.timeoutMillis)})}function fb(r){return z.discardHashTag?r.replace(/#.*/,""):r}function Xa(r){return qd(r,3072)}function Wa(r){for(var a=0;a<z.hostsAlias.length;a++)if(z.hostsAlias[a]){var b=ba(z.hostsAlias[a].toLowerCase());if(r===b)return!0;if("."===b.slice(0,1)){if(r===b.slice(1))return!0;var c=r.length-b.length;
if(0<c&&r.slice(c)===b)return!0}}return!1}function sd(r){if(z.preventSensitiveDataCapture)for(var a=0;a<r.length;a++){var b=r[a],c=b.name;"userId"!=c&&"company"!=c&&".anonId"!=c&&td(b.value)&&(ajq.log.shouldLog("WARN")&&console.log("Evergage: Event field ["+b.name+"] appears to contain sensitive data - excluding from event and removing from memory."),r.splice(a,1),a--,Ye(b.name))}null!=z.trafficSourceIndex&&S(r,".s",z.trafficSourceIndex);Cd(r,".bv",12)}function te(r){z.doNotTrack||$b()||Sd.push(r)}
function Lb(r,a,b,c){if(!z.doNotTrack&&!$b()){var d=(new Date).getTime();Td(r,!0)&&(sd(r),c?(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Form submit action stored in case we do not get a response on this page."),r={params:r,currentPageUrl:ua()},la(W.storedRequests.ids.FormSubmitRequests,r)):(Ud&&!b?Mb(r,a):ac(r,b?"/msreceiver":"/jsreceiver"),Rd=d+z.trackerDelay))}}function $b(){return"prerender"===document.visibilityState&&!0!==ajq.browser.safari&&"66f824351809c77d41b28978ce8fb0dcb98fd706"!==
m(ha)}function td(r){if(!r)return!1;r=T(r)?r:r.toString();r=gh.validateCreditCard(r);return!!(r.card_type&&r.luhn_valid&&r.length_valid)}function ac(r,a){var b="undefined"!==typeof window.EvergageUnitTestingMode&&!0===window.EvergageUnitTestingMode&&"function"===typeof window.evergageEventSentOneWay;("/er"==a||b)&&S(r,"_r",cc());var c=ajq.param(r,!0),c=Da+a+"?"+c;b?window.evergageEventSentOneWay(c):"/er"!=a?(c=ajq.param([{name:"_r",value:cc()}]),ajq.ajax({url:Da+a+"?"+c,data:r,type:"POST",dataType:"json",
error:function(r,b,c){r=bc(a,r,c);P(Error(r),"sendEventOneWay");"Forbidden"==c&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Page origin does not match accepted origins"),k())}})):(b=new Image(1,1),b.onload=function(){},b.src=c)}function ud(a){S(a,"_ak",ha);S(a,"_ds",Ca);for(var b=wd(),c=0;c<b.length;c++)S(a,b[c].name,b[c].value);return a}function vd(a){bd=(new Date).getTime();var b=ud([]);if(!Td(b,!0))return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not logging a ping request since the event would be invalid."),
null;if(null!=Ea&&"object"===typeof Ea&&(Ea.type==Vd.Product||Ea.type==Vd.Blog||Ea.type==Vd.Article)){var c;if(z.trackContextualRelatedItems){c=uc(Ea,["_id","type","tags","categories"]);if(ajq.isArray(c.categories)){for(var d=[],e=0;e<c.categories.length;e++)d[e]=uc(c.categories[e],["_id","type"]);c.categories=d}if(ajq.isArray(c.tags)){d=[];for(e=0;e<c.tags.length;e++)d[e]=uc(c.tags[e],["_id","type","tagType"]);c.tags=d}}else c=uc(Ea,["_id","type"]);S(b,".item",evergageJSON.stringify(c))}null!=rb&&
S(b,"action",rb);S(b,".top",a);vc&&(a=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd"),0<a&&(S(b,".dt",a),vc=!1));wc&&(a=Evergage.getTimeSincePageInitForVariable("loadEventEnd"),0<a&&(S(b,".lt",a),wc=!1));0<ed&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending delayed trwreceiver timing from previous event..."),S(b,".tt",ed),ed=0);0<Wd&&(S(b,".ttdns",Wd),Wd=0);return b}function wd(){var a=[],b=[];Qc(b);for(var c=["userId","_persistedUserId",".anonId","_anon",".aaId"],
d=0;d<b.length;d++)-1!==ajq.inArray(b[d].name,c)&&S(a,b[d].name,b[d].value);return a}function ue(a){a=vd(a);null!=a&&(ac(a,"/pr"),ajq.evgjStorage.deleteKey(sa(W.storedRequests.ids.StoredPingRequest)))}function Mb(a,b,c,d){fg(a);var f=cc();I(f,a);var h=ajq.param([{name:"_r",value:f}]),h=Da+"/twreceiver?"+h;if(b&&(!0===ajq.browser.mozilla||!0===ajq.browser.safari)){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Click action stored in case we do not get a response on this page.");var l={params:a,
currentPageUrl:ua(),requestId:m(a).slice(0,4)},g=W.storedRequests.ids.DelayedClick,n=za(g);ka(n)&&G(n)?void 0===n.length&&(n=[n],n[0].id=m(a).slice(0,4),n.push(l)):n=[];n.push(l);la(g,n)}h={url:h,data:a,type:"POST",dataType:"json",jsonp:!1,crossDomain:!0,success:function(b){try{Ib(b,c||ua(),a,f),G(c)&&c!==ua()||!0===tb||(clearTimeout(ya),ya=-1,tb=!1,Pb())}catch(d){P(d,"handleTwoWayBeaconSuccess"),G(c)&&c!==ua()||(clearTimeout(ya),ya=-1,tb=!1,Pb())}},error:function(a,r,b){G(c)&&c!==ua()||(clearTimeout(ya),
ya=-1,tb=!1,Pb());a=bc("/twreceiver",a,b);P(Error(a),"sendEventTwoWay");"Forbidden"==b&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Page origin does not match accepted origins - removing beacon and listeners"),k())},complete:function(){if(b||d){var a=W.storedRequests.ids.DelayedClick,r=za(a);if(ka(r)&&G(r))if(void 0===r.length)r.currentPageUrl==ua()&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Response received - removing stored click action..."),ajq.evgjStorage.deleteKey(sa(a)));
else{for(var c=!1,e=0;e<r.length;e++)r[e].currentPageUrl==ua()&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Response received - removing stored click action with id ["+r[e]+"]."),r.splice(e,1),e--,c=!0);c&&(0===r.length?ajq.evgjStorage.deleteKey(sa(a)):la(W.storedRequests.ids.DelayedClick,r))}}}};e()&&(h.xhrFields={withCredentials:!0});ajq.ajax(h)}function ua(){return"string"===typeof z.pageUrl&&""!==z.pageUrl?z.pageUrl:window.location.href}function yb(){return z.pageTitle||ajq.trim(document.title).replace(/\s{2,}/g,
" ")}function qd(a,b){return"string"!==typeof a||a.length<=b?a:a.substring(0,b)}function Gb(a){return qd(a,1024)}function Ya(){var a=Jc(),b=X(a,"setApptegicLoggingLevel");if(b&&null!=ajq.log.setLoggingLevel(b))return la(W.sessionSettings.ids.LoggingLevel,b),b;if((b=ajq.cookie(Ba("logging")))&&null!=ajq.log.setLoggingLevel(b))return Z(Ba("logging")),la(W.sessionSettings.ids.LoggingLevel,b),b;if((b=X(a,"setEvergageLoggingLevel"))&&null!=ajq.log.setLoggingLevel(b))la(W.sessionSettings.ids.LoggingLevel,
b);else if(b=za(W.sessionSettings.ids.LoggingLevel),!b||null==ajq.log.setLoggingLevel(b))return null;return b}function Jc(){var a;if(window.location==window.top.location)a=window.location.href;else{try{a=window.top.location.href}catch(b){a=null}a||(a=document.referrer)}ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Top URL: "+a);return a}function Kc(){var a=X(ua(),"setApptegicPerformanceTestLevel");a&&null!=ajq.log.setPerformanceTestLevel(a)?la(W.sessionSettings.ids.PerfLoggingLevel,a):(a=ajq.cookie(Ba("performanceTest")))&&
null!=ajq.log.setPerformanceTestLevel(a)&&(Z(Ba("performanceTest")),la(W.sessionSettings.ids.PerfLoggingLevel,a));if((a=X(ua(),"setEvergagePerformanceTestLevel"))&&null!=ajq.log.setPerformanceTestLevel(a))la(W.sessionSettings.ids.PerfLoggingLevel,a);else if(a=za(W.sessionSettings.ids.PerfLoggingLevel),!a||null==ajq.log.setPerformanceTestLevel(a))return null;return a}function sa(a){return"evergage|"+ha+"|"+Ca+"|"+a}function za(a,b){return ajq.evgjStorage.storageAvailable()?ajq.evgjStorage.get(sa(a),
b):null}function la(a,b,c){if(ajq.evgjStorage.storageAvailable()){var d=sa(a),e=we(a);qa(c)&&0<c&&(e=c);0<e?ajq.evgjStorage.set(d,b,{TTL:e}):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to find storage timeout for ["+a+"]")}}function we(a){var b=0;D(W,function(c,d){D(d.ids,function(c,e){e==a.slice(0,e.length)&&(b=d.timeoutMillis)})});return b}function P(a,b,c){try{var d=dc(a,b,c);if(!(3<=gg)){d=ud(d);S(d,"url",Xa(ua()));S(d,"title",Gb(yb()));Cd(d,".bv",12);!0===U.hasBeenFired&&S(d,".epv",
"");null!=rb?S(d,"action",rb):!0!==U.hasBeenFired&&ad++;var e;if(e=!ajq.isEmptyObject(d))try{e=null!=z.sendErrorEvents?z.sendErrorEvents:"object"===typeof window.evergageSiteConfig&&"object"===typeof window.evergageSiteConfig.beaconConfig&&"boolean"===typeof window.evergageSiteConfig.beaconConfig.sendErrorEvents?window.evergageSiteConfig.beaconConfig.sendErrorEvents:!1}catch(f){ajq.log.shouldLog("WARN")&&console.log("Evergage: There was an exception trying to get the error events enablement flag when sending an error event."),
e=!1}e&&"string"===typeof Da&&(ac(d,"/er"),gg++)}}catch(f){}}function bc(a,b,c){c&&(a+=" ["+c+"]");b.responseText&&(a+=" "+b.responseText.slice(0,1E3));return a}function cc(){return String(Math.random()).slice(2,8)}function Aa(a){if(null==a||974>=a.length)return a;var b=730.5,c=243.5;974!=b+c&&(b+=974-(b+c));10<c?c-=5:10<b&&(b-=5);return a.substring(0,b)+" ... "+a.substring(a.length-c)}function dc(a,b,c){var d=[];try{S(d,".em",Aa(a.message));S(d,".es",b);if(!0===ajq.browser.chrome||!0===ajq.browser.msie){if("string"===
typeof a.stack){var e=a.stack.split("\n")[1],f=e.substring(e.indexOf("at ")+3),h=f.match(/(.*) \((.*):(\d+):(\d+)\)/);ajq.isArray(h)&&(S(d,".ef",Aa(h[1])),S(d,".eu",Aa(h[2])),S(d,".el",Aa(h[3])),S(d,".ec",Aa(h[4])))}!0===ajq.browser.chrome?S(d,".vt","chrome"):!0===ajq.browser.msie&&S(d,".vt","ie")}else!0===ajq.browser.safari?(S(d,".ef",Aa(a.stack.substring(0,a.stack.indexOf("@")))),S(d,".eu",Aa(a.sourceURL)),S(d,".el",Aa(a.line)),S(d,".ec",Aa(a.column)),S(d,".vt","safari")):!0===ajq.browser.mozilla&&
(S(d,".ef",Aa(a.stack.substring(0,a.stack.indexOf("@")))),S(d,".eu",Aa(a.fileName)),S(d,".el",Aa(a.lineNumber)),S(d,".ec",Aa(a.columnNumber)),S(d,".vt","firefox"));var l=parseInt(ajq.browser.version);isNaN(l)||S(d,".vn",l);!0!==c&&ajq.log.shouldLog("WARN")&&console.log("Evergage: There was an exception at "+f);return d}catch(k){return"function"===typeof window.ajq&&"function"===typeof window.ajq.log&&window.ajq.log.shouldLog("DEBUG")&&console.log("Evergage: There was an exception trying to log an exception",
k,a),d}}function Ba(a){""===Xd&&Lc();return"_evg"+a+"_"+Xd}function Pa(a){""===Xd&&Lc();return"_at_"+a+"."+ha+"."+Ca+"."+Yd}function Lc(){if(""===Yd){for(var a=dd;!Mc(a);)a=a.substring(a.indexOf(".")+1,a.length);Yd=m((z.cookieDomain||[a])+(z.cookiePath||"/")).slice(0,4)}Xd=m(ha+"."+Ca+"."+Yd).slice(0,4)}function Mc(a){if(a.indexOf(".")==a.lastIndexOf("."))return!0;var b=a.substring(0,a.lastIndexOf("."));a=a.substring(a.lastIndexOf(".")+1);return!isNaN(parseInt(a))||b.indexOf(".")==b.lastIndexOf(".")&&
-1!=ajq.inArray(a.toLowerCase(),hh)?!0:!1}function zb(){!1===va&&zd();if(!1===V){if(null==V||!1===V)V={};var a=Y(Ba("n"));null!=a&&"object"===typeof a&&(null!=a.puid&&"string"===typeof a.puid&&""!==a.puid&&(V._persistedUserId=a.puid),null!=a.paid&&"string"===typeof a.paid&&""!==a.paid&&(V._persistedAccountId=a.paid));a=za(W.identity.ids.RelatedIdentityFields,!1);if(null!=a&&"object"===typeof a)for(var b="userId _userIdHashSalt _userIdHash company _accountIdHashSalt _accountIdHash".split(" "),c=0;c<
b.length;c++){var d=a[b[c]];null!=d&&"string"===typeof d&&""!==d&&(V[b[c]]=d)}a=!1;b=null==V._persistedUserId;c=null==V._persistedAccountId;for(d=0;d<fd.length;d++){var e=va[fd[d]];null!=e&&(a=!0,"string"===typeof e&&""!==e&&b&&(V[fd[d]]=e),delete va[fd[d]])}for(d=0;d<gd.length;d++)e=va[gd[d]],null!=e&&(a=!0,"string"===typeof e&&""!==e&&c&&(V[gd[d]]=e),delete va[gd[d]]);a&&Hb();jb()}}function zd(){var a=W.session.ids.CustomFields,b=Y(Pa("userId")),c=za(a,!1);"object"===typeof b&&("object"!==typeof c&&
(c={}),ajq.extend(c,b),la(a,c),Z(Pa("userId")));va=(a=c)?a:{}}function Ad(){va={};Hb();xc={};Sb={}}function Hb(){!1!==va&&(va?ajq.each(va,function(a,b){va.hasOwnProperty(a)&&(ka(b)&&G(b)||delete va[a])}):va={},ajq.isEmptyObject(va)?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing visit scope fields from localStorage since all values are gone."),ajq.evgjStorage.deleteKey(sa(W.session.ids.CustomFields))):(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Saving visit scope fields to localStorage."),
la(W.session.ids.CustomFields,va)))}function ic(){return z.doNotStoreCookiesRequireProvidedAnonId||window.evergageSiteConfig&&window.evergageSiteConfig&&window.evergageSiteConfig.beaconConfig&&window.evergageSiteConfig.beaconConfig.doNotStoreCookiesRequireProvidedAnonId}function Nb(a){if(ic())ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting visitor ID, but not into a cookie: "+a.uuid),Zd=a.uuid;else{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting visitor cookie: "+a.toString());
var b=Ba("a");a=a.uuid+"."+a.affinityId;ajq.log.shouldLog("TRACE")&&console.log("Evergage: Visitor cookie value is ["+a+"].");Na(b,a,W.anonymousId.timeoutMillis)}}function Ma(){if(ic())return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loading visitor ID, but not from cookie: "+Zd),{uuid:Zd,affinityId:""};var a,b=oa(Pa("id"));null!=b?(a=Bd(b),null!=a&&Nb(a),Z(Pa("id"))):b=oa(Ba("a"));(a=Bd(b))||(a={uuid:Pc(),affinityId:""});a.toString=function(){return'Visitor{uuid\x3d"'+this.uuid+'", affinityId\x3d"'+
this.affinityId+'"}'};return a}function Bd(a){var b={};if(a)try{var c=a?a.split("."):[];b.uuid=c[0];b.affinityId=8<=c.length?c[7]:2===c.length?c[1]:""}catch(d){P(d,"loadVisitorCookie"),b=null}else ajq.log.shouldLog("INFO")&&console.log("Evergage: No visitor cookie found."),b=null;return b}function Pc(){var a=(navigator.userAgent||"")+(navigator.platform||"")+evergageJSON.stringify(ih)+(new Date).getTime()+Math.random();ajq.log.shouldLog("TRACE")&&console.log("Evergage: Generating visitor ID from SHA1 hash of string ["+
a+"]...");return m(a).slice(0,16)}function pb(a,b){var c=[];S(c,"_ak",ha);S(c,"_ds",Ca);Qc(c);Ge(c,a);Za(c,b);return c}function Qc(a){var b=z.referrerUrl||jh;T(b)&&""!=b&&S(a,"urlref",Xa(fb(b)));Za(a,z.customFields);b=!1;Za(a,Sb);Za(a,xc);for(var c=0;c<a.length;c++)"userId"==a[c].name&&(b=!0);Za(a,va);Za(a,V);G(V.userId)?(S(a,"_reqPersistedEntityIds",""),b=!0):V._persistedUserId&&(b=!0);!0===z.trackAnonymous&&(c=Ma(),S(a,".anonId",c.uuid),c.affinityId&&S(a,".aaId",c.affinityId),b||S(a,"_anon",!0));
G($d)&&S(a,".pageLocale",$d)}function Ia(a,b,c,d){if(kh.canTrackAction(a)){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending action event (action\x3d"+a+", isClick\x3d"+!!c+", isFormSubmit\x3d"+!!d+")...");var e=[];a&&S(e,"action",a);c||d||(S(e,"url",Xa(ua())),S(e,"title",Gb(yb())));var h;a:if(h=Jc(),(h=X(h,"setEvergageClientIp"))&&Evergage.setClientIp(h))la(W.sessionSettings.ids.ClientIp,h);else if(h=za(W.sessionSettings.ids.ClientIp),!h||!Evergage.setClientIp(h)){h=null;break a}h&&S(e,
"clientIp",h);ca();yd();b=pb(e,b);La&&S(b,".testMessages",La);0<ad&&S(b,".ple",ad);for(e=0;e<Tb.length;e++)try{Tb[e](a,b,c,d)}catch(l){P(l,"actionListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Action callback with error: "+Tb[e])}Md.handleActionEvent(a,b,c,d);f("actionEvent",{actionName:a,params:b,isClickAction:c,isFormSubmitAction:d});Sb={};Lb(b,c,null,d)}}function S(a,b,c){b&&(ka(c)&&G(c)||(c=""),a.push({name:b,value:c}))}function Ge(a,b){b&&ajq.each(b,function(b,c){c.hasOwnProperty("name")&&
c.hasOwnProperty("value")&&S(a,c.name,c.value)})}function Cd(a,b,c){if(!ia(b)&&ka(c)&&G(c)){var d=!1;ajq.each(a,function(a,r){if(r.name===b)return r.value=c,d=!0,!1});d||a.push({name:b,value:c})}}function Za(a,b){b&&ajq.each(b,function(c,d){b.hasOwnProperty(c)&&"_userIdHashSalt"!==c&&"_userIdHash"!==c&&"_accountIdHash"!==c&&"_accountIdHashSalt"!==c&&S(a,c,d)})}function Wb(a){if(a){var b={};ajq.each(a,function(a,r){r.hasOwnProperty("name")&&r.hasOwnProperty("value")&&(b[r.name]=r.value)});return b}}
function Rc(a,b,c){var d=[];S(d,b,fb(a));yd();a=pb(d,c);Sb={};Lb(a);P(Error("logLinkCalled"),"logLinkCalled");ajq.log.shouldLog("WARN")&&console.log("Evergage: This API is deprecated and will be removed in a future release.")}function Dd(a){if(a.delayImpressionUntilInViewport&&"page"==a.target.renderType||"callout"==a.target.renderType)if(!ia(a.target.originalTargetSelector)&&Yb(a.target.originalTargetSelector)||Yb(a.target.target)||a.userGroup===Ka.Default&&Yb(xd(a.id)))Sc(a);else{var b=N(Qb);null==
Qb[a.experienceId]&&(Qb[a.experienceId]=[]);for(var c=Qb[a.experienceId],d=!1,e=0;e<c.length;e++)if(c[e].bundle.id===a.id){d=!0;break}d||(c.push({selector:ia(a.target.originalTargetSelector)?a.target.target:a.target.originalTargetSelector,bundle:a}),b&&(ajq(window).unbind("scroll.evergage resize.evergage",A),ajq(window).bind("scroll.evergage resize.evergage",A)))}else Sc(a)}function Sc(a){if(!a.previewMode&&!a.impressionTracked){var b=[];if(!kb[a.experienceId]){var c=gb(a,lb.Impression);b.push(c);
kb[a.experienceId]=!0}c=wa(a,lb.Impression);b.push(c);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for "+ta(a)+"...",b);Ga(a,b);a.impressionTracked=!0}}function xa(a,b,c){a.previewMode||(b=gb(a,lb.Clickthrough,b),c=wa(a,lb.Clickthrough,c),c=[b,c],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking clickthrough for "+ta(a)+"...",c),Ga(a,c))}function Tc(a){if(!a.previewMode){var b=eb(ae.Experience,a.experienceId,lb.Clickthrough);a.userGroup==Ka.Control&&(b[Ua.UserGroup]=
Ka.Control);b=[b];ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking clickthrough for experience "+Ze(a)+"...",b);Ga(a,b)}}function gb(a,b,c){b=eb(ae.Experience,a.experienceId,b);a.userGroup==Ka.Control&&(b[Ua.UserGroup]=Ka.Control);c&&(b[Ua.ClickthroughUrl]=c);return b}function wa(a,b,c){b=eb(ae.Message,a.id,b);b[Ua.ExperienceId]=a.experienceId;a.userGroup==Ka.Control&&(b[Ua.UserGroup]=Ka.Control);a.promotedItemKeys&&(b[Ua.PromotedItemKeys]=a.promotedItemKeys);if(c&&0<ajq(c).length){var d=
ajq(c).closest("[data-evg-item-id]");0<d.length&&(a=d.attr("data-evg-item-id"),c=d.attr("data-evg-item-type"),d=d.attr("data-evg-item-tagType"),"string"===typeof a&&0<a.length&&"string"===typeof c&&0<c.length&&(a={_id:a,type:c},"string"===typeof d&&0<d.length&&(a.tagType=d),b[Ua.PromotedItemKeys]=[a]))}return b}function eb(a,b,c){var d={};d[Ua.ComponentType]=a;d[Ua.ComponentId]=b;d[Ua.StatType]=c;return d}function Ga(a,b,c){ajq.each(b,function(b,c){if(c.type===ae.Experience){for(var d=0;d<Ub.length;d++)try{Ub[d](c.id,
c.stat,ajq.extend(!0,{},a))}catch(e){P(e,"experienceListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Experience callback with error: "+Ub[d])}Md.handleCampaignEvent(c.id,c.stat,ajq.extend(!0,{},a));f("experienceEvent",{id:c.id,statType:c.stat,message:a})}});if(z.disableCampaignStatTracking)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Campaign stat tracking is disabled. Ignoring attempt to send msreceiver.");else{var d=[{name:".cStat",value:evergageJSON.stringify(b)}];$e?
(te(b),af=c):(b=pb(d,c),Lb(b,!1,!0))}}function jc(a,b){var c="(^| )(apptegic[_-]"+b;if(a)for(var d=0;d<a.length;d++)c+="|"+a[d];return new RegExp(c+")( |$)")}function Ed(a){for(var b,c;(b=a.parentNode)&&"A"!==(c=a.tagName)&&"AREA"!==c;)a=b;if(G(a.href)&&(b=a.hostname||C(a.href).host,c=b.toLowerCase(),b=a.href.replace(b,c),!/^(javascript|vbscript|jscript|mocha|livescript|ecmascript):/i.test(b))){a=a.className;if(Wa(c)){c=jc(z.downloadClasses,"download");var d=jc(z.linkClasses,"link"),e=new RegExp("\\.("+
z.downloadExtensions+")([?\x26#]|$)","i");a=d.test(a)?"link":c.test(a)||e.test(b)?"download":0}else a="link";a&&Rc(b,a)}}function Uc(a){a=a||window.event;var b=a.which||a.button,c=a.target||a.srcElement;"click"===a.type?c&&Ed(c):"mousedown"===a.type?1!==b&&2!==b||!c?be=ce=null:(be=b,ce=c):"mouseup"===a.type&&(b===be&&c===ce&&Ed(c),be=ce=null)}function Ob(a){var b="https://"+ha+".evergage.com:8443";return("https:"==window.location.protocol?"https":"http")+"://"+ha+".evergage.com"!==Da&&b!==Da?(a?"\x26":
"?")+"_ak\x3d"+ha:""}function qe(){if("undefined"!==typeof Evergage&&!hd){bf=!0;var a=[],b=null,b=rc+"/beacon/"+ha+"/"+Ca+"/css/evergage.min.css",c=!1,d=Ob(c);""!==d&&(b+=d,c=!0);b+=(c?"\x26":"?")+".bv\x3d12";G(yc)&&(b+="\x26.tv\x3d"+yc);a.push(b);ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id","evergageThemesDiv").appendTo("body");"undefined"!==typeof Evergage&&Evergage&&"undefined"!==typeof Evergage.cssLazyLoader?(a=Evergage.cssLazyLoader(a,function(){!0!==ib&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Done loading CSS styleshees."),
hd=!0,Vc())}),ajq.merge(de,a)):(ajq.log.shouldLog("WARN")&&console.log("Evergage: Could not find the css lazy loader.  Styles and callout arrows for messages may have issues."),ajq.each(a,function(a,b){ajq("\x3clink/\x3e",{rel:"stylesheet",type:"text/css",href:b}).appendTo(ajq("head"))}),hd=!0,Vc())}}function Ib(a,b,c,d){if(!0!==ib){ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Response Handled");if(a){if(null!=lh(c,".pv"))try{if("object"===typeof window.performance&&"function"===typeof window.performance.getEntries)for(var e=
window.performance.getEntries(),h=e.length-1;0<=h;h--){var l=e[h];if(d&&(new RegExp(".*/twreceiver.*_r\x3d"+d+".*")).test(l.name)){var k=Math.round(l.duration);ajq.log.shouldTestPerf("RIGOROUS")&&console.log("Evergage: twreceiver Network Load Time"+k);0<k&&(ed=k);var g=Math.round(l.domainLookupEnd-l.domainLookupStart);0<g&&(Wd=g);break}}Evergage.loadTimeValuesReadyToSend()?Be():If()}catch(m){}c=a.campaignResponses||[];ajq.log.shouldLog("TRACE")&&console.log("Evergage: Received event response containing "+
c.length+" campaign(s).",a);for(h=0;h<zc.length;h++)try{zc[h](a)}catch(m){P(m,"campaignResponseListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Campaign Response callback with error: "+zc[h])}f("campaignResponseEvent",{response:a});1==a.errorCode?ajq.log.shouldLog("WARN")&&console.log("Evergage: Missing Encrypted User Id Parameter"):2==a.errorCode?ajq.log.shouldLog("WARN")&&console.log("Evergage: Invalid Encrypted User Id Parameter"):3==a.errorCode&&ajq.log.shouldLog("WARN")&&
console.log("Evergage: Busy Signal Received.  No Messages Returned");c=a.themeVersion;G(yc)?G(c)&&c>yc&&(yc=c):yc=c;if(a.persistedUserId){if(c=a.persistedUserId.entityId)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Persisted user ID: "+c),cf("_persistedUserId",c);if(c=a.persistedUserId.accountId)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Persisted account ID: "+c),cf("_persistedAccountId",c)}a.anonAffinityId&&(c=Ma(),d=!1,a.anonAffinityId&&c.affinityId!=a.anonAffinityId&&(c.affinityId=
a.anonAffinityId,d=!0,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Your anonymous user ID has been locked to node "+a.anonAffinityId+".")),d&&Nb(c));if(!0===L.editModeVisualEditor)return;!0!==hg&&(a=a.campaignResponses,0===window.location.href.indexOf("chrome-extension://")&&"function"===typeof storeMessageResponse?storeMessageResponse(a):Xb(a,b))}ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Response Handled")}}function He(a){a?(tc=a,la(W.session.ids.UserInfo,tc)):ajq.log.shouldLog("WARN")&&
console.log("Evergage: Received empty userInfo in response.")}function Xb(a,b,c){!0===ajq.evgjStorage.get("isEvergageVisualEditorEnabledForTab")?mc():b!=ua()?ajq.log.shouldLog("INFO")&&console.log("Evergage: Received a message response for a previous page - ignoring."):(pc&&(qb(a),pc=!1),G(a)&&0<a.length?Ie(a,c):!0!==sc&&(Bb=!0))}function Ie(a,b){var c=Le(a);if(null!=c)if(Fd(c.url)){if(Me(c),"Control"!=c.userGroup)return}else P(Error("Redirect loop detected in campaign ["+(c.campaignResponse?c.campaignResponse.campaignId:
"")+"]."),"handleEachCampaignComponentAppropriately");$e=!0;Kb(a);if(0===a.length)!0!==sc&&(Bb=!0),db();else{var c=Je(a),d=Gd(a);id=ajq.extend(id||{},Ne(d));rd(c);bf||!0===b?(hd||!0===b)&&Vc():(tb=!0,qe());setTimeout(function(){db()},100)}}function Fd(a){if(!a)return!0;var b=document.createElement("a");b.href=a;return!(b.hostname==document.location.hostname&&b.pathname==document.location.pathname&&b.hash==document.location.hash)}function db(){$e=!1;if(0<Sd.length){var a=(new Date).getTime(),b=[{name:".cStat",
value:evergageJSON.stringify(Sd)}],b=pb(b,af);if(!Td(b,!0))return;sd(b);ac(b,"/msreceiver");Rd=a+z.trackerDelay}Sd=[];af={}}function rd(a){a=Ke(a);0<a.length&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Executing "+a.length+" matching page changes..."),ajq.each(a,function(a,b){a:if(ee)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping display of page change ["+b.id+":"+b.cssSelector+"] for campaign ["+b.campaignId+"], experience ["+b.experienceId+"] because personalization did not occur within the allotted time "+
z.hideContentSectionsMillis+"."),f("pageChangeExecution",{info:"timedOut",pageChange:b});else{try{if("Control"!=b.userGroup){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Executing page change for campaign ["+b.campaignId+"], experience ["+b.experienceId+'] (selector\x3d"'+b.cssSelector+'")...');var r=b.changeScript,c=document.createElement("script");c.text=r;document.body.appendChild(c);ajq(c).remove();f("pageChangeExecution",{info:"success",pageChange:b})}re(b)}catch(d){P(d,"executePageChange");
ajq.log.shouldLog("WARN")&&console.log("Evergage: Error in page change script for campaign ["+b.campaignId+"], experience ["+b.experienceId+'] (selector\x3d"'+b.cssSelector+'"): '+d);f("pageChangeExecution",{info:"scriptEvalError",pageChange:b});break a}b.previewMode||kb[b.experienceId]||(r=gb(b,lb.Impression),b.userGroup==Ka.Control&&(r[Ua.UserGroup]=Ka.Control),r=[r],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for "+("pageChange{id\x3d"+b.id+', experience\x3d"'+(b.experienceName||
"")+'", campaign\x3d"'+(b.campaignName||"")+'"}')+"...",r),Ga(b,r),kb[b.experienceId]=!0)}}))}function Je(a){var b=[];ajq.each(a,function(a,r){ajq.each(r.pageChanges,function(a,c){c.campaignId=r.campaignId;c.campaignName=r.campaignName;c.experienceId=r.experienceId;c.experienceName=r.experienceName;c.userGroup=r.userGroup;c.rulesByType=Sa(c.rules);b.push(c)})});return b}function Ke(a){return ajq.grep(a,function(a){if(a.changeScript){var b=ajq(a.cssSelector),r=a.rulesByType.PageCssSelector;if(r&&!se(a,
r))return!1;0===b.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping non-matching page change for campaign ["+a.campaignId+"], experience ["+a.experienceId+'] (selector\x3d"'+a.cssSelector+'")...');return 0<b.length}})}function re(a){ajq(a.cssSelector).find("a").andSelf().filter("a").each(function(b,c){ajq(c).off("click.evergagePageChangeClickthrough");ajq(c).on("click.evergagePageChangeClickthrough",function(b){try{xa(a,c.href,b.target)}catch(d){P(d,"trackClickthrough")}});ig.push(c)})}
function Gd(a){var b=[],c=0===window.location.href.indexOf("chrome-extension://");ajq.each(a,function(a,r){ajq.each(r.messages,function(a,d){d.campaignId=r.campaignId;d.campaignName=r.campaignName;d.experienceId=r.experienceId;d.experienceName=r.experienceName;d.userGroup=r.userGroup;d.rulesByType=Sa(d.rules);delete d.rules;d.isVisualEditorToolbarMessage=c;b.push(d)})});return b}function Le(a){for(var b=0;b<a.length;b++)if("Redirect"==a[b].displayMode)return{url:a[b].redirectUrl,saveParameters:a[b].saveParameters,
hidePageBeforeRedirect:a[b].hidePageBeforeRedirect,userGroup:a[b].userGroup,campaignResponse:a[b]};return null}function Me(a){if("Control"!=a.userGroup){if(La&&"true"!==La&&!0!==La&&(La=La.replace(a.campaignResponse.experienceId,""),la(W.sessionSettings.ids.TestMessages,La)),a.url){ajq.log.shouldLog("INFO")&&console.log("Evergage: Redirecting page...");if(a.saveParameters){var b=window.location,c=a.url,d;var e=window.location.search,f=a.campaignResponse.experienceId;d=window.decodeURIComponent(e.substring(1));
var h=/^.*evergageTestMessages=([\w,]*).*$/;d.match(h)?(e=d.replace(h,"$1"),f=e.replace(f,""),d="?"+d.replace(e,f)):d=e;b.href=c+d}else window.location.href=a.url;jg=!0}}else df&&a.hidePageBeforeRedirect&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Page was hidden for a redirect campaign and a control impression occurred. Reshowing page."),Pd());a=a.campaignResponse;a.previewMode||kb[a.experienceId]||(b=gb(a,lb.Impression),a.userGroup==Ka.Control&&(b[Ua.UserGroup]=Ka.Control),b=[b],ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: Tracking impression for redirect experience "+Ze(a)+"...",b),Ga(a,b),kb[a.experienceId]=!0)}function Sa(a){var b={};ajq.each(a,function(a,r){var c=r["@class"];r.type=c.substring(c.lastIndexOf(".")+1).replace(/CampaignRule$/,"");b[r.type]=r});return b}function qb(a){null==a&&(a=[]);ajq(".evergage-qtip").each(function(b,c){if(!ajq(c).hasClass("WidgetsCss-thumbnailMessage")){var d=ajq(this).qtip("api");if(G(d)){for(var e=!1,f=0;f<a.length;f++)for(var h=a[f],l=0;l<h.messages.length;l++)if("amb"+
h.messages[l].id===d.options.id){e=!0;break}e||(e=d.options.bundle||{},e.previewMode||(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Closing message ["+e.id+"] that no longer matches for the new hash page..."),Ta(d.options.id)))}}});ajq.each(Fa,function(a,b){0===ajq("#evergage-tooltip-amb"+b).size()&&delete Fa[a]});ajq.each(Va,function(a,b){void 0===b?ajq.log.shouldLog("TRACE")&&console.log("Evergage: Message "+a+" was probably dismissed - will not attempt to clear interval."):clearInterval(b)});
lc();Va={}}function Vc(){try{if(ajq.each(id,function(a,b){if(0!=b.length){var c=Oe(a,b);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Displaying or enqueuing "+c.length+" message(s) for target ["+a+"]...");ajq.each(c,function(a,b){try{if(ee&&"page"===b.renderType&&"string"===typeof b.target&&ajq.isArray(z.hideContentSectionsList))for(var r=0;r<z.hideContentSectionsList.length;r++)if(ajq(aa(z.hideContentSectionsList[0])).is(aa(b.target))){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping display of message ["+
b.id+":"+b.target+"] because personalization did not occur within the allotted time "+z.hideContentSectionsMillis+".");return}var c=b.rulesByType.PageDelay;if(c&&!isNaN(c.pageDelayMillis)&&1E3<c.pageDelayMillis){var d=setTimeout(function(){Ha(b)},c.pageDelayMillis);Ac.push(d)}else!0!==Bb&&!0!==sc&&(b.shouldDelayReshowPersonalizedSectionsForMessage=!0),Ha(b)}catch(e){P(e,"displaySingleMessageOnceCSSIsLoaded"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Unable to display message "+ta(b)+": "+
e)}})}}),id={},!0!==sc&&(Bb=!0),0===sb.length||!0===sc)clearTimeout(ya),ya=-1,tb=!1,Pb(),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Old redisplay personalized sections location.")}catch(a){P(a,"displayMessagesOnceCSSIsLoaded"),clearTimeout(ya),ya=-1,tb=!1,Pb(),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Old redisplay personalized sections location.")}}function Ne(a){var b={};ajq.each(a,function(a,r){var c,d=r.target.locationId;b.hasOwnProperty(d)?c=b[d]:(c=[],b[d]=c);c.push(r)});return b}
function Oe(a,b){var c;if("Rotate"==b[0].target.multiMessageDisplayMode){var d=W.messageRotation.ids.MessageQueue+a,e="apptegic:mq:"+a,f;if(mb.hasOwnProperty(a))f=mb[a];else{f=za(d,!1);if(!f){var h=Y(e);h&&(la(d,h),f=h)}f?ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded message queue for target ["+a+"] from local storage - value: "+evergageJSON.stringify(f)):f=[];Z(e);mb[a]=f}c=[];ajq.each(f,function(a,r){var d=null,e=-1;ajq.each(b,function(a,b){if(b.id==r.id)return d=b,e=a,!1});null!==d&&
(c.push(d),b.splice(e,1))});ajq.each(b,function(a,b){c.push(b)})}else c=b;return c}function kc(){try{z.treatHashChangeAsPageLoad&&location.href!=kg&&(pc=!0,kg=location.href,ra(),xc={},rb=Ea=null,ad=0,ab=$d=qc=null,ef(),kb={},Tb=[],Ub=[],g(!0))}catch(a){P(a,"handleHashChange")}}function lc(){ajq.each(Ac,function(a,b){window.clearTimeout(b)});Ac=[];ajq.each(Va,function(a,b){window.clearInterval(b)});Va={};ajq.each(vb,function(a,b){window.clearInterval(b)});vb={};ajq.each(wb,function(a,b){window.clearInterval(b.timer)});
wb={};ajq.each(Bc,function(a,b){window.clearTimeout(b)});Bc={};id={}}function mc(){ajq(".evergage-insertionTarget").remove();ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("hide");ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("destroy");lc();for(var a in cb)cb.hasOwnProperty(a)&&(clearTimeout(cb[a]),delete cb[a])}function Hd(a,b){var c=ajq(a).closest(".evergage-tooltip.evergage-qtip");0===c.length||void 0===c.qtip().options?ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: Not hiding message as the message cannot be found.",a):(c=c.qtip().options.bundle,b?Ta(c.id):nc(c))}function nc(a){if(!a.previewMode){var b=gb(a,lb.Dismissal),c=wa(a,lb.Dismissal),b=[b,c];ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking dismissal for "+ta(a)+"...",b);Ga(a,b);-1===ajq.inArray(a.id,jd)&&jd.push(a.id)}Va.hasOwnProperty(a.id)&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Dismissing message "+ta(a)+" - will stop looking for the target on the page for re-display."),
clearInterval(Va[a.id]),delete Va[a.id]);Ta("amb"+a.id);"callout"===a.target.renderType&&"Hover"===a.calloutOnEventType&&null!=a.calloutOnHoverHighlightColor&&(b="evergage-target-highlight-"+a.id,0<ajq("#"+b).length&&ajq("#"+b).remove(),(a.target.insertionContent?Nc(a.target.locationId):aa(a.target.target)).removeClass(b))}function Ta(a,b){ajq.log.shouldLog("TRACE")&&console.log('Evergage: hideBundle("'+a+'", '+!!b+") called.");if(!0!==b&&0!==Ra(a).length&&void 0!==Ra(a).qtip().options){var c=Ra(a).qtip().options.bundle;
T(c.target.locationId)&&""!==c.target.locationId&&ajq(".evergage-messageTarget-"+c.target.locationId).remove()}Ra(a).qtip("hide");Ra(a).qtip("destroy")}function Ha(a,b,d){a.showCallback=b;a.delayImpression=!1;if(-1<ajq.inArray(a.id,jd))ajq.log.shouldLog("DEBUG")&&console.log("Evergage: "+ta(a)+" was previously dismissed on this page - skipping display...");else{if(b="string"===typeof a.cssContent&&""!==a.cssContent){b=!1;var e=ajq.browser.version;ajq.browser.msie&&10>=parseInt(e)&&25<=document.styleSheets.length&&
(b=!0)}if(b)ajq.log.shouldLog("WARN")&&console.log("Evergage: Approaching IE's maximum number of style sheets. Will not show current message.");else{if(a.htmlContent&&0<=a.htmlContent.indexOf("evergage-item-block\x3d")){if(!a.itemBlockRendered&&!Wc(a,a.isExternalPromotedContent))return;a.isExternalPromotedContent&&0==a.promotedItems.length&&(a.delayImpression=!0)}b="amb"+a.id;var f,l;if(a.legacy)e=null,l=a.taskList?xe(a)?a.legacy.completionSubject||a.legacy.subject:a.legacy.subject:a.legacy.subject,
f=a.taskList?Cf(a):a.legacy.template;else{e="";a.previewMode||!a.cssContent&&!a.delayImpression||(e+='\n\x3cstyle class\x3d"evergage-tooltip-style"\x3e\n',a.cssContent&&(e+=ajq.trim(a.cssContent)+"\n"),a.delayImpression&&(f=xd(a.id),e+=f+" { visibility: hidden !important; pointer-events: none !important; opacity: 0 !important; }\n"),e+="\x3c/style\x3e\n");if(a.taskList){f=ajq("\x3cdiv\x3e\x3c/div\x3e");f.html(a.htmlContent||"");var k=a.taskList,g=k.ordered?"ol":"ul",m=g+"[evergage-tasklist]";l=f.find(m);
if(0===l.length)ajq.log.shouldLog("ERROR")&&console.log("Evergage: "+m+" element not found for task-list message ["+a.id+"]."),f=null;else{var m=Cf(a),n=ajq("\x3cdiv\x3e\x3c/div\x3e"),k=k.completionHtmlContent||"";xe(a)&&""!==k?f=k:(g=n.html(m).find(g).children(),l.empty().append(g),f=f.html())}}else f=a.htmlContent||"";e+=f;l=" ";f="-"}e={text:f,title:{text:l,button:a.legacy&&!a.legacy.nonDismissible},fullContents:e};f={};"popup"==a.target.renderType&&!0===a.modal&&!0!==a.previewMode&&(f.modal={on:!0});
l=Pf();0===l.size()&&a.previewMode&&0<ajq("#previewContainer").size()&&(l=ajq("#previewContainer"));g=l;k="popup"===a.target.renderType;m="callout"===a.target.renderType;l={};"infobar"===a.target.renderType||k?(l.container=0<g.length?g:ajq("body"),l.viewport=!1,l.target=0<g.length?g:ajq(window)):m?(l.container=0<g.length?g:!1,l.viewport=0<g.length?g:ajq(window)):(l.container=0<g.length?g:!1,l.viewport=0<g.length?g:!1);g=[];a.legacy&&((k=a.legacy.messageThemeId)?g.push("t"+k):(k=a.legacy.appearanceStyle)&&
g.push(k));a.previewMode&&g.push("evergage-preview-message");"page"!=a.target.renderType&&0<Pf().length&&g.push("evergageMessageInVisualEditorTestMode");k=a.legacy&&a.legacy.width&&"infobar"!=a.target.renderType?a.legacy.width:!1;m=a.legacy&&a.legacy.height?a.legacy.height:!1;g={classes:g.join(" "),def:!1,nonblocking:!0===a.nonBlocking,width:k,height:m,poweredBy:!a.isVisualEditorToolbarMessage&&ff};b={id:b,content:e,show:f,position:l,style:g,events:{render:Re,show:Zb,hide:c,destroy:h},bundle:a};if(!a.taskList||
a.legacy||b.content.fullContents){if("page"==a.target.renderType||"callout"==a.target.renderType){e=aa(a.target.target);if(!(0<e.length)||e.is(":hidden")){!0!==Bb&&!0===a.shouldDelayReshowPersonalizedSectionsForMessage&&sb.push(a.id);a.displayRetryExplanation="messageTargetNotVisible";ec(a);return}if(a.rulesByType.TargetInViewport&&((e=Yb(a.target.target))&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+ta(a)+", since its target is in viewport."),!e)){a.displayRetryExplanation="messageTargetNotInViewport";
ec(a);return}}if((e=a.rulesByType.PageCssSelector)&&!se(a,e))e.inclusionCssSelectors&&0<e.inclusionCssSelectors.length&&(a.displayRetryExplanation="messagePageCssSelectorRuleNotMatched",ec(a));else{if("Rotate"==a.target.multiMessageDisplayMode){Fa[a.target.locationId]&&Fa[a.target.locationId]!=a.id?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Enqueuing "+ta(a)+" for later display..."),Wf(a),e=!0):e=!1;if(e)return;Fa[a.target.locationId]||(Fa[a.target.locationId]=a.id)}if("callout"==a.target.renderType){if(!a.isExternalPromotedContent&&
0<ajq("#evergage-tooltip-amb"+a.id).size())return;if(a.target.insertionContent){if(a.displayCalloutMessageWithInsertionContentNow=!1,(e=0<Nc(a.target.locationId).length)||(e=0<Yf(a).length),e?a.calloutOnEventType?(e=Nc(a.target.locationId),Of(e,a,b)):a.displayCalloutMessageWithInsertionContentNow=!0:(a.displayRetryExplanation="calloutInsertionTargetDoesNotExist",ec(a)),!a.displayCalloutMessageWithInsertionContentNow)return}else if(a.calloutOnEventType){d=aa(a.target.target);Of(d,a,b);return}}if(e=
a.rulesByType.MinimumPageScroll)if(cg){if(!Nf(a,e)){a.displayRetryExplanation="minimumPageScrollNotReached";ec(a);return}}else{gf[a.id]=a;return}e=a.rulesByType.Inactivity;!e||d&&d.shouldDisplayInactivityMessage?ze(a,b):(d=e.inactivityMillis,wb[a.id]||((new Date).getTime(),Rf(a,d),Qf(),ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Fe)))}}else ajq.log.shouldLog("ERROR")&&console.log("Evergage: Failed to build HTML for task-list message ["+a.id+"] - aborting display...")}}}
function Id(a,b){var c=/^custom\./,d=[];ajq.each(a,function(a,r){for(var e in b)if(b.hasOwnProperty(e)&&r.hasOwnProperty(e)){var f=b[e];c.test(f)?(f=f.replace(c,""),r.custom[f]=r[e]):r[f]=r[e]}d.push(r)});return d}function Wc(a,b){if(!a.itemTemplate||!a.promotedItems||!b&&0==a.promotedItems.length)return ajq.log.shouldLog("WARN")&&console.log("Evergage: "+ta(a)+" contains [evergage-item-block] element, but message response does not contain itemTemplate and/or promotedItems - aborting display..."),
!1;var c=ajq(a.htmlContent),d=c.find("[evergage-item-block]").addBack("[evergage-item-block]").first();if(0==d.length)return ajq.log.shouldLog("ERROR")&&console.log("Evergage: Expected [evergage-item-block] element not found in "+ta(a)+" - aborting display..."),!1;var e=a.minimumPromotedItemCount||1,f=a.maximumPromotedItemCount,h=Jd(d.attr("evergage-item-block")),f=Xc(d,a.itemTemplate,a.promotedItems,f,h);if(!b&&f.length<e)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Rendered only "+f.length+
" Items for Item Block with minimum item count of "+e+" for "+ta(a)+" - aborting display..."),!1;a.promotedItemKeys=f;h.unformatted&&!a.previewMode&&(c=ajq("\x3cdiv\x3e\x3c/div\x3e").append(c),c.find("[evergage-item-block]").replaceWith(d.children()),c=c.children());a.htmlContent=Qe(c);0<f.length&&(a.itemBlockRendered=!0);return!0}function Xc(a,b,c,d,e){if(null==e)return!1;var f=e.cols,h=b.width*f+e.cellSpacing*(f-1),l=e.rows,k=b.height*l+e.cellSpacing*(l-1);c=c.slice(0,d||l*f);ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: Rendering Item block with size "+h+"x"+k+" containing "+c.length+" Items...",e);e.unformatted||a.empty().css({boxSizing:"content-box",width:h,height:k,wordSpacing:"-1em",display:"table"});var g=[];ajq.each(c,function(d,f){try{var h;var l=c.length,k=Yc(b,f);if(e.unformatted)h=ajq(k);else{var m="UL"==a.prop("tagName")?ajq("\x3cli\x3e\x3c/li\x3e"):ajq("\x3cdiv\x3e\x3c/div\x3e"),n=e.cellSpacing/2,Kd=e.cols,u=d%Kd,t=Math.floor(d/Kd);m.css({display:"inline-block",verticalAlign:"top",
wordSpacing:0,boxSizing:"border-box",marginTop:0==t?0:n,marginBottom:t==Math.ceil(l/Kd)-1?0:n,marginLeft:0==u?0:n,marginRight:u==Kd-1?0:n,width:b.width,height:b.height,padding:0,overflow:"hidden"}).html(k);h=m}a.append("\n").append(h).append("\n");var q={type:f.type,_id:f._id};f.tagType&&(q.tagType=f.tagType);h.attr("data-evg-item-id",q._id);h.attr("data-evg-item-type",q.type);null!=q.tagType&&h.attr("data-evg-item-tagType",q.tagType);g.push(q)}catch(p){if("UNFULFILLED_SYNTAX"==p.type)ajq.log.shouldLog("TRACE")&&
console.log("Evergage: Cannot render Item ["+f.id+"] due to: "+p.message);else throw p;}});ajq.log.shouldLog("TRACE")&&console.log("Evergage: Rendered "+g.length+" out of "+c.length+" Items...");return g}function Jd(a){var b=null;try{b=Ab(a)}catch(c){ajq.log.shouldLog("WARN")&&console.log("Failed to parse item block settings '"+a+"'. Reason: "+c)}return b}function Ab(a){if(!T(a))throw"param must be a String.";if(1>a.length||"{"!=a.charAt(0))throw"string must start with '{'.";if(2>a.length||"}"!=a.charAt(a.length-
1))throw"string must end with '}'.";var b={};a=ajq.trim(a.substring(1,a.length-1)).split(/\s*,\s*/);for(var c=0;c<a.length;c++){var d=a[c],e=d.split(/\s*:\s*/);if(2!=e.length)throw"property token ["+d+"] must contain a single ':'.";d=hb(e[0]);if(1>d.length)throw"property is missing key.";e=e[1];if(1>e.length)throw"value of property '"+d+"' has no value.";var f;if("true"==e)f=!0;else if("false"==e)f=!1;else if("'"==e.charAt(0)||'"'==e.charAt(0))f=hb(e);else try{f=parseInt(e,10)}catch(h){throw"value of property '"+
d+"' is not a Number or a String.";}b[d]=f}return b}function Yc(a,b){b.id=b._id;var c=a.htmlContent,c=$a(c,/\$\{?item\.getTagValue\(([^)]+)\)}?/g,function(a,c){return Zc(b,c)}),c=$a(c,/#field\(([^)]*)\)/g,function(a,c){return Pe(b,c)}),c=$a(c,/\$\{?item\.([\w.]+)}?/g,function(a,c){return Jb(b,c)});return c=$a(c,/\$\{?currency\.format\(([\d.]+)\)}?/g,function(a,c){var r=L.beaconConfig?L.beaconConfig.defaultCurrency:null;return $c(c,b.currency||r||"USD")})}function $a(a,b,c){return a.replace(b,function(a,
b){var r=c(a,b);z.enableTemplateEsc&&(r="string"!==typeof r?r:r.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;"));return r})}function Zc(a,b){var c=b.split(/\s*,\s*/),d=hb(ajq.trim(c[0])),c=hb(ajq.trim(c[1])),e=[];a.tags&&ajq.each(a.tags,function(a,b){b.tagType===d&&e.push(b)});return e[0]?(c=e[c||0])?c?c._id:"":"":""}function Pe(a,b){var c=b.split(/\s*,\s*/);if(2!=c.length)throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse #field directive parameters: "+
b};var d=ajq.trim(c[0]);if(!/^\$\{?item\.([\w.]+)}?$/.test(d))throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse first param of #field directive: "+d};c=ajq.trim(c[1]);try{var e=hb(c)}catch(f){throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse second param of #field directive: "+d};}return d.replace(/^\$\{?item\.([\w.]+)}?$/,function(b,c){var d=Jb(a,c,e);return null!=d?d:""})}function Jb(a,b,c){if(0==b.indexOf("custom.")&&7<b.length){var d=b.substring(7);a=p(a.custom)&&a.custom.hasOwnProperty(d)?
a.custom[d]:null}else a=a.hasOwnProperty(b)?a[b]:null;if(null==a){if(null==c)throw{type:"UNFULFILLED_SYNTAX",message:"Item attribute '"+b+"' is missing or null."};a=c}return a}function hb(a){for(var b=0;b<lg.length;b++){var c=lg[b];if(1<=a.length&&a.charAt(0)==c){if(2>a.length||a.charAt(a.length-1)!=c)throw"End quote missing for string ["+a+"].";return a.substring(1,a.length-1)}}return a}function $c(a,b){var c="number"===typeof a?a:parseFloat(a,10);if(isNaN(c))return"";b||(b="USD");var d=mg||"en-US";
if(hf.toLocaleStringSupportsOptions)return c.toLocaleString(d,{style:"currency",currency:b});var e=(hf.toLocaleStringSupportsLocales?c.toLocaleString(d):c.toLocaleString()).replace(/\D\d*$/,""),f=mh[b]||{},h=f.symbol||b,f=null!=f.decimals?f.decimals:0;1<=f&&(c=c.toFixed(f),d=(hf.toLocaleStringSupportsLocales?(1.1).toLocaleString(d):(1.1).toLocaleString()).charAt(1),e+=d+c.substring(c.indexOf(".")+1));return h+e}function Qe(a){var b="";a.each(function(a,c){b+=c.outerHTML||c.nodeValue});return b}function Re(a,
b){if(ajq(a.currentTarget).qtip().id===b.id){var c=b.options.bundle;fe[c.id]=b;c.previewMode?Wg(c.id):xf(b.elements.tooltip,c)}}function Zb(b,c){if(ajq(b.currentTarget).qtip().id===c.id){var d=c.options.bundle,e=c.elements.tooltip;null==c.options.barVisible||d.previewMode||c.options.barVisible.call(e,b,c);d.messageShownTime=(new Date).getTime();xb[d.id]=d;if(d.javascriptContent&&!d.previewMode&&!d.javascriptContentExecuted)try{oc(d.javascriptContent,"campaign-wide",ta(d),"campaignId-"+d.campaignId+
"/experienceId-"+d.experienceId+"/messageId-"+d.id+".js","insertJavascriptContentForMessage")}finally{d.javascriptContentExecuted=!0}0<d.durationMillis&&a(d)}}function Kb(a){for(var b=0;b<a.length;b++){var c=a[b],d;if(c.campaignJavascriptContent&&(d=oc(c.campaignJavascriptContent,"campaign-wide",'campaign "'+c.campaignName+'"',"campaignId-"+c.campaignId+".js","insertCampaignJavascriptContentToPage",c),!1===d)){a.splice(b,1);b--;continue}if(c.javascriptContent){a:{if("Control"!==c.userGroup)if(d=oc(c.javascriptContent,
"experience-wide","experience '"+c.experienceName+"'","campaignId-"+c.campaignId+"/experienceId-"+c.experienceId+".js","insertExperienceJavascriptContentToPage",c),!1===d){d=!1;break a}else if(d===Evergage.ExperienceJS.DelayImpression){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Delaying impression for experience "+c.experienceId+' due to the experience-wide javascript returning "'+Evergage.ExperienceJS.DelayImpression+'".');d=!0;break a}if(!c.previewMode&&(d=[],!kb[c.experienceId])){var e=
gb(c,lb.Impression);d.push(e);kb[c.experienceId]=!0;ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for experience with experience-wide javascript"+Ze(c)+"...",d);Ga(c,d);kb[c.experienceId]=!0}d=!0}!1===d&&(a.splice(b,1),b--)}}}function oc(a,b,c,d,e,f){try{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Inserting JavaScript content from "+c+" to page...",a);var h=ajq.trim(a).replace(/\n/g,"\n    "),l=c.replace(/"/g,'\\"'),k=new Function("campaignResponse","try {\n    "+h+
'\n} catch (exception) {\n    if (typeof window.ajq \x3d\x3d\x3d "function" \x26\x26 typeof window.ajq.log \x3d\x3d\x3d "object" \x26\x26 typeof ajq.log.shouldLog \x3d\x3d\x3d "function" \x26\x26 ajq.log.shouldLog(\'WARN\')) {\n        console.log("Evergage: ERROR: Exception executing javascript content for '+l+'.", exception);\n    }\n}\n\n//# sourceURL\x3d/evergage/'+d);ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Execute "+b+" javascript");var g=k(f);ajq.log.shouldTestPerf("RIGOROUS")&&
console.timeEnd("Evergage: Execute "+b+" javascript");return g}catch(m){return P(m,e),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Exception inserting the javascript content for "+c+".",m),!0}}function a(a){cb[a.id]=setTimeout(function(){var b=Ra(a.id);b.qtip("hide");b.qtip("destroy")},a.durationMillis)}function c(a,b){var c=b.options.bundle;b.options.barHidden&&b.options.barHidden.call(b.elements.tooltip,a,b);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding "+ta(c)+"...");f("qTipHideEvent",
{message:c});ge.hasOwnProperty(c.id)&&(clearTimeout(ge[c.id]),delete ge[c.id]);cb.hasOwnProperty(c.id)&&(clearTimeout(cb[c.id]),delete cb[c.id]);b.elements.tooltip.removeClass("evergage-tooltip-page");b.elements.tooltip.removeClass("evergage-tooltip-page-replace");var d=!0;"Rotate"==c.target.multiMessageDisplayMode&&(Fa[c.target.locationId]=!1,d=!Tf(c.target.locationId));if(d&&"page"==c.target.renderType)if(b.options.position&&!0===b.options.position.replaceContainer){var d=c.target.locationId,e=
c.target.target,h=Cc[d];if(h&&h.length){var l=aa("#evergage-tooltip-"+b.id);l.length&&(ajq.log.shouldLog("DEBUG")&&console.log("Restoring stashed inline target ["+e+"]..."),l.replaceWith(h),delete Cc[d])}}else Bf(c.target.locationId,c.target.target);0<c.durationMillis&&c.messageShownTime&&(d=(new Date).getTime()-c.messageShownTime,1E3>c.durationMillis-d?Ra(c.id).qtip("destroy"):c.durationMillis-=d)}function h(a,b){var c=b.options.bundle;if("Click"===c.calloutOnEventType){var d=hc(c);ajq(document).off("click."+
d)}cb.hasOwnProperty(c.id)&&(clearTimeout(cb[c.id]),delete cb[c.id]);d=!0;"Rotate"==c.target.multiMessageDisplayMode&&(Fa[c.target.locationId]=!1,d=!Tf(c.target.locationId));d&&"page"==c.target.renderType&&Bf(c.target.locationId,c.target);mb.hasOwnProperty(c.target.locationId)&&ajq.each(mb[c.target.locationId],function(a,b){if(b.id===c.id)return mb[c.target.locationId].splice(a,1),!1});delete Vb[c.id];ajq.isEmptyObject(Vb)&&(clearInterval(Db),Db=-1);var d=xb[c.id],e;p(d)&&(e=d.destroyCallback);delete xb[c.id];
delete fe[c.id];"Rotate"==c.target.multiMessageDisplayMode&&1E3<c.target.multiMessageRotateDelayMillis&&(vb.hasOwnProperty(c.target.locationId)&&clearInterval(vb[c.target.locationId]),vb[c.target.locationId]=setInterval(function(){try{Sf(c.target.locationId)}catch(a){P(a,"rotateMessageForTarget")}},c.target.multiMessageRotateDelayMillis));d=Ra(c.id);1==d.length&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: div for message ["+c.id+"] is still in DOM - removing it..."),d.remove());ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: Message ["+c.id+"] destroyed.");d=xb[c.id];ma(e)&&e()}function w(a,b){var c="0%";if(null!=ajq(a).css("background-position-x"))c=ajq(a).css("background-position-x");else{var d=ajq(a).css("background-position");-1!=d.indexOf("calc(")?(d=d.split("calc("),d=d[d.length-2],-1!=d.indexOf("0%")&&-1!=d.indexOf("px")&&(c=d.substring(0,d.indexOf("px")+2))):(d=d.split(" "),2==d.length&&(c=d[0]))}ajq(a).css("background-position",c+" "+b)}function nb(a){if(null!=ajq(a).css("background-position-y"))return ajq(a).css("background-position-y");
if(null==ajq(a).css("background-position"))return null;a=ajq(a).css("background-position");if(-1!=a.indexOf("calc(")){if(a=a.split("calc("),a=a[a.length-1],-1!=a.indexOf("0%")&&-1!=a.indexOf("px"))return a.substring(0,a.indexOf("px")+2)}else if(a=a.split(" "),2==a.length)return a[1]}function E(a,b){var c=a.indexOf(b);return-1!=c&&c+b.length==a.length}function ja(a){if(null==a)return a;if("0%"==a)return 0;E(a,"px")&&(a=a.substring(0,a.indexOf("px")));return parseInt(a)}function se(a,b){var c=!0;ajq.each(b.inclusionCssSelectors,
function(b,d){if(0===aa(d).length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Delaying showing message or page change ["+a+"] since the CSS Selector ["+d+"] is not present yet"),c=!1});ajq.each(b.exclusionCssSelectors,function(b,d){if(0<aa(d).length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not showing message or page change ["+a+"] since the CSS Selector ["+d+"] is present."),c=!1});return c}function Yb(a){a=aa(a);var b;if(b=0<a.length)a=a[0].getBoundingClientRect(),
b=0<=a.top&&a.top<=ajq(window).height()||0<=a.bottom&&a.bottom<=ajq(window).height()||0>a.top&&a.bottom>ajq(window).height()&&(0<=a.left&&a.left<=ajq(window).width()||0<=a.right&&a.right<=ajq(window).width())||0>a.left&&a.right>ajq(window).width();return b}function xf(a,b){Qg(a,b);ve(a,b);b.delayImpression||Dd(b);var c=b.id,d=Ra(c);Rg(d);Vg(d,c);"callout"==b.target.renderType&&"Hover"==b.calloutOnEventType&&(c=hc(b),a.unbind("mouseenter."+c,yf),a.bind("mouseenter."+c,{bundle:b},yf),a.unbind("mouseleave."+
c,zf),a.bind("mouseleave."+c,{bundle:b},zf))}function Qg(a,b){a.find("a").not("[evergage-closeicon]").filter(function(){return"\u00d7"!=ajq.trim(ajq(this).text())}).each(function(a,c){ajq(c).on("click",function(a){try{xa(b,c.href,a.target)}catch(d){P(d,"trackClickthrough")}});ma(z.messageLinkDecorator)&&z.messageLinkDecorator(c)})}function yf(a){try{var b=a.data.bundle.id;"number"===typeof Bc[b]&&(clearTimeout(Bc[b]),delete Bc[b])}catch(c){P(c,"mouseEnterCalloutInsertionContent")}}function zf(a){try{Ta("amb"+
a.data.bundle.id,!0)}catch(b){P(b,"mouseLeaveCalloutInsertionContent")}}function ve(a,b){a.find("div.evergage-tooltip-close").click(function(a,c){try{"click"==a.originalEvent.type&&nc(b)}catch(d){P(d,"trackDismissalIconsLegacy")}})}function xd(a){0===a.indexOf("amb")&&(a=a.substring(3));return"#evergage-tooltip-amb"+a}function Ra(a){return ajq(xd(a))}function Rg(a){a.find("form[evergage-action]").each(function(){try{var a=ajq(this),b=a.attr("evergage-action");if(b){var c=!gc(a,"evergage-nocloseonsubmit"),
d=!gc(a,"evergage-nocloseonsubmit")&&!gc(a,"evergage-nodismissonsubmit");a.attr("name",b);a.on("submit",function(a){Evergage.trackEvergageMessageForm(a,!c,!d)})}}catch(r){P(r,"processEvergageFormAttributes")}})}function Vg(a,b){a.find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var b=ajq(this);b.attr("href")||b.attr("href","javascript:;");var c=b.attr("evergage-action")||b.attr("apptegictrackaction"),
d=gc(b,"evergage-dismissonclick")||gc(b,"apptegicclosemessage"),e=d||gc(b,"evergage-hideonclick");if(c||d||e)b.on("click",function(){try{var b=a.qtip().options.bundle;d?nc(b):e&&Ta(b.id);c&&(d?("number"===typeof Dc[b.id]&&clearTimeout(Dc[b.id]),Dc[b.id]=setTimeout(function(){Ia(c);delete Dc[b.id]},100)):Ia(c))}catch(f){P(f,"processEvergageAnchorAttributes")}})})}function Wg(a){Ra(a).find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var a=
ajq(this);a.attr("href")||a.attr("href","javascript:;")})}function gc(a,b){var c=a.attr(b);return ka(c)&&"false"!==c}function Nc(a){return ajq(".evergage-messageTarget-"+a)}function Xg(){try{ib||null===window.ajq||(ajq.each(gf,function(a,b){Nf(b,b.rulesByType.MinimumPageScroll)?Ha(b):ec(b)}),gf={})}catch(a){P(a,"loadPageScrollPercentBasedMessages")}}function Yg(){ajq.each(Vb,function(a,b){Vb.hasOwnProperty(a)&&0===aa(b.target.target+":visible").length&&!b.previewMode&&(ajq.log.shouldLog("TRACE")&&
console.log("Evergage: Hiding callout message "+ta(b)+", as its target no longer exists."),delete Vb[a],Ta(b.id))});ajq.isEmptyObject(Vb)&&(clearInterval(Db),Db=-1)}function Nf(a,b){var c=(ajq(window).scrollTop()+fc())/ajq(document).height()*100>=b.minimumPageScrollLength;c&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+ta(a)+", since user has scrolled at least "+b.minimumPageScrollLength+"% down the page.");return c}function fc(){var a=document.doctype?ajq(window).height():0;a||(a=
window.innerHeight||document.body.clientHeight||0);return a}function Oc(){var a=document.doctype?ajq(window).width():0;a||(a=window.innerWidth||document.body.clientWidth||0);return a}function Of(a,b,c){var d=hc(b);switch(b.calloutOnEventType){case "Hover":if(b.calloutOnHoverHighlightColor){if(!a.selector){ajq.log.shouldLog("WARN")&&console.log("Evergage: Target selector for "+b.id+' has no "selector" property - cannot enable hover on highlight.');break}var e="evergage-target-highlight-"+b.id;if(0===
ajq("#"+e).length){var f=b.calloutOnHoverHighlightColor;ajq("\x3cstyle\x3e\x3c/style\x3e").attr({id:e,type:"text/css"}).text("."+e+":hover {\n  -moz-transition: all .2s ease-in-out;\n  -webkit-transition: all .2s ease-in-out;\n  transition: all .2s ease-in-out;\n  -moz-box-shadow: inset 0 0 4px 2px "+f+";\n  -webkit-box-shadow: inset 0 0 4px 2px "+f+";\n  box-shadow: inset 0 0 4px 2px "+f+";\n  -moz-border-radius: 4px;\n  -webkit-border-radius: 4px;\n  -o-border-radius: 4px;\n  -ms-border-radius: 4px;\n  border-radius: 4px;\n}\n").appendTo("head");
aa(a).addClass(e)}}a.unbind("mouseenter."+d,Ce);a.bind("mouseenter."+d,{bundle:b,messageOptions:c},Ce);a.unbind("mouseleave."+d,De);a.bind("mouseleave."+d,{bundle:b},De);ng.push(a.selector);break;case "Click":Mf(a,b,c);break;default:ajq.log.shouldLog("WARN")&&console.log("Evergage: Unknown callout on event type for "+b.id+": "+b.calloutOnEventType)}}function Ce(a){try{var b=a.data;-1<ajq.inArray(b.messageOptions.bundle.id,jd)||(b.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=
!0,ze(b.bundle,b.messageOptions))}catch(c){P(c,"mouseEnterForHoverCallout")}}function De(a){try{var b=a.data.bundle.id;"string"!==typeof b?ajq.log.shouldLog("WARN")&&console.log("Evergage: Unable to find the messageId when hovering out of insertion content for a callout."):Bc[b]=setTimeout(function(){try{Ta("amb"+b,!0)}catch(a){P(a,"hideBundleDuringMouseLeaveForHoverCallout")}},250)}catch(c){P(c,"mouseLeaveForHoverCallout")}}function Ee(a){try{var b=a.data;b.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=
!0;Zg(a,b.targetSelector,b.bundle,b.messageOptions)}catch(c){P(c,"calloutTargetClicked")}}function Mf(a,b,c){var d=hc(b);a.unbind("click."+d,Ee);a.bind("click."+d,{isShowCalloutMessageClick:!0,targetSelector:a,bundle:b,messageOptions:c},Ee);og.push(a.selector)}function Zg(a,b,c,d){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Showing callout message...");var e=hc(c);b.off("click."+e);ze(c,d);ajq(document).on("click."+e,null,a.data,function(a){try{if(a.data&&a.data.isShowCalloutMessageClick)"#document"==
a.delegateTarget.nodeName&&(a.data.isShowCalloutMessageClick=!1);else{var r=ajq("#evergage-tooltip-amb"+c.id);if(0===ajq(a.target).closest(r).length){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding callout message...");var e=hc(c);ajq(document).off("click."+e);Ta("amb"+c.id,!0);-1<ajq.inArray(c.id,jd)||Mf(b,c,d)}}}catch(f){P(f,"showCalloutMessageOnClick")}})}function hc(a){return"evergage-message-"+a.id}function Pf(){var a=ajq("#apptegicMessageContainerForToolbarEnabledPages");0===a.size()&&
(a=ajq("#evergageMessageContainerForTestMode"));return a}function ec(a){if(!a.displayRetryScheduled){a.displayRetryScheduled=!0;ajq.log.shouldLog("TRACE")&&console.log("Evergage: Target for message ["+a.id+"] ("+a.target+") does not exist or is not visible - will continue to retry every half second...");for(var b=0;b<Ec.length;b++)try{Ec[b](a,a.target.target)}catch(c){P(c,"displayMessageRetryCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Display Message callback with error: "+Ec[b])}f("displayMessageRetryEvent",
{bundle:a,bundleTarget:a.target.target})}"object"===typeof Cb[a.id]&&"number"===typeof Cb[a.id].timeout&&clearTimeout(Cb[a.id].timeout);b=window.setTimeout(function(){try{Ha(a)}catch(b){P(b,"displayMessageAfterRetry"),ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception trying to display the message ["+a.id+"].",b)}},500);Cb[a.id]={bundle:a,timeout:b};Ac.push(b)}function Qf(){ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Fe)}function Fe(a){try{if((new Date).getTime(),
"click"!==a.type||0!==a.pageX||0!==a.pageY)he=a.pageX,Fc=a.pageY,$g()}catch(b){P(b,"handleActivityEvent")}}function $g(){ajq.each(wb,function(a,b){Rf(b.bundle,b.inactivityMillis)})}function Rf(a,b){(new Date).getTime();var c=wb[a.id];c&&qa(c.timer)&&clearTimeout(c.timer);var d={};d.bundle=a;d.inactivityMillis=b;d.timer=setTimeout(function(){try{ah(d.bundle.rulesByType.Inactivity)&&Ha(d.bundle,function(){try{clearTimeout(wb[d.bundle.id].timer),delete wb[d.bundle.id],0===wb.length&&Qf()}catch(a){P(a,
"postDisplayCleanupForInactivityMessage")}},{shouldDisplayInactivityMessage:!0})}catch(a){P(a,"renderInactivityMessage")}},b);wb[a.id]=d}function ah(a){var b=!1;if(G(a.mouseLocationValue)&&0!==a.mouseLocationValue)if("top"===a.mouseLocationDirection&&-1!==Fc){var c=Fc-ajq(window).scrollTop();"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&(b=!0):"%"===a.mouseLocationUnit?0!==fc()&&c/fc()<=a.mouseLocationValue/100&&(b=!0):b=!0}else"bottom"===a.mouseLocationDirection&&0!==fc()&&-1!==Fc?(c=fc()-
Fc-ajq(window).scrollTop(),"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&(b=!0):"%"===a.mouseLocationUnit?c/fc()<=a.mouseLocationValue/100&&(b=!0):b=!0):"left"===a.mouseLocationDirection&&-1!==he?(c=he-ajq(window).scrollLeft(),"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&(b=!0):"%"===a.mouseLocationUnit?0!==Oc()&&c/Oc()<=a.mouseLocationValue/100&&(b=!0):b=!0):"right"===a.mouseLocationDirection&&0!==Oc()&&-1!==Fc?(c=Oc()-he-ajq(window).scrollLeft(),"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&
(b=!0):"%"===a.mouseLocationUnit?c/Oc()<=a.mouseLocationValue/100&&(b=!0):b=!0):b=!1;else b=!0;return b}function Sf(a){if(null!=Fa[a]){var b=Fa[a],c=Uf(a,!1);null!==c&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Rotating from "+ta(Fa[a])+" to "+ta(c)+"..."),null!=fe[Fa[a]]&&fe[Fa[a]].hide(),xb.hasOwnProperty(b)&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Enqueuing "+ta(Fa[a])+" for later redisplay..."),Wf(xb[b],!0)))}else ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not rotating message target "+
a+", as all messages for this target have already closed.")}function Tf(a){var b=Uf(a,!0);null!==b?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Displaying next message in queue ("+ta(b)+")..."),a=window.setTimeout(function(){Ha(b)},1E3),Ac.push(a)):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: No messages remaining in queue.");return null!==b}function Uf(a,b){var c=null;if(mb.hasOwnProperty(a)){for(var d=mb[a],e=d.length;0<d.length;){var f=d.shift();if(!0===z.enableMessageRotation&&f.hasOwnProperty("htmlContent")){b||
d.unshift(f);c=f;break}}d.length!=e&&Vf(a,d)}return c}function Vf(a,b){var c=W.messageRotation.ids.MessageQueue+a,d=sa(c);if(0===b.length)ajq.evgjStorage.deleteKey(d);else{var e=[];ajq.each(b,function(a,b){var c={};c.id=b.id;e.push(c)});la(c,e)}}function Wf(a,b){var c;c=mb.hasOwnProperty(a.target.locationId)?mb[a.target.locationId]:[];var d=-1;ajq.each(c,function(c,e){if(e.id==a.id&&!b)return d=c,!1});-1!=d?c[d]=a:c.push(a);Vf(a.target.locationId,c)}function Xf(a,b,c,d){if(!a||0===a.length){"Rotate"==
b.multiMessageDisplayMode&&delete Fa[c.target.locationId];if(void 0===Va[c.id]){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Unable to find page target for message ["+c.id+"] - will keep trying every few seconds in case it shows up after more of the page loads.");var e=window.location.href;Va[c.id]=window.setInterval(function(){if(e!=window.location.href||void 0===Va[c.id])return!0;0<aa(d.bundle.target).length&&1>ajq("#evergage-tooltip-amb"+c.id.toString()).length&&(Ha(b),clearInterval(Va[c.id]),
delete Va[c.id])},1E3)}return!0}return!1}function ze(a,b){if("Control"==a.userGroup)Dd(a);else{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+ta(a)+"...");var c=a.target;switch(c.renderType){case "popup":ajq.fn.qtip.zindex=1000302;b.position.stack=c.popupLocation?c.popupLocation.toLowerCase():"topright";break;case "infobar":ajq.fn.qtip.zindex=1000202;b.position.stack=c.infobarLocation?c.infobarLocation.toLowerCase():"top";break;case "page":ajq.fn.qtip.zindex=1000002;var d=aa(c.target);
if(Xf(d,a,a,b))return;b.position.container=d;break;case "callout":!0===a.calloutInMessageEditor&&(d=1==ajq("#previewContainer").length?"#previewContainer":"body",b.position.container=ajq(d),b.position.viewport=ajq(d));ajq.fn.qtip.zindex=1000102;d=aa(c.target);if(c.insertionContent){var e=Nc(c.locationId);e.length||ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to find or create insertion target for "+a.id+".  It might be available later.");a.displayCalloutMessageWithInsertionContentNow&&
(d=e)}if(Xf(d,a,a,b))return;b.position.target=d;!0!==c.keepCalloutOpenWhenTargetHidden&&(Vb[a.id]=a);-1===Db&&(Db=setInterval(Yg,1E3));d=["top","right","bottom","left"];e=c.calloutDirection?c.calloutDirection.toLowerCase():"bottom";b.position.at=e+" center";b.position.my=d[(ajq.inArray(e,d)+2)%4]+" center";break;default:ajq.log.shouldLog("WARN")&&console.log("Evergage: Unknown message render type: "+c.renderType)}if((d=Ra(a.id))&&1==d.length&&"object"==typeof d.data("qtip")){b.content.title&&b.content.title.button&&
!b.content.title.text&&(b.content.title.text=" ");bh(d,a,b)&&ajq.updateMessage("#evergage-tooltip-"+b.id,b,d.qtip().options);"page"==c.renderType&&(d.addClass("evergage-tooltip-page"),d.css({top:0}),!0===Tg(b)&&d.addClass("evergage-tooltip-page-replace"));var f=ajq("#evergage-tooltip-amb"+a.id+":visible");f&&1==f.length&&"object"==typeof f.data("qtip")&&!a.isExternalPromotedContent||xf(d,a);d.qtip("show");d.css({opacity:1})}else"page"==c.renderType&&(d=!0,M(aa(c.target),"img")&&(d=!1,c.inlineReplaceContainer=
!0),d||!0===c.inlineRespectMessageSize||(b.style.width=ajq(c.target).outerWidth()+"px",b.style.height=ajq(c.target).outerHeight()+"px"),c.replaceExistingContent?(!0===c.inlineReplaceContainer&&(f=Af(c.locationId),b.position.replaceContainer=!0),!0!==c.inlineReplaceContainer?(b.position.ignoreTargetVisibilityCheck=eh(c.target),dh(c.locationId,c.target)):(b.bundle.existingStyles=aa(c.target).get(0).style.cssText,ch(c.locationId,c.target,f))):!0!==d&&aa(c.target).after(f),c.replaceExistingContent&&c.inlineReplaceContainer||
!0!==d)&&(c.originalTargetSelector=c.target,c.target="#"+c.locationId,b.position.container=ajq(c.target)),"Rotate"==a.target.multiMessageDisplayMode&&(Fa[c.locationId]=a.id),!0!==Bb&&!0===a.shouldDelayReshowPersonalizedSectionsForMessage&&sb.push(a.id),ajq.qtipGrowl(b);!1!==b.show.ready&&(f=ge[a.id]=window.setTimeout(function(){ajq("#evergage-tooltip-"+b.id).is(":visible")||(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing message["+a.id+"], as it was not shown on page load..."),ajq("#evergage-tooltip-"+
b.id).qtip("show"),ajq("#evergage-tooltip-"+b.id).css("opacity",1))},500),Ac.push(f));"Rotate"==c.multiMessageDisplayMode&&1E3<c.multiMessageRotateDelayMillis&&!vb.hasOwnProperty(c.locationId)&&(vb[c.locationId]&&clearInterval(vb[c.locationId]),vb[c.locationId]=setInterval(function(){Sf(c.locationId)},c.multiMessageRotateDelayMillis));a.messageShownTime=(new Date).getTime();xb[a.id]=a}}function Tg(a){var b=a.position&&!0===a.position.replaceContainer||a.bundle&&a.bundle.replaceExistingContent&&!0===
a.bundle.inlineReplaceContainer;return a.bundle&&!0===a.bundle.replaceExistingContent&&!0!==a.bundle.isPreviewModeContainerReplacement&&!0!==a.bundle.isPreviewModeInlineRespectMessageSize&&!0!==a.bundle.inlineRespectMessageSize&&!b?!0:!1}function bh(a,b,c){if(a.qtip()&&a.qtip().options&&a.qtip().options.content){if(b.legacy){b=evergageJSON.stringify(a.qtip().options.content.title)!=evergageJSON.stringify(c.content.title);var d=evergageJSON.stringify(a.qtip().options.content.text)!=evergageJSON.stringify(c.content.text);
return b||d&&!(a.qtip().options.content.text instanceof ajq)&&!(c.content.text instanceof ajq)}b=a.qtip().options.content.fullcontents||a.qtip().options.content.fullContents;return evergageJSON.stringify(b)!=evergageJSON.stringify(c.content.fullContents)&&!(a.qtip().options.content.fullContents instanceof ajq)}}function Yf(a){a=a.target;a.insertionLocation||(a.insertionLocation="LastChild");var b=Nc(a.locationId);if(0<b.length)return b;b=aa(a.target);if(0===b.length)return[];var c;switch(a.insertionLocation){case "FirstChild":case "LastChild":c=
b;break;case "PreviousSibling":case "NextSibling":c=b.parent();break;default:return[]}var d="evergage-messageTarget-"+a.locationId,e=c.find("."+d);if(!e.length)switch(e=ajq.parseHTML(a.insertionContent),e=1==e.length&&1==e[0].nodeType?ajq(a.insertionContent):ajq("\x3cdiv\x3e\x3c/div\x3e").css("display","inline-block").append(a.insertionContent),e.addClass("evergage-insertionTarget "+d),a.insertionLocation){case "FirstChild":c.prepend(e);break;case "LastChild":c.append(e);break;case "PreviousSibling":b.before(e);
break;case "NextSibling":b.after(e);break;default:return[]}return ajq("."+d)}function eh(a){a=aa(a);for(var b=u(a),c=!1,d="a h1 h2 h3 h4 h5 h6 span".split(" "),e=0;e<d.length;e++)if(d[e]===b.toLowerCase()){c=!0;break}return c?a&&a.length&&!a.is(":hidden"):!1}function dh(a,b){var c=aa(b).contents();c.length&&(ajq.log.shouldLog("DEBUG")&&console.log("Stashing existing content of inline target ["+b+"]..."),Cc[a]=c.detach())}function ch(a,b,c){var d=aa(b);if(d.length){var e=d.width(),f=d.height();"number"===
typeof e&&0<e&&aa(c).css("width",e);"number"===typeof f&&0<f&&aa(c).css("height",f);ajq.log.shouldLog("DEBUG")&&console.log("Stashing existing content of inline target ["+b+"]...");Cc[a]=d.replaceWith(c)}}function Af(a){a=ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id",a).css("width",1);a.addClass("evergage-temp-placeholder");return a}function Bf(a,b){var c=Cc[a];if(c&&c.length){var d=aa(b);d.length&&(ajq.log.shouldLog("DEBUG")&&console.log("Restoring stashed content in inline target ["+b+"]..."),d.first().append(c),
delete Cc[a])}}function Cf(a){var b=a.taskList,c,d=a.legacy?a.legacy.completionTemplate:b.completionHtmlContent;if(xe(a)&&""!==(d||""))c=d;else{d=b.ordered?"ol":"ul";c="\x3c"+d+"\x3e";var e=a.completedTaskActions||[];ajq.each(b.tasks||[],function(b,d){c+="\x3cli";var f=0<=e.indexOf(d.action);c+=' class\x3d"'+(a.legacy?f?"evergage-tasklistitem-done":"evergage-tasklistitem-notdone":f?"evergage-task-done":"evergage-task-notdone")+'"';d.description&&(c+=' title\x3d"'+d.description+'"');c+="\x3e";d.link&&
(c+='\x3ca href\x3d"'+d.link+'"\x3e');c+=d.label;d.link&&(c+="\x3c/a\x3e");c+="\x3c/li\x3e"});c+="\x3c/"+d+"\x3e"}return c}function xe(a){return(a.completedTaskActions||[]).length==(a.taskList.tasks||[]).length}function Df(a){if(z.runningInMobileApp)return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: URL/page title action mapping is disabled when beacon is running within phonegap."),null;a=ie(a.pages);return G(a)&&!ia(a.action)?a.action:null}function ye(){try{if(!0!==ib)if($b())B("Evergage: Beacon detected page is prerendered - initialization aborted.");
else if(z.useSiteConfig)if(jf)ajq.log.shouldLog("INFO")&&console.log("Evergage: Site config request already pending - not queueing up a second request.");else if(0!=Te||N(L)){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Downloading site config...");var a=!1;""!==Ob(a)&&(a=!0);var b={url:Da+"/api/dataset/"+Ca+"/siteConfig"+Ob(!1),dataType:"json",jsonp:!1,crossDomain:!0,beforeSend:function(){return jf=!0},success:Sg,complete:function(){jf=!1;return!0},error:function(a,b,c){a=bc("siteConfig",a,
c);P(Error(a),"executeSiteConfiguration");ajq.log.shouldLog("WARN")&&console.log("Evergage: Error downloading site config: "+b);pc&&(mc(),pc=!1)}};ajq.ajax(b)}else Ae(null)}catch(c){P(c,"executeSiteConfiguration")}}function Sg(a){Ae(a)}function Ef(a){L=a;Gf()}function Ff(){L.account&&!G(ha)&&ha!==L.account&&(ha=L.account);L.dataset&&!G(Ca)&&Ca!==L.dataset&&(Ca=L.dataset)}function Gf(){ff=L.beaconConfig&&!0===L.beaconConfig.showPoweredBy;Ud=!0===L.twoWayEnabled;L.trackAnonymousUsers&&!G(z.trackAnonymous)&&
(z.trackAnonymous=L.trackAnonymousUsers);L.trackAccounts&&!G(z.trackAccounts)&&(z.trackAccounts=L.trackAccounts);L.trackUnknownPages&&!G(z.trackUnknownPages)&&(z.trackUnknownPages=L.trackUnknownPages);L.treatHashChangeAsPageLoad&&!G(z.treatHashChangeAsPageLoad)&&(z.treatHashChangeAsPageLoad=L.treatHashChangeAsPageLoad);L.siteConfigExecBeforePageReady&&!G(z.siteConfigExecBeforePageReady)&&(z.siteConfigExecBeforePageReady=L.siteConfigExecBeforePageReady);L.hideContentSectionsList&&!G(z.hideContentSectionsList)&&
(z.hideContentSectionsList=L.hideContentSectionsList);L.beaconConfig&&L.beaconConfig.hideContentSections&&!G(z.hideContentSections)&&(z.hideContentSections=L.beaconConfig.hideContentSections);L.beaconConfig&&L.beaconConfig.sendErrorEvents&&!G(z.sendErrorEvents)&&(z.sendErrorEvents=L.beaconConfig.sendErrorEvents);L.beaconConfig&&L.beaconConfig.hideContentSectionsMillis&&!G(z.hideContentSectionsMillis)&&(z.hideContentSectionsMillis=L.beaconConfig.hideContentSectionsMillis);L.beaconConfig&&L.beaconConfig.enableRememberMeUserIds&&
!G(z.enableRememberMeUserIds)&&(z.enableRememberMeUserIds=L.beaconConfig.enableRememberMeUserIds);L.beaconConfig&&L.beaconConfig.rememberMeUserIdsMillis&&(z.rememberMeUserIdsMillis=L.beaconConfig.rememberMeUserIdsMillis);L.beaconConfig&&!G(z.preventSensitiveDataCapture)&&(z.preventSensitiveDataCapture=L.beaconConfig.preventSensitiveDataCapture);L.beaconConfig&&!G(z.enableMessageRotation)&&(z.enableMessageRotation=L.beaconConfig.enableMessageRotation);L.beaconConfig&&!G(z.trackContextualRelatedItems)&&
(z.trackContextualRelatedItems=L.beaconConfig.trackContextualRelatedItems);L.beaconConfig&&!G(z.doNotTrackPingRequestsForActions)&&(z.doNotTrackPingRequestsForActions=L.beaconConfig.doNotTrackPingRequestsForActions);L.hidePageBeforeRedirectList&&!G(z.hidePageBeforeRedirectList)&&(z.hidePageBeforeRedirectList=L.hidePageBeforeRedirectList);L.beaconConfig&&L.beaconConfig.hidePagesForRedirect&&!G(z.hidePagesForRedirect)&&(z.hidePagesForRedirect=L.beaconConfig.hidePagesForRedirect);L.beaconConfig&&L.beaconConfig.hidePagesForRedirectMillis&&
!G(z.hidePagesForRedirectMillis)&&(z.hidePagesForRedirectMillis=L.beaconConfig.hidePagesForRedirectMillis);L.beaconConfig&&L.beaconConfig.disableQtipWindowScroll&&!G(z.disableQtipWindowScroll)&&(z.disableQtipWindowScroll=L.beaconConfig.disableQtipWindowScroll);L.googleAnalyticsIntegrationConfig&&L.googleAnalyticsIntegrationConfig.enabled&&!G(z.googleAnalyticsIntegrationConfig)&&(z.googleAnalyticsIntegrationConfig=L.googleAnalyticsIntegrationConfig);L.beaconConfig&&!G(z.doNotStoreCookiesRequireProvidedAnonId)&&
(z.doNotStoreCookiesRequireProvidedAnonId=L.beaconConfig.doNotStoreCookiesRequireProvidedAnonId);L.beaconConfig&&L.beaconConfig.actionRateLimiterConfig&&(z.actionRateLimiterConfig=L.beaconConfig.actionRateLimiterConfig);L.beaconConfig&&!G(z.enableTemplateEsc)&&(z.enableTemplateEsc=L.beaconConfig.enableTemplateEsc);Ff();ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Event responses are "+(Ud?"enabled":"disabled")+".");ajq.log.shouldLog("TRACE")&&console.log("Evergage: Site config: ",L)}function Hf(a){ajq.log.shouldLog("INFO")&&
console.log("Evergage: Executing site config (updated\x3d"+!!a+")...");ajq.checkTrimNative();a&&Ef(a);ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Page Detected");a=ie(L.pages);ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Page Detected");ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Clicks Detected");kf=[];lf=[];ajq(document).unbind("click",kd);pg(L,a,!1);ajq.log.shouldTestPerf("MODERATE")&&console.timeEnd("Evergage: Clicks Detected");var b=[];null!=
L.globalForms&&(b=ajq.merge(b,L.globalForms));Ue=L.globalFields;a&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Page detected ["+a.action+"]"),Ve=a.fields,null!=a.forms&&(b=ajq.merge(b,a.forms)));yd();qg(b);var c=L.userIdAtLoginField,d=b;if(c&&c.match){var e=aa(c.match);if(0===e.length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to detect the User Id via Login field with selector ["+c+"]");else if(2<=e.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for the User Id via Login field with selector ["+
c+"], using first"),e=ajq(e.get(0).form).get(0)){for(var f=!1,h=0;h<d.length;h++)if(aa(d[h].match).get(0)==e){for(var f=!0,l=0;l<d[h].formFields.length;l++)"userId"==d[h].formFields[l].name&&(f=!0);d[h].formFields.push(c)}f||(e={},e.match=c.match,e.name=null,e.isUserIdAtLogin=!0,e.formFields=[],e.formFields.push(c),d.push(e))}}ld=b;rg(b);Ug();!je("company")&&L.beaconConfig&&!0===L.beaconConfig.trackSubdomainAsCompany&&(b=ob(dd),Qa("company",b.substring(0,b.indexOf(".")),Evergage.Scope.Page));return a}
function Ug(){z.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not attempting to poll for missing clicks and fields while in phonegap."):("number"===typeof Eb&&clearInterval(Eb),Eb=setInterval(function(){var a=(new Date).getTime(),b=ie(L.pages,!0);pg(L,b,!0);rg(ld);50<(new Date).getTime()-a&&(clearInterval(Eb),Eb=null)},1E3))}function yd(){z.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Field capturing is disabled when beacon is running within phonegap."):
null!=L&&(ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Fields Detected"),sg(Ue),sg(Ve),ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Fields Detected"))}function Ae(a,b){if(!0!==ib){if(!Evergage.util.getParameterByName("simulate")){var c=Evergage.util.getParameterByName("evg_persisted_user_id");"string"===typeof c&&""!==c&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Setting user to persisted user ID from query parameter"),tg(),cf("_persistedUserId",c));var c=Evergage.util.getParameterByName("evg_anon_id"),
d=Ma().uuid;c!=d&&ug(c)&&Qa(".prevAnonId",d,Evergage.Scope.Request)}ma(window.evergageBeforeSiteConfigExecution)&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Executing site global JavaScript..."),window.evergageBeforeSiteConfigExecution());!0!==ib&&(T(window.evergageSiteWideStyles)&&""!==window.evergageSiteWideStyles&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Inserting site global CSS styles..."),c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style"),
d.type="text/css",d.setAttribute("class","evergageCampaignStyles"),d.styleSheet?d.styleSheet.cssText=window.evergageSiteWideStyles:d.appendChild(document.createTextNode(window.evergageSiteWideStyles)),c.appendChild(d),hd=bf=!0),ajq.log.shouldTestPerf("BASIC")&&console.time("Evergage: Beacon Setup"),O(),c=Hf(a),Jf(c,b),ajq.log.shouldTestPerf("BASIC")&&console.timeEnd("Evergage: Beacon Setup"),Te=!0)}}function If(){clearInterval(Gc);md=0;Gc=setInterval(function(){try{md++,60>=md&&(vc||wc)?"object"===
typeof window.Evergage&&"function"===typeof window.Evergage.loadTimeValuesReadyToSend&&Evergage.loadTimeValuesReadyToSend()&&(Be(),clearInterval(Gc),md=0):(clearInterval(Gc),md=0)}catch(a){P(a,"setupLoadTimeInterval")}},z.loadTimeIntervalDelay)}function Jf(a,b,c){U.canBeFiredYet=!0;b||(a&&(b=a.action),!b&&U.actionName&&(b=U.actionName),!b&&ab&&(b=ab),b||!0!==z.trackUnknownPages||(b=Gb(yb())));a={};ab&&Ea&&(a[".itemAction"]=ab,a[".item"]=evergageJSON.stringify(Ea),qc&&(a[".itemSku"]=evergageJSON.stringify(qc)));
Kf(b);try{if(vc){var d=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd");0<d&&(a[".dt"]=d,vc=!1)}if(wc){var e=Evergage.getTimeSincePageInitForVariable("loadEventEnd");0<e&&(a[".lt"]=e,wc=!1)}if("number"===typeof window.evergageBeaconParseTimeStart&&"number"===typeof window.evergageBeaconParseTimeEnd){var f=window.evergageBeaconParseTimeEnd-window.evergageBeaconParseTimeStart;ajq.log.shouldTestPerf("MODERATE")&&console.log("Evergage: Beacon Parse Time"+f);"number"===typeof f&&(a[".pt"]=
f)}if("object"===typeof window.performance&&"function"===typeof window.performance.getEntries)for(var h=window.performance.getEntries(),d=0;d<h.length;d++){var l=h[d];if(/\/evergage(Small)?(\.min)?\.js$/.test(l.name)){ajq.log.shouldTestPerf("RIGOROUS")&&console.log("Evergage: Beacon Network Load Time "+l.duration+"ms");var k=Math.round(l.duration);0<k&&(a[".bt"]=k);var g=Math.round(l.domainLookupEnd-l.domainLookupStart);0<g&&(a[".btdns"]=g)}}}catch(m){}!0===c||ke(a,!1)?(ajq.log.shouldTestPerf("RIGOROUS")&&
console.time("Evergage: Send Event"),a[".pv"]="",U.eventSendInProcess=!0,vg(a),Ia(b,a),U.eventSendInProcess=!1,U.hasBeenFired=!0,U.actionName=null,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Send Event")):U.actionName=b}function Be(){nd();H()}function Kf(a){z.doNotTrackPingRequestsForActions||(nd(),null!=a&&""!==a&&(rb=a),H())}function Lf(){return!0===U.hasBeenFired?!1:U.waitingOn.promoteCallback=!0}function nh(a){-1!==U.storedTimeout?ajq.log.shouldLog("WARN")&&console.log("Evergage: A delayed page load event timeout has already been setup."):
U.storedTimeout=window.setTimeout(function(){wg(a)},U.timeoutDuration)}function mf(a){ef();ke(null,!1)&&(U.hasBeenFired?ajq.log.shouldLog("WARN")&&console.log("Evergage: Page load event has already been fired."):!0!==a&&xg())}function ef(){window.clearTimeout(U.storedTimeout);U.storedTimeout=-1;U.timeoutDuration=100;U.timerStart=0;U.maxTimeout=0;U.waitingOn.promoteCallback=!1}function yg(a,b){var c=!1;try{c=a.apply(this,b?[!0]:[])}catch(d){P(d,"invokeDataCollectionFunction"),c=!0}return c}function wg(a,
b){var c=(new Date).getTime();!0===yg(a,!1)?mf(b):(new Date).getTime()-U.timerStart>=U.maxTimeout?(ajq.log.shouldLog("INFO")&&console.log("The delayed page load event never returned true by the time the ["+U.maxTimeout+"ms] max timeout was hit.  Sending the page load action now.."),yg(a,!0),mf(b)):(c=(new Date).getTime()-c,250<=c?(ajq.log.shouldLog("WARN")&&console.log("The delayed page load event function took too long ["+c+"ms], so we will not be attempting to call it again."),mf(b)):(ajq.log.shouldLog("TRACE")&&
console.log("The delayed page load event function took ["+c+"ms]."),window.clearTimeout(U.storedTimeout),U.storedTimeout=-1,c>U.timeoutDuration/3&&(U.timeoutDuration=4*c,ajq.log.shouldLog("WARN")&&console.log("The delayed page load event function took ["+c+"ms], so we will be increasing the timeout duration to ["+U.timeoutDuration+"ms].")),nh(a)))}function ke(a,b){var c;if(c=Td(a,b))a:{for(var d in U.waitingOn)if(U.waitingOn.hasOwnProperty(d)&&!0===U.waitingOn[d]){c=!1;break a}c=!0}return c&&!0===
U.canBeFiredYet}function Td(a,b){U.waitingOn.credentials=!1;var c=a;if(null==c||!0!==b)c=pb([],c);"number"===typeof c.length&&(c=Wb(c));if(c.hasOwnProperty("userId")||c.hasOwnProperty("_persistedUserId")||c.hasOwnProperty(".anonId"))!z.trackAccounts||c.hasOwnProperty("company")||c.hasOwnProperty("_persistedAccountId")||c.hasOwnProperty("_anon");else return ajq.log.shouldLog("WARN")&&console.log("Evergage: [WARNING] Ignoring attempt to send event with no user ID. ",Wb(a)),U.waitingOn.credentials=!0,
!1;return!0}function pg(a,b,c){z.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Click tracking is disabled when beacon is running within phonegap."):(zg(a.globalPageActions,c),b&&zg(b.pageActions,c))}function zg(a,b){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=b;if(!ia(d.match)){var f=aa(d.match);0===f.length&&!0!==e&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Unable to find page action ["+d.name+"] target ["+d.match+"], may be added later");d={action:d.name,hasBeenHandledByEvergage:!1};
if(0<f.size())for(var h=0;h<f.length;h++)!0!==ajq.data(f.get(h),"evergageClickInstrumented")&&(!0!==e&&ajq(f.get(h)).off("click",kd),ajq(f.get(h)).on("click",d,kd),ajq.data(f.get(h),"evergageClickInstrumented",!0),kf.push(f.get(h)))}}}function aa(a){try{return ajq(a)}catch(b){return-1!==b.message.indexOf("Syntax error, unrecognized expression:")?(P(b,"jQueryObjectSyntaxError"),ajq.log.shouldLog("WARN")&&console.log('Evergage: There was an error parsing the expression: "'+a+'".')):P(b,"jQueryObjectUnknownError"),
ajq()}}function dg(){var a=window,b=na;a.removeEventListener?a.removeEventListener("beforeunload",b,!1):a.detachEvent&&a.detachEvent("onbeforeunload",b);ajq(window).unbind("blur.evergage",K);ajq(window).unbind("focus.evergage",F);ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Q);ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Fe);ajq(window).unbind("scroll.evergage resize.evergage",A);We();$f();oh()}function $f(){for(var a=
0;a<de.length;a++)clearTimeout(de[a]);de=[];"number"===typeof Eb&&clearInterval(Eb);Eb=null;clearTimeout(ub);ub=-1;clearInterval(Gc);Gc=-1}function oh(){clearTimeout(ya);ya=-1;clearTimeout(bb);bb=-1;clearTimeout(Nd);Nd=-1;D(Dc,function(a,b){clearTimeout(b);delete Dc[a]});D(Cb,function(a,b){clearTimeout(b.timeout);delete Cb[a]});ef();D(le,function(a,b){clearTimeout(b);delete le[a]});D(me,function(a,b){clearTimeout(b);delete me[a]});clearTimeout(Hc);Hc=-1;for(var a=0;a<ne;a++)clearTimeout(ne[a]);ne=
[];for(a=0;a<oe;a++)clearInterval(oe[a]);oe=[];clearInterval(Db);Db=-1;ajq(window).unbind("hashchange",kc);clearInterval(od);od=-1}function We(){ajq(document).unbind("click",kd);ajq.each(kf,function(a,b){aa(b).off("click",kd);ajq.removeData(aa(b)[0],"evergageClickInstrumented")});ajq.each(lf,function(a,b){aa(b.match).off("submit",nf)});ajq.each(og,function(a,b){aa(b).unbind("click",Ee)});ajq.each(ng,function(a,b){aa(b).unbind("mouseenter",Ce);aa(b).unbind("mouseleave",De)});ajq.each(ig,function(a,
b){aa(b).off("click.evergagePageChangeClickthrough")})}function kd(a){try{"#document"!=a.delegateTarget.nodeName||null!==a.data&&!0!==a.data.hasBeenHandledByEvergage?(ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Click Event Sent"),ajq.log.shouldLog("INFO")&&console.log("Evergage: Detected page action click ["+a.data.action+"]"),Ia(a.data.action,{},!0),a.data.hasBeenHandledByEvergage=!0,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Click Event Sent")):a.data.hasBeenHandledByEvergage=
!1}catch(b){P(b,"handlePageActionClick")}}function qg(a){for(var b=0;b<a.length;b++)for(var c=0;c<a.length;c++)G(aa(a[b].match).get(0))&&aa(a[b].match).get(0)==aa(a[c].match).get(0)&&b!=c&&(null!=a[c].formFields&&0<a[c].formFields.length&&(a[b].formFields=ajq.merge(a[b].formFields,a[c].formFields)),a.splice(c,1),c--,b>c&&b--)}function of(a){for(var b=0;b<a.formFields.length;b++){var c=Ag(a,a.formFields[b]);c&&("userId"==a.formFields[b].name||"company"==a.formFields[b].name?(Fb(a.formFields[b].name,
c),jb()):Qa(a.formFields[b].name,c,Evergage.Scope.Request))}}function Bg(a,b,c){p(b)||(b={});Ia(a,b,!1,!0);qa(c)&&(clearTimeout(Qd),Qd=setTimeout(function(){ajq.evgjStorage.deleteKey(sa(W.storedRequests.ids.FormSubmitRequests))},c))}function nf(a){try{var b=a.data[0],c=a.data[1];of(c);c.name&&Ia(c.name,{},!1,!0);ma(b.get(0).originalOnsubmitForEvergageFormFieldTracking)&&b.get(0).originalOnsubmitForEvergageFormFieldTracking();var d=pf(5);le[d]=setTimeout(function(){a.isDefaultPrevented()&&ajq.evgjStorage.deleteKey(sa(W.storedRequests.ids.FormSubmitRequests));
delete le[d]},500)}catch(e){P(e,"handleFormSubmit")}}function ph(a){var b=[];a=ajq(a).find("input[id^\x3d'eg_'][type\x3d'checkbox']:not(:checked)");for(var c=0;c<a.length;c++)"string"===typeof ajq(a[c]).attr("id")&&ajq(a[c]).attr("id").match(/eg_.*_\w{5}/)&&ajq(a[c]).attr("name")&&b.push({name:ajq(a[c]).attr("name"),value:"off"});return b}function rg(a){for(var b=0;b<a.length;b++){var c=a[b],d=aa(c.match);!0===c.isUserIdAtLogin&&(d=d.parents("form"));if(0===d.length)ajq.log.shouldLog("TRACE")&&console.log("Evergage: Failed to detect the form with selector ["+
c.match+"] used to track form fields.");else if(2<=d.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for the form with selector ["+c.match+"], using first."),!0!==ajq.data(d.get(0),"evergageFormInstrumented")){d.get(0).originalOnsubmitForEvergageFormFieldTracking||(d.get(0).originalOnsubmitForEvergageFormFieldTracking=d.get(0).onsubmit);var e=d;e.off("submit",nf);e.on("submit",[e,c],nf);lf.push(c);ajq.data(d.get(0),"evergageFormInstrumented",!0)}}}function sg(a){if(a)for(var b=
0;b<a.length;b++){var c=Cg(a[b]);if(c){var d=a[b].sendOncePerPage?Evergage.Scope.Request:Evergage.Scope.Page;"userId"==a[b].name||"company"==a[b].name?Fb(a[b].name,c)&&(a.splice(b,1),jb()):Qa(a[b].name,c,d)&&d===Evergage.Scope.Request&&(a.splice(b,1),b--)}}}function Ag(a,b){var c=ajq.extend(!0,{},b);!0!==a.isUserIdAtLogin&&(c.match=a.match+" "+b.match);return Cg(c)}function Cg(a){var b=aa(a.match);if(0===b.length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Failed to detect property ["+
a.name+"] with selector ["+a.match+"]"),null;1<b.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for property ["+a.name+"] with selector ["+a.match+"], using first");var c=b[0].tagName.toLowerCase(),d="";if(-1!=ajq.inArray(c,["input","select","textarea"])){if("input"==c&&("radio"==b[0].type||"checkbox"==b[0].type)&&(b=b.filter(":checked"),0===b.length))return null;d=b.val();d instanceof Array&&(d=d.toString());if("input"==c&&"password"==b[0].type)return null}else d=
b.text();d=ajq.trim(d);if(a.expression&&(a=qf(a.expression,d))&&1<a.length)for(d="",b=1;b<a.length;b++)d+=a[b];return ajq.trim(d).substring(0,1024)}function ie(a,b){var c=null;a&&ajq.each(a,function(a,b){var d;if(d=!b.matchType||"url"==b.matchType)d=window.location.protocol+"//"+window.location.host,d=ua().substring(d.length),d=b.urlRegex&&qf(b.urlRegex,d,b.ignoreCaseForRegexMatch)&&Dg(b,ob(window.location.hostname))?!0:!1;if(d)return c=b,!1;if(d="title"==b.matchType)d=ajq.trim(document.title).replace(/\s{2,}/g,
" "),d=b.titleRegex&&qf(b.titleRegex,d,b.ignoreCaseForRegexMatch)&&Dg(b,ob(window.location.hostname))?!0:!1;if(d)return c=b,!1});c?ajq.log.shouldLog("INFO")&&!0!==b&&console.log("Evergage: Page mapped to action ["+c.action+"] (matched via "+c.matchType+")."):c=qh(a,U.actionName);return c}function qh(a,b){if(null===b||""===b)return null;var c;a&&ajq.each(a,function(a,d){if(d.action===b)return c=d,!1});c&&ajq.log.shouldLog("INFO")&&console.log("Evergage: Page mapped to action ["+b+"] manually.");return c}
function qf(a,b,c){try{return!0===c?b.match(new RegExp(a,"i")):b.match(new RegExp(a))}catch(d){return P(d,"matchWithRegexp"),!1}}function Dg(a,b){if(!0!==a.domainMatchRequired)return!0;if(!a.domainsMatched)return!1;for(var c=0;c<a.domainsMatched.length;c++)if(a.domainsMatched[c]==b)return!0;return!1}function ta(a){return"message{id\x3d"+a.id+', experience\x3d"'+(a.experienceName||"")+'", campaign\x3d"'+(a.campaignName||"")+'"}'}function Ze(a){return'experience\x3d"'+(a.experienceName||"")+'", campaign\x3d"'+
(a.campaignName||"")+'"}'}function fg(a){var b={};rh(b,a);if(z.notifyIntegratorOfEvents&&!0===z.notifyIntegratorOfEvents){0===ajq("#dataToSendToEvergageIntegratorDiv").length&&(a=ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id","dataToSendToEvergageIntegratorDiv").css("display","none"),ajq("body").append(a));a={actionType:"apptegicEvent",eventDetails:b};var c=document.createEvent("CustomEvent");c.initCustomEvent("dataToEvergageIntegrator",!0,!0,a);document.getElementById("dataToSendToEvergageIntegratorDiv").dispatchEvent(c)}ajq.log.shouldLog("INFO")&&
console.log("Evergage: Event sent to server: ",b)}function rh(a,b){b&&ajq.each(b,function(b,c){c.hasOwnProperty("name")&&c.hasOwnProperty("value")&&(a[c.name]=c.value)})}function lh(a,b){var c=null;a&&ajq.each(a,function(a,d){d.hasOwnProperty("name")&&d.hasOwnProperty("value")&&d.name===b&&(c=d.value)});return c}function sh(a){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.setAttribute("class","evergageRedirectedPageHidden");c.styleSheet?
c.styleSheet.cssText="body, html { visibility: hidden !important; }":c.appendChild(document.createTextNode("body, html { visibility: hidden !important; }"));a=qa(a)?a:1E3;clearTimeout(Hc);Hc=setTimeout(function(){Pd()},a);b.appendChild(c);df=!0;ajq.log.shouldLog("INFO")&&console.log("Evergage: Hiding page for possible redirect campaigns.")}function Pd(){try{!0===jg?ajq.log.shouldLog("INFO")&&console.log("Evergage: Now Redisplaying page marked for redirect because we are in the middle of a redirect"):
(ajq("head \x3e style.evergageRedirectedPageHidden").remove(),clearTimeout(Hc),Hc=-1,ajq.log.shouldLog("INFO")&&console.log("Evergage: Redisplaying page marked for redirect."))}catch(a){P(a,"reshowHiddenPageForRedirectNow")}}function th(a,b,c,d){var e={exists:!1,matched:!1};if(ajq.isArray(c)&&0<c.length){var f=a.toUpperCase();e.exists=!0;ajq.each(c,function(b,c){e.matched=d?-1<f.indexOf(c.toUpperCase()):-1<a.indexOf(c);if(e.matched)return!1})}b.exclusions=e}function uh(a,b,c,d){var e={exists:!1,matched:!1};
if(ajq.isArray(c)&&0<c.length){e.exists=!0;var f=a.toUpperCase();ajq.each(c,function(b,c){e.matched=d?-1<f.indexOf(c.toUpperCase()):-1<a.indexOf(c);if(e.matched)return!1})}b.inclusions=e}function vh(a){var b;if(window.location==window.top.location)b=window.location.href;else{try{b=window.top.location.href}catch(c){b=null}b||(b=document.referrer)}var d={},e=a.ignoreCase;ajq.each(a,function(a,c){switch(a){case "inclusionUrlSubstrings":uh(b,d,c,e);break;case "exclusionUrlSubstrings":th(b,d,c,e);break;
case "pathIsExactly":var f={exists:!1,matched:!1},r=Evergage.util.getPathname(b);if(c&&"string"===typeof c){var h=r.toUpperCase();f.exists=!0;f.matched=e?h===c.toUpperCase():r===c}d.pathIsExactly=f}});return d}function Pb(){try{"function"===typeof window.requestAnimationFrame?(ajq.log.shouldLog("INFO")&&console.log("Evergage: Scheduling for next animation frame redisplay of sections of the page marked for personalization."),window.requestAnimationFrame(cd)):cd(),Pd()}catch(a){P(a,"reshowPersonalizedSections")}}
function cd(){try{ajq("head \x3e style.evergagePersonalizationSections").remove(),ajq.log.shouldLog("INFO")&&console.log("Evergage: Redisplaying sections of the page marked for personalization.")}catch(a){P(a,"reshowPersonalizedSectionsNow")}}function ag(a){if(!0!==a){a=W.storedRequests.ids.DelayedClick;var b=za(a);if(G(b)){if(void 0!==b.length)for(var c=0;c<b.length;c++)pe(b[c],"click");else pe(b,"click");ajq.evgjStorage.deleteKey(sa(a))}}a=W.storedRequests.ids.FormSubmitRequests;b=za(a);if(G(b)){if(void 0!==
b.length)for(c=0;c<b.length;c++)pe(b[c],"form submit");else pe(b,"form submit");ajq.evgjStorage.deleteKey(sa(a))}a=za(W.storedRequests.ids.StoredPingRequest);G(a)&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending delayed ping request from previous page..."),Ic=a.params)}function vg(a){var b;null!=Ic&&"object"===typeof Ic&&"number"===typeof Ic.length&&(b=Wb(Ic),null!=a[".pnp_top"]||null==b||null==b[".top"]||null==b.action&&!b[".item"]||(b._ak==ha&&b._ds==Ca&&(delete a[".pnp_action"],delete a[".pnp_item"],
a[".pnp_top"]=b[".top"],null!=b.action&&(a[".pnp_action"]=b.action),null!=b[".item"]&&(a[".pnp_item"]=b[".item"])),Ic=null,ajq.evgjStorage.deleteKey(sa(W.storedRequests.ids.StoredPingRequest))))}function pe(a,b){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending delayed "+b+" action from previous page...");Mb(a.params,!1,a.currentPageUrl,a.requestId)}function rf(a,b){b=G(b)?b.toLowerCase():Evergage.Scope.Visit;return b!==Evergage.Scope.Visit&&b!==Evergage.Scope.Page&&b!==Evergage.Scope.Request?
(ajq.log.shouldLog("WARN")&&console.log("Evergage: ["+b+"] is not a valid scope.  Field ["+a+"] not set."),!1):b}function je(a,b){b=rf(a,b);var c;-1!==ajq.inArray(a,Eg)?c=V[a]:b===Evergage.Scope.Page?c=xc[a]:b===Evergage.Scope.Visit?c=va[a]:b===Evergage.Scope.Request&&(c=Sb[a]);return!ka(c)||c&&""===c[0]?!1:c}function Ye(a,b){b=rf(a,b);G(je(a,b))&&(-1!==ajq.inArray(a,Eg)?(zb(),Fb(a,null),delete va[a],jb()):b===Evergage.Scope.Visit?(zb(),delete va[a],Hb()):b===Evergage.Scope.Page?delete xc[a]:b===
Evergage.Scope.Request&&delete Sb[a])}function Fb(a,b){zb();if("userId"===a){var c=Fg("userId","_userIdHashSalt","_userIdHash","_persistedUserId",b);if(!c)return!1}else if("company"===a&&(c=Fg("company","_accountIdHashSalt","_accountIdHash","_persistedAccountId",b),!c))return!1;!0!==U.eventSendInProcess&&ke(null,!1)&&xg();return!0}function cf(a,b){"_persistedUserId"===a?(V._persistedUserId=b,delete V.userId,jb()):"_persistedAccountId"===a&&(V._persistedAccountId=b,delete V.company,jb())}function Gg(a,
b){G(b)||(b="");T(b)||(b=String(b));var c=ajq.trim(b.slice(0,1024));ajq.log.shouldLog("TRACE")&&console.log('Evergage: Setting custom field "'+a+'" to "'+c+'"...');return z.preventSensitiveDataCapture&&td(c)?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Not setting custom field ["+a+"] as it appears to contain sensitive data."),!1):b}function Qa(a,b,c,d){if("userId"===a||"company"===a)return Fb(a,b);if(-1!==ajq.inArray(a,"_persistedUserId _userIdHash _userIdHashSalt _persistedAccountId _accountIdHash _accountIdHashSalt".split(" ")))return ajq.log.shouldLog("WARN")&&
console.log("Evergage: Not Setting field name ["+a+"] as it is unsupported.  That field name is reserved."),!1;if("user"===a||"account"===a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Setting field name ["+a+"] is unsupported.  That field name is reserved."),!1;b=Gg(a,b);if(!1===b)return!1;c=rf(a,c);if(!1===c)return!1;d=!1;c===Evergage.Scope.Visit?(ajq.log.shouldLog("INFO")&&console.log('Evergage: Setting custom fields with scope "visit" is deprecated - use scope "request" or "page" for var "'+
a+'" instead.'),zb(),va[a]=b,d=!0,Hb()):c===Evergage.Scope.Page?(xc[a]=b,d=!0):c===Evergage.Scope.Request&&(Sb[a]=b,d=!0);return d}function xg(){if(1!=U.hasBeenFired){var a=null;L&&(a=ie(L.pages));Jf(a,null,!0)}}function Fg(a,b,c,d,e){e=Gg(a,e);if(!e)return!1;if(""===e)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Not going to set the field ["+name+"] to an empty value."),!1;for(var f=0;f<sf.length;f++)if(e===sf[f])return ajq.log.shouldLog("WARN")&&console.log("Evergage: Not going to set the field ["+
name+"] to an invalid value of ["+sf[f]+"]"),!1;if(V[d]&&V[c]&&V[b]&&(f=V[b],f=m(f+e),f===V[c]))return ajq.log.shouldLog("DEBUG")&&console.log('Evergage: Not storing "'+a+'" variable, since a persisted entity ID is already stored for the same entity.'),!0;delete V[d];V[a]=e;f=m(pf());V[b]=f;f=m(f+e);V[c]=f;jb();return!0}function jb(){var a=W.identity.timeoutMillis;b();z.enableRememberMeUserIds&&(a=z.rememberMeUserIdsMillis);var c={},d=!1;null!=V._persistedUserId&&"string"===typeof V._persistedUserId&&
""!==V._persistedUserId&&(c.puid=V._persistedUserId,d=!0);null!=V._persistedAccountId&&"string"===typeof V._persistedAccountId&&""!==V._persistedAccountId&&(c.paid=V._persistedAccountId,d=!0);d?y(Ba("n"),c,a):Z(Ba("n"));a={};c="userId _userIdHashSalt _userIdHash company _accountIdHashSalt _accountIdHash".split(" ");for(d=0;d<c.length;d++){var e=V[c[d]];null!=e&&"string"===typeof e&&""!==e&&(a[c[d]]=e)}ajq.isEmptyObject(a)?ajq.evgjStorage.deleteKey(sa(W.identity.ids.RelatedIdentityFields)):(ajq.log.shouldLog("TRACE")&&
console.log("Evergage: Saving identity related fields to localStorage."),la(W.identity.ids.RelatedIdentityFields,a))}function pf(a){var b=Math.random().toString(36).substr(2);return"number"===typeof a&&0<a&&a<b.length?b.substring(0,a):b}function Hg(a){a&&ajq.each(a,function(b,c){a.hasOwnProperty(b)&&(G(c)?z[b]=c:z[b]=tf[b])})}function uc(a,b){for(var c={},d=0;d<b.length;d++){var e=b[d];"undefined"!==typeof a[e]&&(c[e]=a[e])}return c}function pd(a){a=uc(a,["_id","type","price","currency","categories"]);
if(ajq.isArray(a.categories)){for(var b=[],c=0;c<a.categories.length;c++)b[c]=uc(a.categories[c],["_id","type"]);a.categories=b}return a}function Ig(a){a=ajq.extend({},a);a.item&&(a.item=pd(a.item));return a}function wh(a){var b=ajq.extend({},a);if(ajq.isArray(a.lineItems)){b.lineItems=[];for(var c=0;c<a.lineItems.length;c++){var d=Ig(a.lineItems[c]);b.lineItems.push(d)}}return b}function nd(){-1!==ub&&(q(!1),clearTimeout(ub),ub=-1)}function ea(a,b,c,d){try{var e=b,f="timeout"===c||"interval"===c,
h=c;"function"===typeof b&&(e=void 0,h=b);var l="Click";"string"===typeof d&&0<d.length&&(l=d.substring(0,1).toUpperCase()+d.substring(1));if(f){d=c;if(!qa(a))return ajq.log.shouldLog("WARN")&&console.log("Evergage: The second argument to Evergage.safe"+l+" should be of type number."),null;if(0>typeof a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: The time parameter must be a non negative number."),null}else if("string"!==typeof a&&(null==a||"object"!==typeof a))return ajq.log.shouldLog("WARN")&&
console.log("Evergage: The first argument to Evergage.safe"+l+" should be of type string or a dom node."),null;if("function"!==typeof h)return a=f?"first":"second",ajq.log.shouldLog("WARN")&&console.log("Evergage: The "+a+" argument to Evergage.safe"+l+" should be of type function."),null;b=function(){try{ib||h.apply(this,arguments)}catch(a){P(a,"safeClickFunction_"+l)}};if("timeout"===d){var k=window.setTimeout(b,a);ne.push(k);return k}if("interval"===d){var g=window.setInterval(b,a);oe.push(g);
return g}return"undefined"===typeof e?aa(a).bind(d,b):aa(a).bind(d,e,b)}catch(m){return P(m,"safeBind"),null}}function tg(){V&&(delete V.userId,delete V._userIdHash,delete V._userIdHashSalt,delete V._persistedUserId,jb());Jg()}function Jg(){V&&(delete V.company,delete V._accountIdHash,delete V._accountIdHashSalt,delete V._persistedAccountId,jb())}function ug(a){if(T(a)&&/^[-_0-9a-zA-Z]{8,48}$/.exec(a)){var b=Ma();b.uuid=a.toLowerCase();Nb(b);return!0}ajq.log.shouldLog("WARN")&&console.log("Evergage: anonymousId must be between 8 and 40 lowercase alphanumeric characters or hyphens.");
return!1}function uf(a){if(!a)return"";a=a.pathname;null!=a&&"/"!=a.charAt(0)&&(a="/"+a);return a}function Kg(a){if(!a)return"";var b=document.createElement("a");b.href=a;return uf(b)}function Lg(a,b){var c=a.exec(b);return c&&2===c.length?c[1]:null}function Mg(a){return Lg(/[/]?([^/]*)[/]?$/,Kg(a))}function Ng(a){if("string"!==typeof a||""===ajq.trim(a))return null;var b=document.createElement("a");b.href=a;return b.href}function Og(a,b){var c,d,e,f,h,l,k,g,m,n,u,t=[].indexOf||function(a){for(var b=
0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};e=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,
valid_length:[13,14,15,16,17,18,19]},{name:"mastercard",pattern:/^(5[1-5]|2[3-6]|22[3-9]|222[1-9]|27[0-1]|2720)/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]},{name:"dankort",pattern:/^5019/,valid_length:[16]},{name:"uatp",pattern:/^1/,valid_length:[15]}];null==b&&(b={});null==b.accept&&(b.accept=function(){var a,
b,d;d=[];a=0;for(b=e.length;a<b;a++)c=e[a],d.push(c.name);return d}());u=b.accept;m=0;for(n=u.length;m<n;m++)if(d=u[m],0>t.call(function(){var a,b,d;d=[];a=0;for(b=e.length;a<b;a++)c=e[a],d.push(c.name);return d}(),d))throw"Credit card type '"+d+"' is not supported";f=function(a){var f,r,h,l;l=[];f=0;for(r=e.length;f<r;f++)c=e[f],(h=c.name,0<=t.call(b.accept,h))&&l.push(c);f=0;for(r=l.length;f<r;f++)if(d=l[f],a.match(d.pattern))return d;return null};l=function(a){var b,c,d,e,f;c=0;f=a.split("").reverse();
b=d=0;for(e=f.length;d<e;b=++d)a=f[b],a=+a,b%2?(a*=2,c=10>a?c+a:c+(a-9)):c+=a;return 0===c%10};h=function(a,b){var c;return c=a.length,0<=t.call(b.valid_length,c)};g=function(a){var b,c;d=f(a);b=c=!1;null!=d&&(c=l(a),b=h(a,d));return{card_type:d,luhn_valid:c,length_valid:b}};k=function(a){return a.replace(/[ -]/g,"")};return function(){var b;b=k(a);return g(b)}(a)}if("undefined"===typeof ajq)return null;var W={anonymousId:{cookieId:"a",timeoutMillis:63072E6,ids:{}},identity:{cookieId:"n",timeoutMillis:18E5,
ids:{RelatedIdentityFields:"relatedIdentityFields"}},session:{timeoutMillis:18E5,ids:{CustomFields:"customFields",UserInfo:"userInfo",SessionTicket:"sessionTicket"}},sessionSettings:{timeoutMillis:18E5,ids:{TestMessages:"testMessages",LoggingLevel:"evergageLoggingLevel",PerfLoggingLevel:"evergagePerfLoggingLevel",ClientIp:"evergageClientIp"}},storedRequests:{timeoutMillis:3E4,ids:{DelayedClick:"delayedClickRequest",FormSubmitRequests:"formSubmitRequests",StoredPingRequest:"storedPingRequest"}},messageRotation:{timeoutMillis:3E4,
ids:{MessageQueue:"messageQueue"}}},sf=["null","undefined","false","0","[object Object]"],fd=["userId","_persistedUserId","_userIdHashSalt","_userIdHash"],gd=["company","_persistedAccountId","_accountIdHashSalt","_accountIdHash"],Eg=fd.concat(gd),hh="ac ad ae af ag ai al am an ao aq ar as at au aw ax az ba bb bd be bf bg bh bi bj bm bn bo bq br bs bt bv bw by bz ca cc cd cf cg ch ci ck cl cm cn co cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh er es et eu fi fj fk fm fo fr ga gb gd ge gf gg gh gi gl gm gn gp gq gr gs gt gu gw gy hk hm hn hr ht hu id ie il im in io iq ir is it je jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md me mg mh mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nc ne nf ng ni nl no np nr nu nz om pa pe pf pg ph pk pl pm pn pr ps pt pw py qa re ro rs ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr ss st su sv sx sy sz tc td tf tg th tj tk tl tm tn to tp tr tt tv tw tz ua ug uk us uy uz va vc ve vg vi vn vu wf ws ye yt za zm zw cw".split(" "),
Pg="",Pg="7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",tf={referrerUrl:"",useSiteConfig:!0,trackAnonymous:null,trackAccounts:null,trackUnknownPages:null,trackMessageStats:!0,notifyIntegratorOfEvents:!1,treatHashChangeAsPageLoad:null,siteConfigExecBeforePageReady:null,preventSensitiveDataCapture:null,pageUrl:null,pageTitle:null,
downloadExtensions:Pg,hostsAlias:[dd],ignoreClasses:[],downloadClasses:[],linkClasses:[],trackerDelay:500,discardHashTag:!1,customFields:{},cookieDomain:null,cookiePath:null,doNotTrack:!1,timeOnPageTimer:6E4,hideContentSectionsList:null,hideContentSections:null,hideContentSectionsMillis:null,enableRememberMeUserIds:null,rememberMeUserIdsMillis:63072E6,enableMessageRotation:null,trackContextualRelatedItems:null,doNotTrackPingRequestsForActions:null,runningInMobileApp:!1,trafficSourceIndex:null,testModeEnabledForPageLoad:null,
disableCampaignStatTracking:!1,hidePageBeforeRedirectList:null,hidePagesForRedirect:null,hidePagesForRedirectMillis:null,disableQtipWindowScroll:null,doNotStoreCookiesRequireProvidedAnonId:null,googleAnalyticsIntegrationConfig:null,minimumActivityTimeToRegister:300,loadTimeIntervalDelay:1E3,actionRateLimiterConfig:{globalLimit:10,globalTimeRange:2E3,perActionLimit:5,perActionTimeRange:5E3},enableTemplateEsc:null},fh=/Googlebot|Mediapartners-Google|Web Preview|bot|Applebot|spider|crawler|Feedfetcher|Slurp|Twiceler|Nutch|BecomeBot|bingbot|BingPreview|Google Web Preview|WordPress.com mShots|Seznam|facebookexternalhit|YandexMarket|Teoma|ThumbSniper|Phantom|Easy-Thumb/i,
mh={AUD:{symbol:"A$",decimals:2},BRL:{symbol:"R$",decimals:2},CAD:{symbol:"CA$",decimals:2},CLP:{symbol:"$"},CNY:{symbol:"CN??",decimals:2},DKK:{symbol:"Kr",decimals:2},EUR:{symbol:"???",decimals:2},GBP:{symbol:"??",decimals:2},HKD:{symbol:"HK$",decimals:2},INR:{symbol:"???",decimals:2},ILS:{symbol:"???",decimals:2},JPY:{symbol:"??"},KRW:{symbol:"???"},MXN:{symbol:"MX$",decimals:2},NZD:{symbol:"NZ$",decimals:2},OMR:{decimals:3},PHP:{symbol:"Php",decimals:2},TWD:{symbol:"NT$",decimals:2},USD:{symbol:"$",
decimals:2},VND:{symbol:"???",decimals:2}},ae={Experience:"e",Message:"m"},lb={Impression:"i",Clickthrough:"c",Dismissal:"d"},Ua={ComponentType:"type",ComponentId:"id",ExperienceId:"eid",StatType:"stat",UserGroup:"ug",PromotedItemKeys:"piks",ClickthroughUrl:"href"},Ka={Default:"Default",Control:"Control"},Vd={Category:"c",Product:"p",Article:"a",Blog:"b",Tag:"t"},z=function(){var a={};ajq.each(tf,function(b,c){tf.hasOwnProperty(b)&&(a[b]=c)});return a}(),bg=!1,Te=!1,Se=!1,La=!1,ha=null,Ca=null,Da=
null,rc=null,Rd,cg=!1,vf=function(a,b,c){if("translate.google.com"===a)""===c&&(c=b),b=X(b,"u"),a=C(b).host;else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))b=document.links[0].href,a=C(b).host;return[a,b,c]}(window.location.hostname,window.location.href,document.referrer),dd=ba(vf[0]),xh=vf[1],jh=vf[2],Ud=!0,ff=!1,eg="https"===window.location.protocol,V=!1,va=!1,xc={},Sb={},Zd=null,tc={},ih={},be,ce,Yd="",Xd="",hd=!1,bf=!1,L=window.evergageSiteConfig||{},pc=
!1,id={},gf={},Fa={},mb={},xb={},ge={},cb={},vb={},Cc={},fe={},Vb={},Db=-1,kf=[],lf=[],og=[],ng=[],ig=[],jf=!1,Va={},Bc={},Dc={},le={},me={},ne=[],oe=[],he=-1,Fc=-1,kg=location.href,Ac=[],de=[],Zf=!1,ib=!1,Ue=[],Ve=[],Eb,yc=0,ld=[],wb={},pa=-1,Ja=-1,ub=-1,bb=-1,bd=-1,Ic=null,Qd=-1,Ea=null,qc=null,rb=null,ad=0,ab=null,$d=null,tb=!1,ya=-1,Hc=-1,df=!1,gg=0,ee=!1,Rb=null,Bb=!1,sb=[],Cb={},Qb={},Od=0,Nd=-1,sc=!1,Ld=!1,kb={},hg=!1,Ub=[],Tb=[],Ec=[],zc=[],Sd=[],$e=!1,af={},Xe=!0,jg=!1,vc=!0,wc=!0,Gc=-1,
md=0,od=-1,ed=0,Wd=0,jd=[],mg=null,yh=1==(window.Intl&&"object"==typeof window.Intl&&"function"==typeof window.Intl.NumberFormat),wf;a:{try{(0).toLocaleString("i")}catch(r){wf="RangeError"===r.name;break a}wf=!1}var hf={toLocaleStringSupportsOptions:yh,toLocaleStringSupportsLocales:wf},U={maxTimeout:0,timerStart:0,storedTimeout:-1,timeoutDuration:100,waitingOn:{credentials:!1,promoteCallback:!1},hasBeenFired:!1,actionName:null,eventSendInProcess:!1,canBeFiredYet:!1};fa(window,"beforeunload",na,!1);
try{ajq(window).bind("hashchange",kc),-1!==od&&clearInterval(od),od=setInterval(kc,500)}catch(r){P(r,"registerHashChangeEventListener")}Ff();var Md=function(a){function b(e){"function"!==typeof a.ga||"function"!==typeof a.ga.getAll?(u.push(e),-1===t&&(t=Evergage.safeTimeout(c,200))):(d(),ga(e))}function c(){if("function"===typeof a.ga&&"function"===typeof a.ga.getAll){d();for(var e=0;e<u.length;e++)b(u[e])}else q++,25>q&&(t=Evergage.safeTimeout(c,200))}function d(){if(!k.createTrackingObject||!0!==
n)for(var b=a.ga.getAll(),c=0;c<b.length;c++){var e=b[c].get("trackingId");if("string"===typeof e&&e===k.trackingId){ga("create",k.trackingId);n=!0;break}}}function e(a){var b={i:"Impression",c:"Clickthrough",d:"Dismissal"};return b[a]?b[a]:null}function f(a,b,c){var d="${campaignName} ${campaignId} ${experienceName} ${experienceId} ${userGroup} ${actionName} ${currentDate}".split(" ");try{var e=a.match(new RegExp(/(\$\{[^}]+\})/g));if(null==e)return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Google Analytics: Could not find matching event variables in string: "+
a),a;if(null==b&&T(c))1===e.length&&(a=a.replace(e[0],c));else if(null!==b)for(c=0;c<e.length;c++){var r=e[c],h=null;if("${currentDate}"===r){var l=new Date,k=l.getDate(),g=l.getMonth()+1,m=l.getFullYear();10>k&&(k="0"+k);10>g&&(g="0"+g);h=m+""+g+""+k;a=a.replace(r,h)}else if(-1!==ajq.inArray(r,d)){var n=r.slice(2,-1),h=b[n];"userGroup"===n&&"string"===typeof h&&(h=h!==Ka.Control?"Test":Ka.Control);a=a.replace(r,h)}else ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Invalid dynamic variable ["+
r+"]. Removing."),a=a.replace(r,"")}}catch(u){P(u,"ga-replaceDynamicEventVariables"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] There was an exception trying to replace dynamic variables in an event property.")}return a}function h(a,b){try{var c=b.googleAnalyticsConfig,d,e;switch(c.bucketType){case "Dimension":d="dimension"+c.dimensionIndex;e=c.dimensionValue;break;case "Metric":d="metric"+c.metricIndex,e=c.metricValue}var r=f(e,b);d&&e&&null!==r?a[d]=r:ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: [Google Analytics] Invalid dimension, metric or value event dynamic syntax.")}catch(l){P(l,"ga-addCustomDimensionOrMetricToEvent"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] There was an exception when adding a custom dimension or metric to the GA event.")}}function l(a,b){var c=null;switch(a){case "Impression":T(b.statTypeImpressionFormat)&&(c=b.statTypeImpressionFormat);break;case "Clickthrough":T(b.statTypeClickthroughFormat)&&(c=b.statTypeClickthroughFormat);
break;case "Dismissal":T(b.statTypeDismissalFormat)&&(c=b.statTypeDismissalFormat)}return c?c:a}var k=null,g=!1,m=null,n=!1,u=[],t=-1,q=0;return{init:function(a){"object"===typeof a&&a.enabled&&(k=a,k.prependCommandsWithTrackerName&&T(k.trackerName)&&""!==k.trackerName&&(m=k.trackerName),g=!0,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Initialized with configuration:",k))},isInitialized:function(){return null!=k&&g},handleActionEvent:function(a,c,d,e){if(k&&k.actionEventOptions.enabled){d=
k.actionEventOptions;e=!1;for(var r=0;r<c.length;r++)".pv"===c[r].name&&(e=!0);var h={hitType:"event",nonInteraction:1,eventCategory:"Action",eventAction:e?"PageLoad":"Action"};if(T(a)){h.eventLabel=a;T(d.categoryFormat)&&(h.eventCategory=d.categoryFormat);e&&T(d.pageLoadActionFormat)&&(h.eventAction=d.pageLoadActionFormat);!e&&T(d.pageActionFormat)&&(h.eventAction=d.pageActionFormat);c=null;T(d.labelFormat)&&(c=f(d.labelFormat,null,a),T(c)&&(h.eventLabel=c));var l=null!=m?m+".send":"send";ajq.log.shouldLog("TRACE")&&
console.log("Evergage: [Google Analytics] Tracking action event with sendCommand ["+l+"]",h);b(function(){ga(l,h)})}else ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Not tracking action event as an evergage action name could not be found.")}},handleCampaignEvent:function(a,c,d){try{if(k&&k.campaignEventOptions.enabled){var r=d.googleAnalyticsConfig||{};if("object"!==typeof r||r.trackingEnabled||"allCampaigns"===k.campaignEventOptions.trackingLevel)if("Testing"!==d.campaignState&&
"Disabled"!==d.campaignState||!0===k.campaignEventOptions.testingModeEventsEnabled){var g=e(c),n={hitType:"event",nonInteraction:1,eventCategory:"Experience",eventAction:g,eventLabel:d.campaignName+" ["+d.experienceName+"]"};c=a=null;"object"===typeof r&&r.overrideEventConfigDefaults?(c=l(g,r),a={eventCategory:r.categoryFormat,eventAction:c,eventLabel:r.labelFormat}):(c=l(g,k.campaignEventOptions),a={eventCategory:k.campaignEventOptions.categoryFormat,eventAction:c,eventLabel:k.campaignEventOptions.labelFormat});
if(null!=a)for(var u in a)if(a.hasOwnProperty(u)){var t=a[u];null!=t&&(t=f(t,d),T(t)&&(n[u]=t))}r&&r.bucketsEnabled&&h(n,d);var q=null!=m?m+".send":"send";ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Tracking campaign stat event with sendCommand ["+q+"]",n);b(function(){ga(q,n)})}else ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] Not tracking GA event for campaign["+d.campaignId+"] experience["+d.experienceId+"] - reason: campaign is in test mode. Change this settings in google analytics setup.");
else ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] Not tracking GA event for this campaign beacause the dataset campaign tracking level is set to [specific campaigns] and this campaign does not have GA events enabled.")}}catch(p){ajq.log.shouldLog("WARN")&&console.log("Evergage: [Google Analytics] Could not track campaign stat event due to error: ",p)}}}}(window),kh=function(){function a(){P(Error("Action rate limit exceeded, halting track action"),"ActionRateLimiter");ajq.log.shouldLog("WARN")&&
console.log("Evergage: Action Rate Limiter triggered, halting track action calls.");c=!0}var b=[],c=!1;return{canTrackAction:function(d){if(c)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Action Rate Limiter previously triggered. Track action disabled."),!1;var e=Date.now();b.push({name:d,time:e});for(var f=0,h=0,l=Math.max(z.actionRateLimiterConfig.globalTimeRange,z.actionRateLimiterConfig.perActionTimeRange),k=b.length-1;0<=k;k--){if(!(e-b[k].time<l)){b.splice(0,k+1);break}if(e-b[k].time<
z.actionRateLimiterConfig.globalTimeRange&&(f++,f>z.actionRateLimiterConfig.globalLimit)||e-b[k].time<z.actionRateLimiterConfig.perActionTimeRange&&b[k].name==d&&(h++,h>z.actionRateLimiterConfig.perActionLimit))return a(),!1}return!0}}}(),lg=["'",'"'],gh={validateCreditCard:Og};return{Scope:{Request:"request",Page:"page",Visit:"visit"},ExperienceJS:{DelayImpression:"DelayImpression"},executePageConfiguration:Ae,executePageConfigurationWithoutPageLoadAction:Hf,removePageActionListeners:We,removeAllListeners:dg,
removeCustomEventListeners:function(){Tb=[];Ub=[];zc=[];Ec=[]},getCustomEventListeners:function(){return{actionListeners:Tb,experienceListeners:Ub,campaignResponseListeners:zc,displayMessageRetryListeners:Ec}},cancelAllPendingMessages:lc,getVersion:function(){return 12},registerSiteConfigExecution:function(){ajq(document).ready(ye)},displayMessageBundle:function(a,b,c){a=ajq.extend({},a,{rulesByType:Sa(a.rules||[])});Ha(a,b,c)},displaySiteConfigMessages:function(){},displayMessagesFromTwoWayResponse:Xb,
sendStoredRequests:ag,logRequest:fg,hideAllMessages:mc,hideMessage:Hd,hideBundle:Ta,destroyMessage:function(a,b){var c=Ra(a);if(0===c.length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Message ["+a+"] does not exist."),b&&b(!1);else{ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Destroying message ["+a+"]...");var d=xb[a];d&&b&&(d.destroyCallback=function(){b(!0)});c.qtip("hide");c.qtip("destroy");!d&&b&&b(!0)}},setDebug:function(a){!0===a&&this.setLoggingLevel("TRACE")},setOption:function(a,
b){var c={};c[a]=b;Hg(c)},setOptions:Hg,setAffinityId:function(a){if(T(a)&&/^[0-9a-zA-Z]{1,3}$/.exec(a)){var b=Ma();b.affinityId=a;Nb(b)}else ajq.log.shouldLog("WARN")&&console.log("Evergage: affinityId must be a 1-3 character base-62 string.")},setAnonymousId:function(a){ug(a)},getAnonymousId:function(){return Ma().uuid},getVisitorId:function(){return Ma().uuid},getVisitorInfo:function(){return Ma()},setTrackerUrl:function(a){Da=a},getTrackerUrl:function(){return Da},setCdnHost:function(a){rc=a},
getCdnHost:function(){return rc},setTwoWayEnabled:function(a){},getTwoWayEnabled:function(){return Ud},getConfigReceiverPath:function(){return"/jsreceiver"},setAccount:function(a){ha!==a&&(ha=a,R())},setApptegicAccount:function(a){ha!==a&&(ha=a,R())},setEvergageAccount:function(a){ha!==a&&(ha=a,R())},getAccount:function(){return ha},getApptegicAccount:function(){return ha},getEvergageAccount:function(){return ha},setUser:function(a){Fb("userId",a)},getUser:function(){return V.userId},setUserId:function(a){Fb("userId",
a)},getUserId:function(){return V.userId},setAccountId:function(a){Fb("company",a)},getAccountId:function(){return V.company},setLoggingLevel:function(a){null===Ya()?ajq.log.setLoggingLevel(a):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Logging level already set from URL or cookie - ignoring call to setLoggingLevel().")},processLoggingLevelSettings:function(){Ya();ajq.log.flushStoredMessages();ajq.log.shouldLog("TRACE")&&console.log("Evergage: Processing logging level settings...")},setPerformanceTestLevel:function(a){null==
Kc()?ajq.log.setPerformanceTestLevel(a):ajq.log.shouldLog("DEBUG")&&console.log("Evergage performance test level already set from URL or local storage, ignoring custom call to setPerformanceTestLevel().")},processPerformanceTestLevelSettings:function(){Kc();ajq.log.shouldLog("TRACE")&&console.log("Evergage: Processing performance logging level settings...")},setEncryptedUser:function(a){Qa("_e",a,Evergage.Scope.Page)},setEncryptedFields:function(a){Qa("_ef",a,Evergage.Scope.Request)},setCompany:function(a){Qa("company",
a,Evergage.Scope.Visit)},setAccountType:function(a){Qa("accountType",a,Evergage.Scope.Page)},setDataset:function(a){Ca!==a&&(Ca=a,R())},getDataset:function(){return Ca},setTrackAnonymous:function(a){z.trackAnonymous=a},getTrackAnonymous:function(){return z.trackAnonymous},setUseSiteConfig:function(a){z.useSiteConfig=a;b()},getUseSiteConfig:function(){return z.useSiteConfig},setTrackUnknownPages:function(a){z.trackUnknownPages=a},getTrackUnknownPages:function(){return z.trackUnknownPages},setTrackMessageStats:function(a){z.trackMessageStats=
a},getTrackMessageStats:function(){return z.trackMessageStats},setWaitOnPageLeave:function(a){"boolean"===typeof a&&(Xe=a)},getWaitOnPageLeave:function(){return Xe},setNotifyIntegratorOfEvents:function(a){z.notifyIntegratorOfEvents=a},getNotifyIntegratorOfEvents:function(){return z.notifyIntegratorOfEvents},sendEvent:function(a,b){return Ia(a,{},b)},getCurrentUrl:ua,shouldTreatHashChangeAsPageLoad:function(){return z.treatHashChangeAsPageLoad},setCustomData:function(a,b){p(a)?z.customFields=a:(z.customFields||
(z.customFields=[]),z.customFields[a]=b)},getCustomData:function(){return z.customFields},setCustomVariable:function(a,b,c){this.setCustomField(a,b,c)},setCustomField:Qa,setCustomFields:function(a,b){if(null==a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: the first parameter of setCustomFields is null, but should be an object."),!1;if("object"!==typeof a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: setCustomFields requires the first parameter to be of type object, but instead was ["+
typeof a+"]."),!1;G(b)||(b=Evergage.Scope.Request);D(a,function(a,c){a=ajq.trim(a);""!==a&&0!==a.indexOf("_")&&0!==a.indexOf(".")&&Qa(a,c,b)});return!0},setUserField:function(a,b,c){Qa(a,b,c,"user")},setAccountField:function(a,b,c){Qa(a,b,c,"account")},saveCustomVariables:Hb,resetCustomFields:Ad,resetCustomVariables:Ad,getCustomField:je,getCustomVariable:je,deleteCustomField:Ye,deleteCustomVariable:Ye,setLinkTrackingTimer:function(a){a&&500<=a&&(z.trackerDelay=a)},setDownloadExtensions:function(a){z.downloadExtensions=
a},addDownloadExtensions:function(a){z.downloadExtensions||(z.downloadExtensions="");z.downloadExtensions+="|"+a},setRunningInMobileApp:function(a){try{"boolean"===typeof a&&(z.runningInMobileApp=a)}catch(b){P(b,"setRunningInMobileApp")}},getRunningInMobileApp:function(){return z.runningInMobileApp},setTrafficSourceIndex:function(a){try{var b=null,b=T(a)?parseInt(a):a;qa(b)&&(z.trafficSourceIndex=b)}catch(c){P(c,"setTrafficSourceIndex")}},getTrafficSourceIndex:function(){return z.trafficSourceIndex},
setTestModeEnabledForPageLoad:function(a){try{if("boolean"===typeof a||"string"===typeof a)z.testModeEnabledForPageLoad=a}catch(b){P(b,"setTestModeEnabledForPageLoad")}},setDisableCampaignStatTracking:function(a){try{"boolean"===typeof a&&(z.disableCampaignStatTracking=a)}catch(b){P(b,"setDisableCampaignStatTracking")}},setDomains:function(a){z.hostsAlias=T(a)?[a]:a;z.hostsAlias.push(dd)},setIgnoreClasses:function(a){z.ignoreClasses=T(a)?[a]:a},setRequestMethod:function(a){},setReferrerUrl:function(a){z.referrerUrl=
a},setCustomUrl:function(a){var b=xh;if(!C(a).protocol)if("/"===a.slice(0,1))b=C(b),a=b.protocol+"://"+b.host+(b.port?":"+b.port:"")+a;else{var b=fb(b),c;0<=(c=b.indexOf("?"))&&(b=b.slice(0,c));(c=b.lastIndexOf("/"))!==b.length-1&&(b=b.slice(0,c+1));a=b+a}z.pageUrl=a},setDocumentTitle:function(a){z.pageTitle=a},setClientIp:function(a){var b;a:{if("string"===typeof a&&(b=a.split("."),4==b.length)){for(var c=0;4>c;c++){var d=parseInt(b[c]);if(0>d||255<d){b=!1;break a}}if(4==c){b=!0;break a}}b=!1}return b?
(z.clientIp=a,!0):!1},setDownloadClasses:function(a){z.downloadClasses=T(a)?[a]:a},setLinkClasses:function(a){z.linkClasses=T(a)?[a]:a},setMessageLinkDecorator:function(a){ma(a)?z.messageLinkDecorator=a:ajq.log.shouldLog("WARN")&&console.log("Evergage: messageLinkDecorator must be a function.")},discardHashTag:function(a){z.discardHashTag=a},setTreatHashChangeAsPageLoad:function(a){z.treatHashChangeAsPageLoad=a},setCookieDomain:function(a){a=ba(a);z.cookieDomain!==a&&(z.cookieDomain=a,R())},setCookiePath:function(a){z.cookiePath!==
a&&(z.cookiePath=a,R())},getCookieName:function(a){"string"!==typeof a&&(a="a");return Ba(a)},setVisitorCookieTimeout:function(a){W.anonymousId.timeoutMillis=1E3*a},setSessionCookieTimeout:function(a){W.session.timeoutMillis=1E3*a},setDoNotTrack:function(a){z.doNotTrack=a&&navigator.doNotTrack},addListener:function(a,b){b?(fa(a,"mouseup",Uc,!1),fa(a,"mousedown",Uc,!1)):fa(a,"click",Uc,!1)},enableLinkTracking:function(){P(Error("enableLinkTrackingCalled"),"enableLinkTrackingCalled");ajq.log.shouldLog("WARN")&&
console.log("Evergage: EnableLinkTracking is deprecated and no longer functions.  This API will be removed in a future relase.")},trackLink:function(a,b,c){Rc(a,b,c)},trackAction:function(a,b,c,d){a=a||z.pageTitle;Ia(a,b,c,d)},trackEvergageMessageForm:function(a,b,c){a.stopImmediatePropagation();a.preventDefault();var d=ajq(a.target).closest("form");if(0===d.length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Cannot find form to track.");else{var e=d.attr("name");if(null===e||""===e)ajq.log.shouldLog("WARN")&&
console.log("Evergage: Form name must not be empty for trackEvergageMessageForm.");else{var f=d.serializeArray(),f=f.concat(ph(d));"input"==ajq(a.target).get(0).tagName.toLowerCase()&&"submit"==ajq(a.target).attr("type").toLowerCase()&&""!==ajq(a.target).attr("name")&&""!==ajq(a.target).attr("value")&&f.push({name:ajq(a.target).attr("name"),value:ajq(a.target).attr("value")});for(a=0;a<f.length;a++)"userId"==f[a].name||"company"==f[a].name?(Fb(f[a].name,f[a].value),jb()):Qa(f[a].name,f[a].value,Evergage.Scope.Request);
b||Hd(d,c);if(c)Ia(e,{},!0,!1);else{var h=pf(5);me[h]=setTimeout(function(){Ia(e,{},!0,!1);delete me[h]},100)}}}},setShowPoweredBy:function(a){!0===a&&(ff=!0)},retrieveMessages:function(a,b){if(!0!==L.editModeVisualEditor){var c=[];S(c,"_ne");a||!0!==z.trackUnknownPages||(a=Gb(yb()));a&&S(c,"action",a);Za(c,b);S(c,"url",Xa(ua()));S(c,"title",Gb(yb()));yd();c=pb(c);Lb(c)}},trackMessageStat:function(){},addExperienceListener:function(a){"function"===typeof a?Ub.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Campaign Experience listener must be of type function.")},
addActionListener:function(a){"function"===typeof a?Tb.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Action listener must be of type function.")},addDisplayMessageRetryListener:function(a){"function"===typeof a?Ec.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Display Message Retry Listener must be of type function.")},addCampaignResponseListener:function(a){"function"===typeof a?zc.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Campaign Response Listener must be of type function.")},
init:g,isValidToInit:function(){return ic()&&null==Zd?!1:!0},initEvergageTrackerUrl:da,testing:function(){return"undefined"!==typeof window.EvergageUnitTestingMode&&!0===window.EvergageUnitTestingMode?(Rb=!0,{extendSessionTimeoutAndReloadVisitData:ca,getLocalStorageKey:sa,getLocalUserInfo:function(){return tc},options:z,persistUserInfo:He,storageInfo:W,writeLocalStorage:la,combineDuplicateForms:qg,parseLaxJson:Ab,formatMoney:$c,renderItemHtml:Yc,renderItemBlock:Xc,parseItemBlockSettings:Jd,getOldCookieName:Pa,
handleTwoWayResponse:Ib,getJsonCookie:Y,beforeUnloadHandler:na,handleHashChange:kc,sendPageLoadTiming:Be,setupLoadTimeInterval:If,setTwReceiverTiming:function(a){ed=a},validateCreditCard:Og}):{}},findOrCreateInsertionTarget:Yf,removeBeaconAndListenersFromPage:k,haltAllLoadingAndTracking:function(){ib=!0},handleUpdatedSiteConfig:Ef,namePage:function(a){if(!ia(a)&&"string"===typeof a){var b={};!ajq.isEmptyObject(L)&&ke(b,!1)?(a=Df(L)||a,ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Send Event"),
b[".pv"]="",rb=a,vg(b),Ia(a,b),U.hasBeenFired=!0,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Send Event")):U.actionName=a}},sha1:m,removeCookie:Z,setCurrentPageLocale:function(a){$d=a},viewItem:function(a,b,c){nd();Ea=a;qc=c;H();ab="View Item";U.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),"object"===typeof c&&(b[".itemSku"]=evergageJSON.stringify(c)),_aaq.push(["trackAction","View Item",b,b.clickEvent]))},stopViewingItem:function(){ab=Ea=null;nd()},viewItemDetail:function(a,
b,c){Ea=a;qc=c;nd();H();ab="View Item Detail";U.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),"object"===typeof c&&(b[".itemSku"]=evergageJSON.stringify(c)),_aaq.push(["trackAction","View Item Detail",b,b.clickEvent]))},viewCategory:function(a,b){Ea=a;ab="View Category";U.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),_aaq.push(["trackAction","View Category",b,b.clickEvent]))},viewTag:function(a,b){Ea=a;ab="View Tag";U.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),
_aaq.push(["trackAction","View Tag",b,b.clickEvent]))},addToCart:function(a,b,c){c=c||{};c[".lineItem"]=evergageJSON.stringify(Ig(a));c[".order"]=evergageJSON.stringify(b);_aaq.push(["trackAction","Add To Cart",c,c.clickEvent])},viewCart:function(a,b){b=b||{};b[".order"]=evergageJSON.stringify(a);_aaq.push(["trackAction","View Cart",b,b.clickEvent])},purchase:function(a,b){b=b||{};a.lineitems&&(a.lineItems=a.lineitems,delete a.lineitems);b[".order"]=evergageJSON.stringify(wh(a));_aaq.push(["trackAction",
"Purchase",b,b.clickEvent])},review:function(a,b,c){c=c||{};c[".item"]=evergageJSON.stringify(pd(a));c[".review"]=evergageJSON.stringify(b);_aaq.push(["trackAction","Review",c,c.clickEvent])},share:function(a,b){b=b||{};b[".item"]=evergageJSON.stringify(pd(a));_aaq.push(["trackAction","Share",b,b.clickEvent])},comment:function(a,b){b=b||{};b[".item"]=evergageJSON.stringify(pd(a));_aaq.push(["trackAction","Comment",b,b.clickEvent])},favorite:function(a,b){b=b||{};b[".item"]=evergageJSON.stringify(pd(a));
_aaq.push(["trackAction","Favorite",b,b.clickEvent])},ItemType:Vd,detectFormField:Ag,detectFormFields:of,sendFormEvent:function(a,b,c){var d=null;G(c)||(c=500);for(var e=0;e<ld.length;e++)aa(ld[e].match).get(0)===a&&(d=ld[e]);if(null==d)return!1;of(d);d.name&&(!1===b?Ia(d.name):Bg(d.name,{},c))},sendActionEventOnNextPage:Bg,hideSections:function(){if(z.runningInMobileApp)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Flicker defense is disabled when beacon  is running within phonegap.");else if(!0!==
Ld){var a="";if(0!==arguments.length){for(var b=0;b<arguments.length;b++)if("string"===typeof arguments[b])try{"body"!==arguments[b]&&"html"!==arguments[b]&&(document.querySelector(arguments[b]),""!==a&&(a+=", "),a+=arguments[b])}catch(c){dc(c,"hideSectionsInvalidCSSSelector")}if(""!==a){var a=a+" { visibility: hidden !important; }",b=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css";d.setAttribute("class","evergagePersonalizationSections");
d.styleSheet?d.styleSheet.cssText=a:d.appendChild(document.createTextNode(a));a=2500;qa(arguments[arguments.length-1])&&(a=arguments[arguments.length-1]);clearTimeout(ya);ya=setTimeout(function(){ee=!0;cd()},a);b.appendChild(d);Ld=!0}}}},hidePages:function(){if(z.runningInMobileApp)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Flicker defense is disabled when beacon  is running within phonegap.");else if(!0!==df&&0!==arguments.length)for(var a=arguments[arguments.length-1],b=0;b<arguments.length;b++){var c=
!1,d=arguments[b];if("object"===typeof d){var e=d.campaignId,f=d.experienceId,d=vh(d.pageUrlCampaignRule);d.inclusions.exists&&d.pathIsExactly.exists&&(c=d.inclusions.matched&&d.pathIsExactly.matched);!d.inclusions.exists&&d.pathIsExactly.exists?c=d.pathIsExactly.matched:d.inclusions.exists&&!d.pathIsExactly.exists&&(c=d.inclusions.matched);d.exclusions.matched&&(c=!1);if(c){sh(a);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding page for anticipated redirect. campaignId ["+e+"] experienceId ["+
f+"]");break}}}},findAndMovePageTopOrBottomElements:function(a,b){var c=[],d=[],e=[],f=ajq("*").not("#aptToolbar-container").not("#apptegicMessageContainerForToolbarEnabledPages").not("#evergageMessageContainerForTestMode").not(".context-menu-list.aptb.context-menu-root").not("#context-menu-layer").not(".apptegic-field-tooltip").not(".apptegic-click-tooltip").not("#evergage-tooltip-amb_TEST_").not("[id^\x3devergage-tooltip-amb]").not(".evergage-tribes *"),h=!1;if(!0===ajq.browser.chrome){var l=parseInt(ajq.browser.version);
l&&qa(l)&&(h=51<=l)}for(l=0;l<f.length;l++){var k=f.get(l),g;if((g="auto"!=ajq(k).css(a)&&-1==ajq(k).css(a).indexOf("%"))&&!(g="fixed"==ajq(k).css("position"))){g=k;var m=a;g="absolute"==ajq(g).css("position")&&null!=ajq(g).parent().get(0).tagName&&"body"==ajq(g).parent().get(0).tagName.toLowerCase()&&"0px"==ajq(g).css(m)}if(g){if("bottom"===a&&(!0===ajq.browser.mozilla||h)&&(g=parseFloat(ajq(k).css(a)),isNaN(g)||g>b+10||0>g))continue;"top"==a&&null==k.originalTopValue&&"none"!=ajq(k).css("display")&&
(k.originalTopValue=ja(ajq(k).css(a)));"bottom"==a&&null==k.originalBottomValue&&"none"!=ajq(k).css("display")&&(k.originalBottomValue=ja(ajq(k).css(a)));"top"==a?c.push(k):d.push(k)}if(g="none"!=ajq(k).css("background-image")&&"inherit"!=ajq(k).css("background-image"))g=k,(g="fixed"==ajq(g).css("background-attachment")&&null!=nb(g)&&E(nb(g),"px"))||(g=k,g="body"==ajq(g).get(0).tagName.toLowerCase()&&null!=nb(g)&&(E(nb(g),"px")||"0%"==nb(g)));g&&(null==k.originalBackgroundPositionYValue&&(k.originalBackgroundPositionYValue=
ja(nb(k))),e.push(k))}for(f=0;f<("top"==a?c.length:d.length);f++)h="top"==a?c[f]:d[f],"none"!=ajq(h).css("display")&&("top"==a&&(null==h.originalTopValue&&(h.originalTopValue=ja(ajq(h).css(a))),h.originalTopValue>b+ja(ajq(h).css(a))?ajq(h).css(a,h.originalTopValue):ajq(h).css(a,b+ja(ajq(h).css(a)))),"bottom"==a&&(null==h.originalBottomValue&&(h.originalBottomValue=ja(ajq(h).css(a))),h.originalBottomValue>b+ja(ajq(h).css(a))?ajq(h).css(a,h.originalBottomValue):ajq(h).css(a,b+ja(ajq(h).css(a)))));for(f=
0;f<e.length;f++)h=e[f],"none"!=ajq(h).css("display")&&"top"==a&&(null==h.originalBackgroundPositionYValue&&(h.originalBackgroundPositionYValue=ja(nb(h))),h.originalBackgroundPositionYValue>b+ja(nb(h))?w(h,h.originalBackgroundPositionYValue.toString()+"px"):w(h,(b+ja(nb(h))).toString()+"px"))},setMessageAsDisplayedForReshowPersonalizationSections:function(a){if(0===sb.length)ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not bothering to attempt to reshow personalized sections as it seems that this processing already happened.");
else{for(var b=0;b<sb.length;b++)if("amb"+sb[b]===a){sb.splice(b,1);break}0===sb.length&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Reshowing personalized sections due to all applicable messages for the first twreceiver response becoming visibile."),clearTimeout(ya),ya=-1,tb=!1,Pb())}},matchesPageCssSelectorRule:se,buildRulesByType:Sa,detectPageName:Df,trackClickthrough:function(a,b,c){try{if("string"===typeof a){var d=xb[a];"object"===typeof d?xa(d,b,c):ajq.log.shouldLog("WARN")&&console.log("Evergage: Could not find message object given the messageId ["+
a+"].")}else if("object"===typeof a)if(a.id&&a.experienceId)xa(a,b,c);else{var e=ajq(a).closest(".evergage-tooltip.evergage-qtip");if(1===e.length){var f=e.qtip("api");f&&f.options&&f.options.bundle&&xa(f.options.bundle,b,c)}}}catch(h){P(h,"trackClickthrough")}},trackExperienceClickthrough:Tc,bindControlClickthrough:function(a,b){ajq(a).unbind("click.egControl"+b.experienceId);ea(a,function(){Tc(b)},null,"click.egControl"+b.experienceId)},personalizedContentHideTimedOut:function(){ee=!0},personalizedSectionsHaveBeenHidden:function(){Ld=
!0},getDisabledQtipWindowScroll:function(){return z.disableQtipWindowScroll},getUserIdRestApiParams:function(){var a={};a.userId=V.userId;if(!a.userId){var b=V._persistedUserId;b&&(a.persistedUserId=b)}a.userId||a.persistedUserId||!z.trackAnonymous||(a.anonymous=!0,b=Ma(),a.userId=b.uuid,b.affinityId&&(a.affinityId=b.affinityId));return a},safeBlur:function(a,b,c){return ea(a,b,c,"blur")},safeChange:function(a,b,c){return ea(a,b,c,"change")},safeClick:function(a,b,c){return ea(a,b,c,"click")},safeDblclick:function(a,
b,c){return ea(a,b,c,"dblclick")},safeFocus:function(a,b,c){return ea(a,b,c,"focus")},safeFocusin:function(a,b,c){return ea(a,b,c,"focusin")},safeFocusout:function(a,b,c){return ea(a,b,c,"focusout")},safeHover:function(a,b,c){return ea(a,b,c,"hover")},safeKeydown:function(a,b,c){return ea(a,b,c,"keydown")},safeKeypress:function(a,b,c){return ea(a,b,c,"keypress")},safeKeyup:function(a,b,c){return ea(a,b,c,"keyup")},safeLoad:function(a,b,c){return ea(a,b,c,"load")},safeMousedown:function(a,b,c){return ea(a,
b,c,"mousedown")},safeMouseenter:function(a,b,c){return ea(a,b,c,"mouseenter")},safeMouseleave:function(a,b,c){return ea(a,b,c,"mouseleave")},safeMousemove:function(a,b,c){return ea(a,b,c,"mousemove")},safeMouseout:function(a,b,c){return ea(a,b,c,"mouseout")},safeMouseover:function(a,b,c){return ea(a,b,c,"mouseover")},safeReady:function(a,b,c){return ea(a,b,c,"ready")},safeResize:function(a,b,c){return ea(a,b,c,"resize")},safeScroll:function(a,b,c){return ea(a,b,c,"scroll")},safeSelect:function(a,
b,c){return ea(a,b,c,"select")},safeSubmit:function(a,b,c){return ea(a,b,c,"submit")},safeTouchstart:function(a,b,c){return ea(a,b,c,"touchstart")},safeTouchmove:function(a,b,c){return ea(a,b,c,"touchmove")},safeTouchend:function(a,b,c){return ea(a,b,c,"touchend")},safeTouchCancel:function(a,b,c){return ea(a,b,c,"touchcancel")},safeTimeout:function(a,b){return ea(b,a,"timeout")},safeInterval:function(a,b){return ea(b,a,"interval")},buildAccountParameterIfNecessary:Ob,buildUserParams:wd,safeBind:ea,
clearUser:tg,clearCompany:Jg,logException:dc,sendException:P,setCampaignDisplayDisabled:function(a){hg=a},util:{getMetaContent:function(a){a=ajq("meta[name\x3d'"+a+"']:first");return 0<a.length?ajq.trim(ajq("\x3cdiv/\x3e").html(a.attr("content")).text()):null},getOpenGraphContent:function(a){a=ajq("meta[property\x3d'og:"+a+"']:first");return 0<a.length?ajq.trim(a.attr("content")):null},getItemProp:function(a){a=ajq("[itemprop\x3d'"+a+"']:first");if(0<a.length){var b=ajq.trim(a.text());b||(b=ajq.trim(a.attr("content")));
return b}return null},getCurrencyValue:function(a){return a&&"string"===typeof a?(a=parseFloat(ajq.trim(a).replace(/[^0-9.]+/g,"")),isNaN(a)?null:a):null},getParameterByName:function(a,b){"undefined"===typeof b&&(b=location.search);a=a.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(b);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},getPathnameFromLocation:uf,getPathname:Kg,extractFirstGroup:Lg,getLastPathComponent:Mg,qualifyUrl:Ng,
removeQueryString:function(a){if(!a)return"";var b=document.createElement("a");b.href=a;a=uf(b);"/"!==a.charAt(0)&&(a="/"+b.pathname);return[b.protocol,"//","http:"===b.protocol&&"80"===b.port||"https:"===b.protocol&&"443"===b.port?b.hostname:b.host,a].join("")},getThisPageCanonicalUrl:function(){return ajq("link[rel\x3dcanonical]").attr("href")},getLastPathComponentWithoutExtension:function(a){a=Mg(Ng(a));var b=a.lastIndexOf(".");return 0<=b?a.substring(0,b):a},getAllTextBetween:function(a,b){var c=
ajq(a)[0],d=ajq(b)[0];if(null==d)return"";for(var e="";c!=d;){if(null==c)return"";3==c.nodeType?e+=c.nodeValue||"":1==c.nodeType&&(e+=ajq(c).text());c=c.nextSibling}return ajq.trim(e)},getCurrentPageItem:function(){return Ea},setCurrentPageItem:function(a){Ea=a},getCurrentPageLoadAction:function(){return rb},setCurrentPageLoadAction:function(a){Kf(a)},runWhenReady:function(a,b,c,d){function e(){try{!0===a()?b():(f++,f<=d&&Evergage.safeTimeout(e,c))}catch(h){P(h,"runWhenReady")}}null==c&&(c=500);null==
d&&(d=10);var f=0;e()}},haltPageLoadEvent:Lf,sendPageLoadEventWhenTrue:function(a,b){if(!0===U.hasBeenFired)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Page load event has already been fired."),!1;if("function"!==typeof a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Data collection parameter must be of type function but is ["+typeof a+"]."),!1;if("number"!==typeof b||isNaN(parseInt(b)))return ajq.log.shouldLog("WARN")&&console.log("Evergage: Data collection timeout must be of type number but is ["+
typeof b+"]."),!1;Lf();U.maxTimeout=b;U.timerStart=(new Date).getTime();U.timeoutDuration=100;wg(a,!0)},hasPageLoadEventBeenFired:function(){return U.hasBeenFired},parseLaxJson:Ab,renderItemHtml:Yc,getTimeSincePageInitForVariable:function(a){return"object"===typeof window.performance&&"object"===typeof window.performance.timing&&"number"===typeof window.performance.timing.navigationStart&&0<window.performance.timing.navigationStart&&"number"===typeof window.performance.timing[a]&&0<window.performance.timing[a]?
window.performance.timing[a]-window.performance.timing.navigationStart:0},loadTimeValuesReadyToSend:function(){var a=!0;if(vc){var b=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd");if(null==b||0>=b)a=!1}wc&&(b=Evergage.getTimeSincePageInitForVariable("loadEventEnd"),null==b||0>=b)&&(a=!1);return a},renderItemBlockMessageWithExternalPromotedItems:function(a,b,c){try{a.promotedItems=Id(b,c),Wc(a,!1),Ha(a)}catch(d){Evergage.sendException(d,"renderItemBlockMessageWithExternalPromotedItems")}},
formatMoney:$c,determineUserLocale:function(){return navigator.languages&&1<=navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage},setUserLocale:function(a){mg=a}}}();window.Evergage=Evergage;window.Apptegic=Evergage;window.ApptegicTwoWay=Evergage;(function(){function b(){return{push:f}}function f(b,J){if(2<arguments.length||2==arguments.length&&null!=arguments[1]&&"[object Array]"===Object.prototype.toString.call(arguments[1])){for(var v=
!0,H=0;H<arguments.length;H++)v=v&&f(arguments[H]);return v}v=function(b){this.name="Bad Syntax";this.message=b};v.prototype.toString=function(){return"["+(this.name||"unknown")+"] "+(this.message||"no description")};if(!b||"[object Array]"!==Object.prototype.toString.call(b))throw new v("Evergage: [ERROR] - Bad Syntax - item in _aaq array ["+b+"] must be an array.");if(0===b.length)throw new v("Evergage: [ERROR] - Bad Syntax - array in _aaq array must contain at least one item.");var q=[];"priorityInitFunctions"==
J?q="setEvergageAccount setApptegicAccount setAccount setDataset setOption setOptions setCookieDomain setCookiePath setTrackerUrl setCdnHost".split(" "):"loggingFunctions"==J?q=["setLoggingLevel"]:"identityInitFunctions"==J&&(q=["setAnonymousId"]);v=b[0];H=1<b.length?b.slice(1):[];if("string"===typeof v||v instanceof String){if(0<q.length&&-1===ajq.inArray(v,q))return!1;q=Evergage[v]}else q=v;if("function"===typeof q)return null!==J?ajq.log.storeLogMessageUntilLogSettingsAreParsed("INFO","Evergage: Executing API function ["+
v+"("+H+")]..."):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Executing API function ["+v+"("+H+")]..."),q.apply(Evergage,H),!0;null!==J?ajq.log.storeLogMessageUntilLogSettingsAreParsed("ERROR","Evergage: [ERROR] - Unknown API function ["+v+"] in _aaq array."):ajq.log.shouldLog("WARN")&&console.log("Evergage: [ERROR] - Unknown API function ["+v+"] in _aaq array.");return!1}if("undefined"!==typeof ajq){var I;"undefined"!==typeof EvergageUnitTestingMode&&!0===EvergageUnitTestingMode&&Evergage.testing();
for(I=0;I<_aaq.length;I++)f(_aaq[I],"priorityInitFunctions")&&(_aaq.splice(I,1),I--);for(I=0;I<_aaq.length;I++)f(_aaq[I],"loggingFunctions")&&(_aaq.splice(I,1),I--);for(I=0;I<_aaq.length;I++)f(_aaq[I],"identityInitFunctions")&&(_aaq.splice(I,1),I--);if("object"==typeof window._aaqi)for(I=0;I<window._aaqi.length;I++)f(window._aaqi[I],null);Evergage.processLoggingLevelSettings();Evergage.processPerformanceTestLevelSettings();Evergage.initEvergageTrackerUrl();for(I=0;I<_aaq.length;I++)f(_aaq[I],null);
window._aaq=_aaq=new b;window._aaqi=_aaqi=new b;I=Evergage.isValidToInit();"undefined"===typeof EvergageUnitTestingMode||!0!==EvergageUnitTestingMode?I?Evergage.init():(ajq.log.shouldLog("INFO")&&console.log("Evergage: Not enough information was provided to initialize the Evergage beacon.  Aborting Evergage beacon init."),Evergage.removeBeaconAndListenersFromPage()):"function"===typeof window.evergageLoaded&&(I?window.evergageLoaded(!0):(Evergage.removeBeaconAndListenersFromPage(),window.evergageLoaded(!1)))}})();
"undefined"!==typeof Evergage&&Evergage?Evergage.cssLazyLoader=function(b,f){function I(b){var f=document.createElement("link");f.href=b;f.rel="stylesheet";f.type="text/css";f.onload=function(){q[b]=!0;J(b)};f.onreadystatechange=function(){if("loaded"==this.readyState||"complete"==this.readyState)q[b]=!0,J(b)};document.getElementsByTagName("head")[0].appendChild(f)}function g(f){return setTimeout(function(){0!=b.length&&"undefined"!==typeof ajq&&J(f)},750)}function J(g){-1!=ajq.inArray(g,b)&&b.splice(ajq.inArray(g,
b),1);0==b.length&&(!t&&Object.keys&&Object.keys(q).length!=H&&"undefined"!==typeof evergageLog&&evergageLog.shouldLog("WARN")&&console.log("Evergage: CSS files never registered themselves as being loaded. Showing the messages anyway."),f&&f())}for(var v=[],H=b.length,q={},t=!1,n=0;n<b.length;n++){var A=b[n];0<=A.indexOf("\x26timestamp\x3d")&&(t=!0);I(A);v.push(g(A))}return v}:"undefined"!==typeof evergageLog&&evergageLog.shouldLog("WARN")&&console.log("Evergage: Two-way beacon not found, not loading the css lazy loader.");
var evergageTribes=evergageTribes||{};evergageTribes.determineTotalHeightToAnimate=function(){try{var b=window.evergageTribes.initData.customCss.totalHeight;if("string"===typeof b){var f=parseInt(b);if(!isNaN(f)&&0<f)return f+65}}catch(I){}return 400};evergageTribes.determineTotalWidthToAnimate=function(){try{var b=window.evergageTribes.initData.customCss.totalWidth;if("string"===typeof b){var f=parseInt(b);if(!isNaN(f)&&0<f)return f+65}}catch(I){}return 565};evergageTribes.css=function(b){var f;
f='.eg-cleanslate, .eg-cleanslate h1, .eg-cleanslate h2, .eg-cleanslate h3, .eg-cleanslate h4, .eg-cleanslate h5, .eg-cleanslate h6,.eg-cleanslate p, .eg-cleanslate td, .eg-cleanslate dl, .eg-cleanslate tr, .eg-cleanslate dt, .eg-cleanslate ol,.eg-cleanslate form, .eg-cleanslate select, .eg-cleanslate option, .eg-cleanslate pre, .eg-cleanslate div,.eg-cleanslate table,  .eg-cleanslate th, .eg-cleanslate tbody, .eg-cleanslate tfoot, .eg-cleanslate caption,.eg-cleanslate thead, .eg-cleanslate ul, .eg-cleanslate li, .eg-cleanslate address, .eg-cleanslate blockquote,.eg-cleanslate dd, .eg-cleanslate fieldset, .eg-cleanslate li, .eg-cleanslate iframe, .eg-cleanslate strong,.eg-cleanslate legend, .eg-cleanslate em, .eg-cleanslate s, .eg-cleanslate cite, .eg-cleanslate span, .eg-cleanslate input,.eg-cleanslate sup, .eg-cleanslate label, .eg-cleanslate dfn, .eg-cleanslate object, .eg-cleanslate big, .eg-cleanslate q,.eg-cleanslate font, .eg-cleanslate samp, .eg-cleanslate acronym, .eg-cleanslate small, .eg-cleanslate img,.eg-cleanslate strike, .eg-cleanslate code, .eg-cleanslate sub, .eg-cleanslate ins, .eg-cleanslate textarea, .eg-cleanslate var,.eg-cleanslate a, .eg-cleanslate abbr, .eg-cleanslate applet, .eg-cleanslate del, .eg-cleanslate kbd, .eg-cleanslate tt,.eg-cleanslate b, .eg-cleanslate i, .eg-cleanslate hr,.eg-cleanslate article, .eg-cleanslate aside, .eg-cleanslate dialog, .eg-cleanslate figure, .eg-cleanslate footer,.eg-cleanslate header, .eg-cleanslate hgroup, .eg-cleanslate menu, .eg-cleanslate nav, .eg-cleanslate section,.eg-cleanslate time, .eg-cleanslate mark, .eg-cleanslate audio, .eg-cleanslate video {    background-attachment:scroll ;    background-color:transparent ;    background-image:none ;    background-position:0 0 ;    background-repeat:repeat ;    border-color:black ;    border-color:currentColor ;    border-radius:0 ;    border-style:none ;    border-width:medium ;    box-sizing:content-box ;    bottom:auto ;    clear:none ;    clip:auto ;    color:inherit ;    counter-increment:none ;    counter-reset:none ;    cursor:auto ;    direction:inherit ;    display:inline ;    float:none ;    font-family: inherit ;    font-size: inherit ;    font-style:inherit ;    font-variant:normal ;    font-weight:inherit ;    height:auto ;    left:auto ;    letter-spacing:normal ;    line-height:inherit ;    list-style-type: inherit ;    list-style-position: outside ;    list-style-image: none ;    margin:0 ;    max-height:none ;    max-width:none ;    min-height:0 ;    min-width:0 ;    opacity:1;    outline:invert none medium ;    overflow:visible ;    padding:0 ;    position:static ;    quotes: "" "" ;    right:auto ;    table-layout:auto ;    text-align:inherit ;    text-decoration:inherit ;    text-indent:0 ;    text-transform:none ;    top:auto ;    unicode-bidi:normal ;    vertical-align:baseline ;    visibility:inherit ;    white-space:normal ;    width:auto ;    word-spacing:normal ;    z-index:auto ;    -moz-border-radius:0 ;    -webkit-border-radius:0 ;    -moz-box-sizing: content-box ;    -webkit-box-sizing: content-box ;    box-sizing: content-box ;    text-shadow: none ;}';
f+=".eg-cleanslate, .eg-cleanslate h3, .eg-cleanslate h5, .eg-cleanslate p, .eg-cleanslate h1, .eg-cleanslate dl, .eg-cleanslate dt,.eg-cleanslate h6, .eg-cleanslate ol, .eg-cleanslate form, .eg-cleanslate select, .eg-cleanslate option, .eg-cleanslate pre,.eg-cleanslate div, .eg-cleanslate h2, .eg-cleanslate caption, .eg-cleanslate h4, .eg-cleanslate ul, .eg-cleanslate address,.eg-cleanslate blockquote, .eg-cleanslate dd, .eg-cleanslate fieldset, .eg-cleanslate textarea, .eg-cleanslate hr,.eg-cleanslate article, .eg-cleanslate aside, .eg-cleanslate dialog, .eg-cleanslate figure, .eg-cleanslate footer,.eg-cleanslate header, .eg-cleanslate hgroup, .eg-cleanslate menu, .eg-cleanslate nav, .eg-cleanslate section {    display:block ;}.eg-cleanslate table {    display: table ;}.eg-cleanslate thead {    display: table-header-group ;}.eg-cleanslate tbody {    display: table-row-group ;}.eg-cleanslate tfoot {    display: table-footer-group ;}.eg-cleanslate tr {    display: table-row ;}.eg-cleanslate th, .eg-cleanslate td {     display: table-cell ;}";
f+='.eg-cleanslate nav ul, .eg-cleanslate nav ol {    list-style-type:none ;}.eg-cleanslate ul, .eg-cleanslate menu {    list-style-type:disc ;}.eg-cleanslate ol {    list-style-type:decimal ;}.eg-cleanslate ol ul, .eg-cleanslate ul ul, .eg-cleanslate menu ul, .eg-cleanslate ol menu, .eg-cleanslate ul menu, .eg-cleanslate menu menu {    list-style-type:circle ;}.eg-cleanslate ol ol ul, .eg-cleanslate ol ul ul, .eg-cleanslate ol menu ul, .eg-cleanslate ol ol menu, .eg-cleanslate ol ul menu,.eg-cleanslate ol menu menu, .eg-cleanslate ul ol ul, .eg-cleanslate ul ul ul, .eg-cleanslate ul menu ul, .eg-cleanslate ul ol menu,.eg-cleanslate ul ul menu, .eg-cleanslate ul menu menu, .eg-cleanslate menu ol ul, .eg-cleanslate menu ul ul, .eg-cleanslate menu menu ul,.eg-cleanslate menu ol menu, .eg-cleanslate menu ul menu, .eg-cleanslate menu menu menu {    list-style-type:square ;}.eg-cleanslate li {    display:list-item ;        min-height:auto ;    min-width:auto ;}.eg-cleanslate strong {    font-weight:bold ;}.eg-cleanslate em {    font-style:italic ;}.eg-cleanslate kbd, .eg-cleanslate samp, .eg-cleanslate code {    font-family:monospace ;}.eg-cleanslate a, .eg-cleanslate a *, .eg-cleanslate input[type\x3dsubmit], .eg-cleanslate input[type\x3dradio],.eg-cleanslate input[type\x3dcheckbox], .eg-cleanslate select {    cursor:pointer ;}.eg-cleanslate a:hover {    text-decoration:underline ;}.eg-cleanslate button, .eg-cleanslate input[type\x3dsubmit] {    text-align: center ;}.eg-cleanslate input[type\x3dhidden] {    display:none ;}.eg-cleanslate abbr[title], .eg-cleanslate acronym[title], .eg-cleanslate dfn[title] {    cursor:help ;    border-bottom-width:1px ;    border-bottom-style:dotted ;}.eg-cleanslate ins {    background-color:#ff9 ;    color:black ;}.eg-cleanslate del {    text-decoration: line-through ;}.eg-cleanslate blockquote, .eg-cleanslate q  {    quotes:none ;}.eg-cleanslate blockquote:before, .eg-cleanslate blockquote:after, .eg-cleanslate q:before, .eg-cleanslate q:after,.eg-cleanslate li:before, .eg-cleanslate li:after  {    content:"" ;\x3d\x3d}.eg-cleanslate input, .eg-cleanslate select {    vertical-align:middle ;}.eg-cleanslate select, .eg-cleanslate textarea, .eg-cleanslate input {    border:1px solid #ccc ;}.eg-cleanslate table {    border-collapse:collapse ;    border-spacing:0 ;}.eg-cleanslate hr {    display:block ;    height:1px ;    border:0 ;    border-top:1px solid #ccc ;    margin:1em 0 ;}.eg-cleanslate *[dir\x3drtl] {    direction: rtl ;}.eg-cleanslate mark {    background-color:#ff9 ;    color:black ;    font-style:italic ;    font-weight:bold ;}';
f+='.eg-cleanslate {    font-size: medium ;    line-height: 1 ;    direction:ltr ;    text-align:left ;    font-family: "Times New Roman", Times, serif ;    font-style:normal ;    font-weight:normal ;    text-decoration:none ;    list-style-type:disc ;}';f+=".evergage-tribes {    font-family: "+b.fontFamily+";    color: "+b.secondaryTextColor+';    font-size: 13px;    -webkit-font-smoothing: antialiased;}.evergage-tribes input, .evergage-tribes textarea {    background-color: white;    vertical-align: baseline;}.evergage-tribes a:hover {    text-decoration: none;    color: #808080;}.evergage-tribes .left {    float: left;}.evergage-tribes .right {    float: right;}.evergage-tribes .clearfix:after {    content: "";    display: table;    clear: both; }.evergage-tribes .fa {    font-family: FontAwesome;    font-weight: normal;}.evergage-tribes .clickable, .evergage-tribes .clickable * {    cursor: pointer;}.evergage-tribes .button {    padding: 10px 30px;    color: white;    background-color: '+
b.tribeTagBackgroundColor+";    border: 1px solid "+b.tribeTagBackgroundColor+";    text-align: center;    font-size: 12px;    cursor: pointer;    font-weight: bold;}.evergage-tribes .button:hover {    text-decoration: none;    background-color: "+b.tribeTagHoverColor+";    color: white;}.evergage-tribes .view-all {    font-size: 11px;}.evergage-tribes .callout {    line-height: 1.5;    box-shadow: 0px 0px 10px 0px rgba(0, 1, 1, 0.3) ;    position: absolute ;    width: 225px ;    box-sizing: border-box ;    left: -70px ;    top: 12px ;    margin: 18px 0px ;    padding: 10px 20px ;    color: #767676;     background-color: "+
b.backgroundColor+" ;    -moz-border-radius: 6px ;    -webkit-border-radius: 6px ;    border-radius: 6px ;    z-index: 16777271;    cursor: initial ;}.evergage-tribes .callout .notch {    position: absolute ;    top: -10px ;    left: 105px ;    margin: 0 ;    border-top: 0 ;    border-left: 10px solid transparent ;    border-right: 10px solid transparent ;    border-bottom: 10px solid "+b.backgroundColor+" ;    padding: 0 ;    width: 0 ;    height: 0 ;}.evergage-tribes #evergageAdditional {     font-size: 12px ; }";
f+=".evergage-tribes .tribeTag {    margin-left: 4px;    position: relative ;    margin-left: 8px ;    color: white ;    background-color: "+b.tribeTagBackgroundColor+" ;    display: inline-block ;    border-radius: 4px ;    padding: 4px 10px ;    cursor: pointer;}.evergage-tribes .tribeTag:hover {    background-color: "+b.tribeTagHoverColor+" ;}.evergage-tribes .tribeTag .heading {    color: "+b.primaryTextColor+" ;    font-size: 14px ;    font-weight: bold ;    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    display: block ;}.evergage-tribes .tribeTag ~ .tribeTag {    margin-left: 4px ;}.evergage-tribes .tribeTag .stats {    text-align: initial ;    font-size: 12px ;}.evergage-tribes .tribeTag .stats .icon {    width: 27px ;    display: inline-block ;    color: #cccccc ;}.evergage-tribes .tribeTag .alsoLiked {    text-transform: uppercase;    font-size: 10px ;    margin-top: 5px ;    font-weight: bold;}.evergage-tribes .tribeTag .productPictures {    margin-top: 3px ;    margin-bottom: 3px;    text-align: center;}.evergage-tribes .tribeTag .productPictures .product-img {    cursor: pointer ;    display: inline-block;    height: 80px;    width: 55px;    background-size: 55px auto;    background-position: left center;    background-repeat: no-repeat;    box-shadow: 0px 0px 7px 0px rgba(0, 0, 0, 0.3) ;}.evergage-tribes .tribeTag .productPictures .thumb {    display: inline-block ;    position: relative ;}.evergage-tribes .tribeTag .minibar .bar {    position: absolute ;    height: 3px ;    background-color: "+
b.primaryTextColor+" ;}.evergage-tribes .tribeTag .minibar {    position: relative ;    width: 100% ;    height: 3px ;    background-color: "+b.backgroundColor+" ;    display: block ;}.evergage-tribes .tribeTag .productPictures .thumb ~ .thumb {    margin-left: 7px ;}.evergage-tribes .tribeTag .join-tribe,.evergage-tribes .tribeTag .leave-tribe {    text-decoration: none ;}";f+=".evergage-tribes .lowerInfobarContainer {    position: fixed ;    bottom: -45px ;    left: 0px ;    height: 45px ;    width: 100% ;    background: white ;    z-index: 16777271 ;    box-shadow: 0 0 7px rgba(0,0,0,.3) ;    overflow: visible ;    font-size: 13px ;}.evergage-tribes .lowerInfobarContainer .currentTag {    position: relative;    height: 23px ;    border-radius: 5px ;    background-color: "+
b.tribeTagBackgroundColor+" ;    display: inline-block ;    color: white ;    padding: 4px 20px ;    box-sizing: border-box ;    margin-top: 12px ;    margin-left: 5px ;    line-height: 15px ;    font-weight: bold;}.evergage-tribes .lowerInfobarContainer .currentTag:hover {    background-color: "+b.tribeTagHoverColor+";}.evergage-tribes .lowerInfobarContainer .currentTag .leave-tribe,.evergage-tribes .lowerInfobarContainer .currentTag .stop-shopping-as {    position: absolute;    right: 5px;    top: 4px;    display: none;}.evergage-tribes .lowerInfobarContainer .currentTag:hover .leave-tribe,.evergage-tribes .lowerInfobarContainer .currentTag:hover .stop-shopping-as {    display: inline;}.evergage-tribes .lowerInfobarContainer .plusIcon {    display: inline-block ;    width: 25px ;    height: 23px ;    border-radius: 5px ;    background-color: #d9d9d9 ;    padding: 4px 6px ;    box-sizing: border-box ;    margin-top: 12px ;    color: white ;    line-height: 15px ;    text-align: center ;}.evergage-tribes .lowerInfobarContainer \x3e div.gutters {    width: 960px ;    margin: 0 auto ;    position: relative ;}";
f+=".evergage-tribes .lowerInfobarContainer .infobarTagset {    position: relative;    margin-right: 5px ;    float: right ;}.evergage-tribes .lowerInfobarContainer .infobarTagset .inner-tagset {    position: relative;    max-width: 720px;    white-space: nowrap;    overflow: hidden;}.evergage-tribes .lowerInfobarContainer .infobarTagset .inner-tagset.hidden {    display: none;}.evergage-tribes.info-bar .infobarTagset .shopping-as {    position: absolute;    text-align: right;    white-space: nowrap;}";
f+=".evergage-tribes .tribeVisionSummary {    float: left ;}.evergage-tribes .tribeVisionSummary .topSummary {    margin-top: 7px ;    font-size: 12px ;    color: #808080 ;    line-height: 1.5;}.evergage-tribes .tribeVisionSummary .topSummary strong {    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    text-transform: uppercase ;    color: black;}.evergage-tribes .tribeVisionSummary .topSummary a:hover strong {    color: #808080;}.evergage-tribes .tribeVisionSummary .topSummary a {    font-weight: bold ;    color: "+
b.primaryTextColor+";}.evergage-tribes .tribeVisionSummary .topSummary a:hover {    color: #808080;}.evergage-tribes .tribeVisionSummary .open-tribe-vision.opened .fa-caret-up,.evergage-tribes .tribeVisionSummary .open-tribe-history.opened .fa-caret-up {    display: none;}.evergage-tribes .tribeVisionSummary .open-tribe-vision.closed .fa-caret-down,.evergage-tribes .tribeVisionSummary .open-tribe-history.closed .fa-caret-down  {    display: none;}.evergage-tribes .tribeVisionSummary .bottomSummary {    text-transform: uppercase ;    color: #9c9c9c ;    font-size: 10px ;    line-height: 1.5;}";
f+=".evergage-tribes .productLevelBar {    position: relative ;    width: 100% ;    height: 18px ;    margin-top: 0 ;    margin-bottom: 5px ;    background-color: "+b.likeBarBackgroundColor+" ;    cursor: pointer;}";f+=".evergage-tribes .productFillEvergageLogo {    background-image: url(//cdn.evergage.com/evergage-content/tribes/logomark.svg);    background-position: center;    background-repeat: no-repeat;    opacity: 0.4;    display: block ;    position: absolute ;    float: left ;    height: 18px ;    width: 22px ;}";
f+=".evergage-tribes .productLevelFill {    float: left;    height: 18px ;    background-color: "+b.primaryTextColor+" ;    cursor: pointer;}";f+=".evergage-tribes .concurrentViewers {    text-align: center ;}.evergage-tribes .concurrentViewers strong {    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    color: "+b.primaryTextColor+" ;}.evergage-tribes .concurrentViewers .fa {    font-size: 14px ;    display: inline-block ;    margin-left: 6px ;}";f+=".evergage-tribes .tribesOverlayContainer {    pointer-events:none;    position: absolute ;    overflow: hidden ;}.evergage-tribes .tribesOverlay {    position: absolute ;    background-color: rgba(255, 255, 255, 0.8) ;    box-sizing: border-box ;    padding: 13px ;}.evergage-tribes .tribesOverlay .scoreSummary {    font-size: 14px ;    text-transform: uppercase ;    font-weight: bold ;    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    color: "+
b.primaryTextColor+" ;}.evergage-tribes .tribesOverlay .viewingSummary {    font-size: 10px ;    color: #767676 ;    text-transform: uppercase ;}.evergage-tribes .tribesOverlay .tribeName {    font-size: 12px ;    color: #767676 ;    margin-top: 18px ;}.evergage-tribes .tribesOverlay .minibar .bar {    position: absolute ;    height: 5px ;    background-color: "+b.primaryTextColor+" ;}.evergage-tribes .tribesOverlay .minibar {    position: relative ;    width: 100% ;    height: 5px ;    background-color: "+
b.backgroundColor+" ;    display: block ;}";f+=".evergage-tribes.evg-bottom-left .tribe-pane-container, .evergage-tribes.evg-bottom-middle .tribe-pane-container {    width: 960px;    margin: 0 auto;}.evergage-tribes.evg-bottom-left .tribe-pane,.evergage-tribes.evg-bottom-middle .tribe-pane {    margin-bottom: 45px;    z-index: 16777269;    width: "+evergageTribes.determineTotalWidthToAnimate()+"px;    background-color: white;    -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    overflow: hidden;    height: "+
evergageTribes.determineTotalHeightToAnimate()+"px;    position: fixed;    bottom: -"+evergageTribes.determineTotalHeightToAnimate()+"px;}.evergage-tribes.evg-top-right .tribe-pane {    position: fixed;    margin-bottom: 45px;    top: 100px;    right: -"+evergageTribes.determineTotalWidthToAnimate()+"px;    z-index: 16777269;    width: "+evergageTribes.determineTotalWidthToAnimate()+"px;    background-color: white;    -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    overflow: hidden;    height: 395px;    overflow: visible;}.evergage-tribes.evg-top-left .tribe-pane {    position: fixed;    margin-bottom: 45px;    top: 100px;    left: -"+
evergageTribes.determineTotalWidthToAnimate()+"px;    z-index: 16777269;    width: "+evergageTribes.determineTotalWidthToAnimate()+"px;    background-color: white;    -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    overflow: hidden;    height: 395px;    overflow: visible;}.evergage-tribes .tribe-pane h3 {    text-transform: uppercase;    font-weight: bold;}.evergage-tribes .tribe-pane .row {    padding: 10px 10px 0 10px;}.evergage-tribes .tribe-pane .row:last-child {    padding-bottom: 10px;}.evergage-tribes .tribe-pane .header {    background-color: "+
b.titleBarColor+";    color: #ffffff;    padding: 0 14px;    font-size: 15px;    font-weight: bold;    height: 34px;    line-height: 34px;    box-sizing: border-box;}.evergage-tribes .tribe-pane .tribe-pane-wrapper {    height: 100%;    position: absolute;    left: 0px;    width: 2240px;}";f+=".evergage-tribes.tribe-vision-pane .tribe-pane .header a:hover {    color: #b5b5b5;}.evergage-tribes.tribe-vision-pane .tribe-pane .header .fa-caret-left {    color: "+b.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .inner-pane {    float: left;    width: "+
evergageTribes.determineTotalWidthToAnimate()+"px;    box-sizing: border-box;    height: 100%;    padding-bottom: 34px;    position: relative;    overflow: visible;}.evergage-tribes .tribe-pane .row {    padding: 18px 10px 0 10px;}.evergage-tribes.tribe-vision-pane .detail-pane .row.were-buying {    padding-top: 10px;}.evergage-tribes.tribe-vision-pane .detail-pane .description {    width: 60%;    line-height: 1.4;    padding: 0 5px 0 5px;    -webkit-box-sizing: border-box;    -moz-box-sizing: border-box;    box-sizing: border-box;}";
f+=".evergage-tribes.tribe-vision-pane .detail-pane .buttons {    width: 40%;    padding: 0 20px;    -webkit-box-sizing: border-box;    -moz-box-sizing: border-box;    box-sizing: border-box;}.evergage-tribes.tribe-vision-pane .detail-pane .null-description {    width: 100%;    margin-bottom: 14px;    margin-top: 8px;}.evergage-tribes.tribe-vision-pane .detail-pane .buttons .button {    padding: 10px 0;    display: block;    width: 100%;}.evergage-tribes.tribe-vision-pane .detail-pane .null-description.buttons .button {    width: 46%;    float: left;}.evergage-tribes.tribe-vision-pane .detail-pane .buttons .button:first-child {    margin-bottom: 4px;}.evergage-tribes.tribe-vision-pane .detail-pane .null-description.buttons .button:first-child {    margin-right: 33px;}.evergage-tribes.tribe-vision-pane .detail-pane .buttons .button .fa {    color: white;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel {    margin-top: 8px;}.evergage-tribes.tribe-vision-pane .detail-pane .carousel-wrapper {    display: inline-block;    float:left;    width: 502px;    margin-left: 7px;}.evergage-tribes.tribe-vision-pane .detail-pane .carousel-contents {    white-space: nowrap;    overflow: hidden;    position: relative;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .carousel-arrow {    display: inline-block;    font-size: 30px;    line-height: 175px;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .carousel-arrow .fa {    color: #808080;    cursor: pointer;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .carousel-arrow .fa:hover {    color:"+
b.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .buying-product {    padding: 0 4px;    width: 160px;    display: inline-block;    vertical-align: top;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .buying-product .product-img {    display: inline-block;    height: 160px;    width: 160px;    background-size: auto 160px;    background-position: top center;    background-repeat: no-repeat;}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container {    position: absolute;    bottom: 34px;    left: 10px;    overflow-y: visible;}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container .social-icon {    float: left;    margin-left: 5px;    background-color: #C1C1C1;    padding: 4px 8px;}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container .social-icon:hover {    background-color:"+
b.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container .social-icon .fa {    color: #ffffff;    font-size: 18px;    color: #ffffff;}";f+=".evergage-tribes.tribe-vision-pane .my-vision {    margin-top: 14px;    width: 50%;    height: 100%;}.evergage-tribes.tribe-vision-pane .search-create {    width: 50%;    height: 100%;    background-color: #f4f2f0;}.evergage-tribes.tribe-vision-pane .tabbed-header {    background-color: #dcdcdc;    margin-bottom: 14px;    height: 34px;    line-height: 34px;    width: 100%;    box-sizing: border-box;    font-size: 15px;    font-weight: bold;}.evergage-tribes.tribe-vision-pane .tab {    height: 100%;    color: "+
b.primaryTextColor+";    width: 100px;    float: left;    text-align: center;    position relative;    text-transform: uppercase;    position: relative;}.evergage-tribes.tribe-vision-pane .pane-content {    padding: 0 12px;}.evergage-tribes.tribe-vision-pane .tab.active,.evergage-tribes.tribe-vision-pane .tab:hover {    background-color: #f4f2f0;}.evergage-tribes.tribe-vision-pane .tab .top-border {    display: none;    position: absolute;    height: 3px;    width: 100px;    background-color: "+b.primaryTextColor+
";    top: 0;}.evergage-tribes.tribe-vision-pane .tab.active .top-border,.evergage-tribes.tribe-vision-pane .tab:hover .top-border {    display: block;}";f+=".evergage-tribes.tribe-vision-pane table.my-list {    table-layout: fixed;    width: 100%;    margin-bottom: 12px;}.evergage-tribes.tribe-vision-pane .my-list {    line-height: 1.7;}.evergage-tribes.tribe-vision-pane .my-list th {    font-weight: bold;}.evergage-tribes.tribe-vision-pane .my-list td {    text-overflow: ellipsis;    overflow: hidden;}.evergage-tribes.tribe-vision-pane .my-list tr.clickable:hover {    color: #454545;}.evergage-tribes.tribe-vision-pane .vision-pane .my-list th:last-child {    width: 65px;}";
f+=".evergage-tribes.tribe-vision-pane .section-header {    color: "+b.titleBarColor+";    font-weight: bold;    line-height: 1.7;}.evergage-tribes.tribe-vision-pane  .colored {    color: "+b.titleBarColor+";}.evergage-tribes.tribe-vision-pane i {    color: "+b.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .align-right {    text-align: right;}";f+=".evergage-tribes.tribe-vision-pane .tribe-search .section-header,.evergage-tribes.tribe-vision-pane .tribe-create .section-header {    margin-bottom: 2px;}.evergage-tribes.tribe-vision-pane .tribe-search .search-box {    padding: 4px 4px 5px 4px;    width: 189px;}.evergage-tribes.tribe-vision-pane .tribe-search .button {    padding: 7px 4px 6px 4px;    position: relative;    left:-8px;    font-size: 10px;}.evergage-tribes.tribe-vision-pane .tribe-search .view-all {    line-height: 1.7;}.evergage-tribes.tribe-vision-pane .tribe-search .two-col-item.clickable:hover {    color: #454545;}.evergage-tribes.tribe-vision-pane .tribe-create {    display: none;}.evergage-tribes.tribe-vision-pane .tribe-create .error {   color: #AA2124;    position: relative;    top: 15px;    float: left;    width: 200px; }.evergage-tribes.tribe-vision-pane .pane-section {    margin-bottom: 14px;}.evergage-tribes.tribe-vision-pane .two-col-item {    width: 50%;    line-height: 1.7;    padding-right: 4px;    text-overflow: ellipsis;    overflow: hidden;    box-sizing: border-box;}.evergage-tribes.tribe-vision-pane .tribe-create .label {    width: 7%;    box-sizing: border-box;    padding: 5px 0 0 4px;    font-weight: bold;}.evergage-tribes.tribe-vision-pane .tribe-create .name {    width: 93%;    padding: 4px 4px 5px 4px;    margin-bottom: 8px;    box-sizing: border-box;}.evergage-tribes.tribe-vision-pane .tribe-create .description {    width: 100%;    padding: 4px 4px 5px 4px;    box-sizing: border-box;    resize: none;}.evergage-tribes.tribe-vision-pane .tribe-create .button.save {    padding: 8px 4px;    margin-top: 15px;    display: block;    width: 45px;}";
f+=".evergage-tribes.tribe-vision-pane .view-all-pane,.evergage-tribes.tribe-vision-pane .search-pane {    padding: 16px 26px 34px 26px;    overflow-y: scroll;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list {    font-size: 15px;    line-height: 1.8;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list th {    color: black;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list th:last-child, .evergage-tribes.tribe-vision-pane .view-all-pane .my-list td:last-child  {    text-align: center;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list th:first-child {    width: 50%;}.evergage-tribes.tribe-vision-pane .view-all-pane tr i {    font-size: 20px;    line-height: 1;    color: #dbdbdb}.evergage-tribes.tribe-vision-pane .view-all-pane tr:hover i {    visibility: visible;    color: #6b6b6b;}.evergage-tribes.tribe-vision-pane .view-all-pane tr:hover i:hover {    color: "+
b.primaryTextColor+";}";f+=".evergage-tribes.info-ticker {    font-weight: bold;    font-size: 11px;    color: "+b.infoTickerColor+";}.evergage-tribes.info-ticker-item {   display: none;}.evergage-tribes.info-ticker-item-show {   display: inherit;}";f+=".evergage-tribes.tribe-reviews .tribe-reviews-window {    display: block;    overflow: hidden;    white-space: nowrap;    margin: 0 4px;}.evergage-tribes.tribe-reviews .tribe-reviews-wrapper {    display: inline-block;    white-space: nowrap;}.evergage-tribes.tribe-reviews .tribe-review {    color: black;    display: inline-block;    width: 100%;    vertical-align: top;}.evergage-tribes.tribe-reviews .review-title-bar {    margin-bottom: 4px;}.evergage-tribes.tribe-reviews .review-title {    text-transform: uppercase;    font-size: 12px;    font-weight: bold;}.evergage-tribes.tribe-reviews .tribe-review-content {    margin: 12px 0px 4px 0px;    font-size: 12px;}.evergage-tribes.tribe-reviews .tribe-review-ratings {    margin: 12px 0px 2px 0px;}.evergage-tribes.tribe-reviews .rating-stars {    margin: 0px 14px 0px 4px;}.evergage-tribes.tribe-reviews .rating-name {    font-size: 12px;    text-transform: uppercase;    color: #4D4D4D;}.evergage-tribes.tribe-reviews .tribe-review-ratings .fa-star {    color: #D6D6D6;}.evergage-tribes.tribe-reviews .tribe-review-ratings .fa-star.filled {    color: "+
b.primaryTextColor+";}.evergage-tribes.tribe-reviews .tribe-review-meta {    margin: 4px 0px 6px 0px;    font-size: 11px;    color: #4D4D4D;}";f+=".evergage-tribes.tribe-history-pane .inner-pane.history-pane {   height: 100%;   box-sizing: border-box;   padding-bottom: 34px;   position: relative;}.evergage-tribes.tribe-history-pane .history-filters {   position:relative;    width: 200px;    height: 100%;    background-color: #f4f2f0;}.evergage-tribes.tribe-history-pane .history-filter-type li {   padding: 10px 20px;    border-left: 4px solid transparent;    font-weight: bold;    text-transform: uppercase;    font-size: 14px;}.evergage-tribes.tribe-history-pane .history-filter-type li.selected {   color: "+
b.primaryTextColor+" ;   padding: 10px 20px;    background-color: #FFFFFF;}.evergage-tribes.tribe-history-pane .history-filter-type li:hover {   color: "+b.primaryTextColor+" ;   padding: 10px 20px;    background-color: #FFFFFF;}.evergage-tribes.tribe-history-pane .history-filters .evg-history-filter-lower-container {   position: absolute;   bottom: 0;   width: 100%;}";f+=".evergage-tribes.tribe-history-pane .history-items {    width: 360px;    height: 100%;    overflow-y: scroll;    overflow-x: hidden;    position: relative;    background-repeat: no-repeat;    background-position: -9px 84px;    background-size: 100%;   box-sizing: border-box;   padding: 10px 14px 10px 10px;}.evergage-tribes.tribe-history-pane .history-items .smart-sort {    color: "+
b.secondaryTextColor+" ;    font-weight: bold;     text-transform: uppercase;     position: absolute;     right: 14px; }.evergage-tribes.tribe-history-pane .history-items .smart-sort span {    display: inline-block;     font-weight: bold;     color: gray;     background-color: #f4f2f0;    padding: 4px;    text-transform: uppercase; }.evergage-tribes.tribe-history-pane .history-items .smart-sort :first-child {   border-top-left-radius: 5px;   border-bottom-left-radius: 5px;   margin-left: 10px; }.evergage-tribes.tribe-history-pane .history-items .smart-sort :last-child {   border-top-right-radius: 5px;   border-bottom-right-radius: 5px;}.evergage-tribes.tribe-history-pane .history-items .smart-sort span.selected {    color: white;     background-color: "+
b.primaryTextColor+" ;}.evergage-tribes.tribe-history-pane .history-items h3 {    font-weight: bold;     text-transform: uppercase;     font-size: 18px; }.evergage-tribes.tribe-history-pane .history-list-item {   position: relative;    margin: 20px 0px 26px; 0px}.evergage-tribes.tribe-history-pane .history-list-item .detail {   padding-left: 110px;    font-weight: bold;     line-height: 1.3em; }.evergage-tribes.tribe-history-pane .history-pane .evg-purchase-info {   position: absolute;   bottom: 0;   height: 50px;}.evergage-tribes.tribe-history-pane .history-list-item .detail .price-container {   margin-bottom: 6px;}.evergage-tribes.tribe-history-pane .history-list-item .detail .price-container .price {   color: "+
b.primaryTextColor+";   font-weight: bold;   font-size: 20px;   vertical-align: bottom;}";f+=".evergage-tribes.tribe-history-pane .evg-clear-history-container {   text-align: center;   margin-bottom: 8px;}.evergage-tribes.tribe-history-pane .evg-clear-history-container .clear-history-link {   font-weight: normal;    font-size: 13px;     color: #9b9b9b;    text-decoration: underline;}.evergage-tribes.tribe-history-pane .evg-clear-history-container .clear-history-link:hover {   color: #808080;}.evergage-tribes.tribe-history-pane:not(.evg-smart-history-only) .smart-history-header {   display: none;}.evergage-tribes.tribe-history-pane .header .clear-history-link:hover {    color: "+
b.primaryTextColor+" ;}.evergage-tribes.tribe-history-pane .evg-powered-by {   text-align: center;   height: 40px;   vertical-align: middle;   background-color: #D1D1D1;}.evergage-tribes.tribe-history-pane .evg-powered-by img {   margin-top: 8px;}";f+=".evergage-tribes.tribe-history-pane .history-items .smart-sort span {   cursor: pointer; }.evergage-tribes.tribe-history-pane .history-items .history-items-list {   margin-bottom: 20px;}.evergage-tribes.tribe-history-pane .history-items .history-items-list .more-items-link a {   font-weight: bold;   text-transform: uppercase;   font-size: 14px;   color: "+
b.primaryTextColor+";   font-family: "+b.fontFamily+";   cursor: pointer; }.evergage-tribes.tribe-history-pane .history-items .history-items-list .more-items-link a:hover {   color: "+b.primaryTextColor+";}.evergage-tribes.tribe-history-pane .history-pane .productLevelBar, .evergage-tribes.tribe-history-pane .history-pane .productLevelFill {   cursor: default;}.evergage-tribes.tribe-history-pane .history-items .no-results {   font-size: 14px;    margin-left: 20px;    line-height: 1.3em;    padding-top: 25px; }";
f+=".evergage-tribes.evg-bottom-left .evg-smart-history-tab-container {   overflow: visible;   width: 960px;   height: 0;   margin: 0 auto;}.evergage-tribes.evg-bottom-middle .evg-smart-history-tab-container {   margin: 0 auto;   width: 201px;}.evergage-tribes.evg-top-right .evg-smart-history-tab-container {   height: 100%;   width: 0;   position: fixed;   margin: 0;   right: 0;   top: 0;   z-index: 100000;}.evergage-tribes.evg-top-left .evg-smart-history-tab-container {   height: 100%;   width: 0;   position: fixed;   margin: 0;   left: 0;   top: 0;   z-index: 100000;}";
f+=".evergage-tribes .evg-smart-history-tab {   position: fixed;   bottom: 0;   height: 40px;   line-height: 40px;   width: 180px;   z-index: 16777270;   background: "+b.smartHistoryTab.background+";   font-size: "+b.smartHistoryTab.fontSize+";   color: "+b.smartHistoryTab.color+';   border-top-right-radius: 5px;   border-top-left-radius: 5px;   font-weight: bold;   text-align: center;   cursor: pointer;}.evergage-tribes evg-smart-history-only img[src\x3d"null"]{    opacity:0;    height:100px;}.evergage-tribes.evg-top-right .evg-smart-history-tab {   position: absolute;   right: -70px;   top: 170px;   -ms-transform: rotate(270deg);   -webkit-transform: rotate(270deg);   -o-transform: rotate(270deg);   transform: rotate(270deg);}.evergage-tribes.evg-top-left .evg-smart-history-tab {   position: absolute;   left: -70px;   top: 170px;   -ms-transform: rotate(90deg);   -webkit-transform: rotate(90deg);   -o-transform: rotate(90deg);   transform: rotate(90deg);}.evergage-tribes .evg-smart-history-tab:hover {   background: '+
b.smartHistoryTab.backgroundHover+";}.evergage-tribes .evg-smart-history-tab * {   cursor: pointer;}.evergage-tribes .evg-smart-history-tab .fa {   font-weight: bold;}.evergage-tribes .evg-smart-history-tab.opened .fa-angle-up {   display: none;}.evergage-tribes .evg-smart-history-tab.closed .fa-angle-down {   display: none;}.evergage-tribes .tribe-history-pane.evg-smart-history-only .tribe-pane {   margin-bottom: 0;}";f+=".evergage-tribes.evg-bottom-left .tribe-history-pane.evg-smart-history-only .smart-history-header,.evergage-tribes.evg-bottom-middle .tribe-history-pane.evg-smart-history-only .smart-history-header {   height: 5px;   background-color: "+
b.smartHistoryTab.backgroundColor+";}.evergage-tribes.evg-top-right .tribe-history-pane.evg-smart-history-only .smart-history-header {   width: 5px;   background-color: "+b.smartHistoryTab.backgroundColor+";   height: 395px;   position:absolute;   left: -5px;   top: 0;}.evergage-tribes.evg-top-left .tribe-history-pane.evg-smart-history-only .smart-history-header {   width: 5px;   background-color: "+b.smartHistoryTab.backgroundColor+";   height: 395px;   position:absolute;   right: -5px;   top: 0;}";
return f+=".evergage-tribes .tribe-history-pane.evg-smart-history-only .tribe-pane .header {   display: none;}.evergage-tribes .tribe-history-pane.evg-smart-history-only .inner-pane.history-pane  {   padding-bottom: 0;}.evergage-tribes.tribe-history-pane.evg-smart-history-only .history-filters {   height: 395px;}.evergage-tribes.tribe-history-pane.evg-smart-history-only .history-pane .productLevelBar {   display: none;}.evergage-tribes.tribe-history-pane.evg-smart-history-only .history-items {   height: 395px;}.evergage-tribes.tribe-history-pane .history-filter-type {   list-style-type: none;}.evergage-tribes.tribe-history-pane .inner-pane-header {   font-weight: bold;   margin-bottom: 6px;   display: inline-block;}"};
evergageTribes=evergageTribes||{};evergageTribes.restResources=function(b,f){function I(b){return H.getTrackerUrl()+"/api/dataset/"+H.getDataset()+"/social/"+b}function g(f,g){var n=[];n.push({name:"_r",value:String(Math.random()).slice(2,8)});var v=H.buildAccountParameterIfNecessary(!0);""!==v&&n.push({name:"_ak",value:v.split("\x3d")[1]});if(g){var J=H.buildUserParams();J&&0<Object.keys(J).length&&b.each(Object.keys(J),function(b,f){n.push(J[f])})}f&&0<Object.keys(f).length&&b.each(Object.keys(f),
function(b,g){n.push({name:g,value:f[g]})});return n}function J(b,t,n,A){b=I(b);t=g({tribeId:t},!0);v(b,t,n,A);f.common.userRefreshRequired=!0}function v(b,f,g,v){ajq.ajax({url:b,data:f,dataType:"jsonp",traditional:!0,cache:!0,crossDomain:!0,success:function(b){g(b)},error:function(b,f,g){ajq.log.shouldLog("WARN")&&console.log("Evergage: Error retrieving user summary: "+f);v(f)}})}var H=window.Evergage||{};return{itemSummaries:function(b,f,n){var A=I("itemSummaries");b=g({itemIds:b.join()},!0);v(A,
b,f,n)},userSocialSummary:function(b,f){var n=I("userSummary"),A=g({},!0);v(n,A,b,f)},joinTribe:function(b,f,g){J("joinTribe",b,f,g)},leaveTribe:function(b,f,g){J("leaveTribe",b,f,g)},startExploring:function(b,f,g){J("startExploring",b,f,g)},stopExploring:function(b,f,g){J("stopExploring",b,f,g)},globalSocialSummary:function(b,f){var n=I("globalSummary"),A=g({},!0);v(n,A,b,f)},tribeDetail:function(b,f,g){J("tribeDetail",b,f,g)},clearHistory:function(b,t){var n=I("clearHistory"),A=g({},!0);v(n,A,b,
t);f.common.userRefreshRequired=!0},userHistory:function(b,t,n,A,H,J){var F=I("userHistory"),O=g({},!0);O.push({name:"historyType",value:b});O.push({name:"smartSort",value:t});"string"===typeof J&&""!==J&&O.push({name:"itemType",value:J});"string"===typeof H&&""!==H&&O.push({name:"timeRange",value:H});v(F,O,n,A);f.common.userRefreshRequired=!0}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.common=function(b,f){function I(b,g){void 0===f.cachedData.page.infoBar&&(H=!0);H||
!0===g?f.restResources.userSocialSummary(function(g){f.cachedData.page.infoBar=g;f.common.userRefreshRequired=!1;b(g)},function(){}):b(f.cachedData.page.infoBar)}function g(b){I(function(g){f.infoBar.joinTribe(b);f.mostLikedByList.joinTribe(b);f.tribeVisionPane.joinTribe(b);f.infoBar.renderNewOnlineData(g)})}function J(b){I(function(g){f.infoBar.renderNewOnlineData(g);f.infoBar.leaveTribe(b);f.mostLikedByList.leaveTribe(b);f.tribeVisionPane.leaveTribe(b)})}function v(b,f,g){var q=g?function(f){return g(f[b])}:
function(f){return f[b]};f=[-1,1][+!!f];return function(b,g){var t=q(b),v=q(g);return f*((t>v)-(v>t))}}var H=!1,q=!1;return{joinTribe:function(b,n){H=!0;f.restResources.joinTribe(b,function(f){"function"===typeof n&&n();g(b)},function(){})},leaveTribe:function(b){H=!0;f.restResources.leaveTribe(b,function(f){J(b)},function(){})},startExploring:function(b){f.restResources.startExploring(b,function(g){f.cachedData.page.infoBar.exploreAs=b;f.infoBar.startExploring(b)},function(){})},stopExploring:function(b){f.restResources.stopExploring(b,
function(b){f.cachedData.page.infoBar.exploreAs="";f.infoBar.stopExploring()},function(){})},globalRefreshRequired:q,refreshGlobalData:function(b,g){void 0===f.cachedData.page.globalSocialSummary&&(q=!0);q||!0===g?f.restResources.globalSocialSummary(function(g){f.cachedData.page.globalSocialSummary=g;f.common.globalRefreshRequired=!1;b(g)},function(){}):b(f.cachedData.page.globalSocialSummary)},userRefreshRequired:H,refreshUserData:I,sortByName:function(b){return b.sort(v("name",!0))},sortArrayOfObjects:v,
sortTable:function(f,g){var q=b(f).find(g).get();q.sort(function(f,g){var n=b(f).children("td").eq(0).text().toUpperCase(),q=b(g).children("td").eq(0).text().toUpperCase();return n<q?-1:n>q?1:0});b.each(q,function(g,n){b(f).children("tbody").append(n)})},isUserMember:function(g){var n=!1;b.each(f.cachedData.page.infoBar.myTribes,function(b,f){f.name===g&&(n=!0)});return n},formatMoney:function(b,f){f||(f="$");return void 0===b||null===b?f+"0":f+b.toFixed(2).replace(/./g,function(b,f,g){return!f||
"."===b||(g.length-f)%3?b:","+b})}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.tribeVisionPane=function(b,f){function I(e){var k=b(".evergage-tribes.tribe-vision-pane");b(".evergage-tribes.info-bar .open-tribe-vision").removeClass("closed");b(".evergage-tribes.info-bar .open-tribe-vision").addClass("opened");f.tribeHistoryPane.close();0<k.length?J():f.common.refreshUserData(function(){var f=g();b(".evergage-tribes.info-bar").before(ka(f));H();b(".evergage-tribes.tribe-vision-pane .tribe-pane").animate({bottom:"0px"},
{queue:!1});"function"===typeof e&&e()})}function g(){return{user:f.cachedData.page.infoBar,global:f.cachedData.page.globalSocialSummary}}function J(){var e=b(".evergage-tribes.tribe-vision-pane");b(".evergage-tribes.info-bar .open-tribe-vision").addClass("closed");b(".evergage-tribes.info-bar .open-tribe-vision").removeClass("opened");e.find(".tribe-pane").animate({bottom:"-400px"},{complete:function(){e.remove();b(document).off("click.evergageTribes.vision")},queue:!1})}function v(){b(".evergage-tribes.tribe-vision-pane .best-matches-content").html(p(g()))}
function H(){var e=b(".evergage-tribes.tribe-vision-pane .tribe-pane"),f=n(),k=f.find(".open-search-tab"),g=f.find(".tribe-search"),m=f.find(".open-create-tab"),p=f.find(".tribe-create"),f=f.find(".view-all");b(document).on("click.evergageTribes.vision",function(f){e.is(f.target)||0!==e.has(f.target).length||b(f.target).hasClass("no-close")||J()});m.click(function(){m.addClass("active");k.removeClass("active");g.hide();var b=n().find(".tribe-create");b.find("form").show();b.find(".complete-message").hide();
b.show()});k.click(function(){k.addClass("active");m.removeClass("active");p.hide();g.show()});f.click(function(){var e=b(this).data("view-all");O(e)});g.find(".button.search").click(function(){var b=g.find("input.search-box").val();O("search",b)});g.find("input.search-box").keypress(function(b){13===b.which&&(b.preventDefault(),b=g.find("input.search-box").val(),O("search",b))});p.find("a.button.save").click(function(){var b=n().find(".tribe-create");b.find("error").html("");var e=b.find("input.name").val();
e.match(/^[0-9a-zA-Z]+$/)?void 0===e||""===e?q("Please enter a tribe name."):(b.find("form").hide(),b.find(".complete-message").show(),b=n().find(".tribe-create"),b.find(".error").html(""),b.find("input.name").val(""),b.find("textarea.description").val("")):q("A tribe name must be letters or numbers only.")});t()}function q(b){var e=n().find(".tribe-create");e.find(".error").html(b);e.find(".error").show()}function t(){var e=n().find(".open-tribe-detail");e.unbind("click");e.click(function(){var e=
b(this).data("tribe-id");R(e)})}function n(){return b(".evergage-tribes.tribe-vision-pane .inner-pane.vision-pane")}function A(e){var f=b(".evergage-tribes.tribe-vision-pane .tribe-pane .header");qa.push(f.html());f.html(e);f.find(".slide-out").click(function(){F()})}function Q(){var e=b(".evergage-tribes.tribe-vision-pane .tribe-pane .header"),f=qa.pop();e.html(f);e.find(".slide-out").click(function(){F()})}function K(e){var f=b(".evergage-tribes.tribe-vision-pane .tribe-pane-wrapper"),k=b(".evergage-tribes.tribe-vision-pane .tribe-pane").width();
f.append(e);f.animate({left:"-\x3d"+k})}function F(e){var f=b(".evergage-tribes.tribe-vision-pane .tribe-pane-wrapper"),k=b(".evergage-tribes.tribe-vision-pane .tribe-pane").width(),g=f.find(".inner-pane").last();f.animate({left:"+\x3d"+k},function(){g.remove();"function"===typeof e&&e()});Q()}function O(k,g){var n=B(k,g),p=e(k,g);K(da(n,p));A('\x3ca class\x3d"slide-out no-close"\x3e\x3ci class\x3d"no-close fa fa-caret-left"\x3e\x3c/i\x3e '+p.header+"\x3c/a\x3e");var m=b(".evergage-tribes.tribe-vision-pane .view-all-pane"),
n=m.find(".open-tribe-detail"),p=m.find(".leave-tribe"),m=m.find(".join-tribe");n.click(function(){var e=b(this).data("tribe-id");R(e)});p.click(function(e){e.stopPropagation();e=b(this).data("tribe-id");f.common.leaveTribe(e)});m.click(function(e){e.stopPropagation();e=b(this).data("tribe-id");f.common.joinTribe(e)})}function B(e,g){var n=[];"search"===e?b.each(f.cachedData.page.globalSocialSummary.allTribes,function(b,e){e.name&&-1<e.name.toLowerCase().indexOf(g)&&n.push(e)}):n="myTribes"===e?f.cachedData.page.infoBar.myTribes:
"myPeople"===e?f.cachedData.page.infoBar.myPeople:"bestMatches"===e?k(f.cachedData.page.infoBar.bestMatches):"trendingNow"===e?k(f.cachedData.page.globalSocialSummary.trendingNow):f.cachedData.page.globalSocialSummary.allTribes;for(var p=n.length-1;0<=p;p--)0===n[p].name.indexOf("@")&&n.splice(p,1);return n}function k(e){var k=[];b.each(f.cachedData.page.globalSocialSummary.allTribes,function(b,f){0<=ajq.inArray(f.name,e)&&k.push(f)});b.each(f.cachedData.page.globalSocialSummary.allPeople,function(b,
f){0<=ajq.inArray(f.name,e)&&k.push(f)});var g=f.common.sortArrayOfObjects("name",!0,function(e){var f="string"===b.type(e)&&0<e.length?e.charAt(0):"";return"@"===f||"#"===f?e.substring(1):e});return k.sort(g)}function e(b,e){var f={header:"Results",countHeaderTitle:"In Group",joinOrFollowHeader:"Join/Leave"};switch(b){case "myTribes":f.header="All My Tribes";break;case "myPeople":f.header="All My People";f.countHeaderTitle="Followers";f.joinOrFollowHeader="Follow / Unfollow";break;case "bestMatches":f.header=
"Best Matches";break;case "trendingNow":f.header="Trending Now";f.countHeaderTitle="In Group / Followers";f.joinOrFollowHeader="Join / Follow";break;case "search":f.header="Search for "+e,f.countHeaderTitle="In Group / Followers",f.joinOrFollowHeader="Join / Follow"}return f}function da(b,e){var f;f=""+('\x3cdiv class\x3d"inner-pane view-all-pane"\x3e   \x3ctable class\x3d"my-list"\x3e       \x3ctr\x3e           \x3cth\x3eTribe Name\x3c/th\x3e           \x3cth\x3e'+e.countHeaderTitle+"\x3c/th\x3e           \x3cth\x3e"+
e.joinOrFollowHeader+"\x3c/th\x3e       \x3c/tr\x3e");for(var k=b.length,g=0;g<k;g++){var n=b[g];f+='\x3ctr class\x3d"clickable open-tribe-detail" data-tribe-id\x3d"'+n.name+'"\x3e   \x3ctd\x3e'+n.name+"\x3c/td\x3e   \x3ctd\x3e"+(n.inGroup||n.followers)+"\x3c/td\x3e   \x3ctd\x3e";var p='\x3ci class\x3d"fa fa-times leave-tribe clickable" data-tribe-id\x3d"'+n.name+'"\x3e\x3c/i\x3e',q='\x3ci class\x3d"fa fa-plus join-tribe clickable" data-tribe-id\x3d"'+n.name+'"\x3e\x3c/i\x3e';f+=n.isMember?p:q;f+=
"\x3c/td\x3e\x3c/tr\x3e"}return f+"   \x3c/table\x3e\x3c/div\x3e"}function R(b){f.restResources.tribeDetail(b,function(e){e.name=b;e.isMember=f.common.isUserMember(b);G(e)},function(){})}function G(e){K(ia(e));A('\x3ca class\x3d"slide-out no-close"\x3e\x3ci class\x3d"no-close fa fa-caret-left"\x3e\x3c/i\x3e '+e.name+"\x3c/a\x3e");var k=b(".evergage-tribes.tribe-vision-pane .detail-pane"),g=k.find(".buying-product"),n=k.find(".carousel-contents"),m=k.find(".next-arrow .fa"),p=k.find(".prev-arrow .fa"),
q=k.find(".start-shopping-as"),t=k.find(".leave-tribe"),k=k.find(".join-tribe"),v=!0;g.each(function(){for(var f=b(this).data("product-id"),k=e.buying.length,g=0;g<k;g++){var l=e.buying[g];if(f.toString()===l.id){b(this).find(".product-img").css("background-image","url("+l.imageUrl+")");break}}});p.click(function(){if(v){v=!1;setTimeout(function(){v=!0},420);var b=n.find(".buying-product").last(),e=b.clone().css("margin-left","-168px");n.prepend(e);e.animate({marginLeft:"0px"},function(){b.remove()})}});
m.click(function(){if(v){v=!1;setTimeout(function(){v=!0},420);var b=n.find(".buying-product").first(),e=b.clone();n.append(e);b.animate({marginLeft:"-168px"},function(){b.remove()})}});q.click(function(){f.common.startExploring(e.name);f.tribeVisionPane.close()});t.click(function(){var e=b(this).data("tribe-id");f.common.leaveTribe(e)});k.click(function(){var e=b(this).data("tribe-id");f.common.joinTribe(e)})}function ia(b){var e;e=""+('\x3cdiv class\x3d"inner-pane detail-pane" data-tribe-id\x3d"'+
b.name+'"\x3e   \x3cdiv class\x3d"row clearfix"\x3e');e=null!=b.description?e+('       \x3cdiv class\x3d"left description"\x3e           '+b.description+'       \x3c/div\x3e       \x3cdiv class\x3d"left buttons"\x3e'):e+'       \x3cdiv class\x3d"left buttons null-description"\x3e';if(-1!=b.name.indexOf("#")){var f='\x3ca class\x3d"button join-tribe" data-tribe-id\x3d"'+b.name+'"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e',k='\x3ca class\x3d"button leave-tribe" data-tribe-id\x3d"'+
b.name+'"\x3e\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e';e+=b.isMember?k:f}e+='       \x3c/div\x3e   \x3c/div\x3e   \x3cdiv class\x3d"row were-buying clearfix"\x3e       \x3ch3\x3eWe\'re interested in\x3c/h3\x3e       \x3cdiv class\x3d"buying-carousel clearfix"\x3e           \x3cdiv class\x3d"carousel-arrow prev-arrow left"\x3e\x3ci class\x3d"fa fa-caret-left"\x3e\x3c/i\x3e\x3c/div\x3e           \x3cdiv class\x3d"carousel-wrapper"\x3e               \x3cdiv class\x3d"carousel-contents clearfix"\x3e';
f=b.buying.length;for(k=0;k<f;k++){var g=b.buying[k];e+='\x3cdiv class\x3d"buying-product" data-product-id\x3d"'+g.id+'"\x3e   \x3ca href\x3d"'+g.url+'"\x3e\x3cdiv class\x3d"product-img"\x3e\x3c/div\x3e\x3c/a\x3e   \x3ca href\x3d"'+g.url+'"\x3e       \x3cdiv class\x3d"productLevelBar"\x3e           \x3cdiv class\x3d"productFillEvergageLogo"\x3e\x3c/div\x3e           \x3cdiv class\x3d"productLevelFill" style\x3d"width: '+g.score+'%;"\x3e\x3c/div\x3e       \x3c/div\x3e   \x3c/a\x3e   \x3ca href\x3d"'+
g.url+'"\x3e\x3cspan class\x3d"product-title"\x3e'+g.name+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e"}return e+'               \x3c/div\x3e           \x3c/div\x3e           \x3cdiv class\x3d"carousel-arrow next-arrow right"\x3e\x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e\x3c/div\x3e       \x3c/div\x3e   \x3c/div\x3e   \x3cdiv class\x3d"social-icon-container "\x3e       \x3cdiv class\x3d"social-icon share-email clickable"\x3e           \x3ci class\x3d"fa fa-envelope"\x3e\x3c/i\x3e       \x3c/div\x3e       \x3cdiv class\x3d"social-icon share-facebook clickable"\x3e           \x3ci class\x3d"fa fa-facebook-square"\x3e\x3c/i\x3e       \x3c/div\x3e       \x3cdiv class\x3d"social-icon share-pinterest clickable"\x3e           \x3ci class\x3d"fa fa-pinterest-square"\x3e\x3c/i\x3e       \x3c/div\x3e       \x3cdiv class\x3d"social-icon share-twitter clickable"\x3e           \x3ci class\x3d"fa fa-twitter-square"\x3e\x3c/i\x3e       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e'}
function ka(b){for(var e=b.user.myTribes,f=b.user.myPeople,k=e.length-1;0<=k;k--)0===e[k].name.indexOf("@")&&(f.push(e[k]),e.splice(k,1));e=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate tribe-vision-pane" data-evergage-tribes\x3d"tribeVisionPane"\x3e    \x3cdiv class\x3d"tribe-pane-container"\x3e       \x3cdiv class\x3d"tribe-pane"\x3e           \x3cdiv class\x3d"header"\x3eMY TRIBES\x3c/div\x3e           \x3cdiv class\x3d"tribe-pane-wrapper clearfix"\x3e               \x3cdiv class\x3d"inner-pane vision-pane"\x3e                   \x3cdiv class\x3d"my-vision left"\x3e                       \x3cdiv class\x3d"pane-content"\x3e'+
ma(b)+'                           \x3ctable class\x3d"my-list my-people-list"\x3e                               \x3ctr\x3e                                   \x3cth class\x3d"section-header"\x3eMy People\x3c/th\x3e                                   \x3cth class\x3d"align-right"\x3eFollowers\x3c/th\x3e                               \x3c/tr\x3e');f=b.user.myPeople.length;for(k=0;k<f&&5>k;k++)var g=b.user.myPeople[k],e=e+("                       \x3ctr\x3e                               \x3ctd\x3e"+g.name+
'\x3c/td\x3e                               \x3ctd class\x3d"align-right"\x3e'+g.followers+"\x3c/td\x3e                           \x3c/tr\x3e");e+='                           \x3c/table\x3e                       \x3c/div\x3e                   \x3c/div\x3e                   \x3cdiv class\x3d"search-create left"\x3e                       \x3cdiv class\x3d"tabbed-header"\x3e                           \x3cdiv class\x3d"tab active clickable open-search-tab"\x3e                               \x3cdiv class\x3d"top-border"\x3e\x3c/div\x3e                               Search                           \x3c/div\x3e                           \x3cdiv class\x3d"tab clickable open-create-tab"\x3e                               \x3cdiv class\x3d"top-border"\x3e\x3c/div\x3e                               Create                           \x3c/div\x3e                       \x3c/div\x3e                       \x3cdiv class\x3d"pane-content"\x3e                           \x3cdiv class\x3d"tribe-search"\x3e                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                   \x3cform\x3e                                       \x3cdiv class\x3d"section-header"\x3eFind a Tribe\x3c/div\x3e                                       \x3cinput class\x3d"search-box" placeholder\x3d"Enter Keyword" type\x3d"text" /\x3e                                       \x3ca class\x3d"button search"\x3eSEARCH\x3c/a\x3e                                   \x3c/form\x3e                               \x3c/div\x3e                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                   \x3cdiv class\x3d"clearfix best-matches-content"\x3e'+
p(b)+"                                   \x3c/div\x3e                               \x3c/div\x3e";e+='                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                   \x3cdiv class\x3d"clearfix"\x3e                                       \x3cdiv class\x3d"section-header left"\x3eTrending Now\x3c/div\x3e';f=b.global.trendingNow.length;6<f&&(e+='                                   \x3cspan class\x3d"colored"\x3e                                       \x3ca class\x3d"view-all right" href\x3d"javascript:;" data-view-all\x3d"trendingNow"\x3e                                           View All                                            \x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e                                       \x3c/a\x3e                                   \x3c/span\x3e');
e+="                               \x3c/div\x3e";for(k=0;k<f&&6>k;k++)g=b.global.trendingNow[k],e=0!==g.indexOf("#")?e+('                           \x3cdiv class\x3d"left two-col-item"\x3e   '+g+"                           \x3c/div\x3e"):e+('                           \x3cdiv class\x3d"left two-col-item clickable open-tribe-detail" data-tribe-id\x3d"'+g+'"\x3e   '+g+"                               \x3c/div\x3e");return e+'                               \x3c/div\x3e                           \x3c/div\x3e                           \x3cdiv class\x3d"tribe-create"\x3e                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                  \x3cform\x3e                                       \x3cdiv class\x3d"section-header"\x3eCreate a Tribe\x3c/div\x3e                                       \x3cdiv class\x3d"label left"\x3e#\x3c/div\x3e                                        \x3cinput class\x3d"name" placeholder\x3d"Name" type\x3d"text" /\x3e                                       \x3ctextarea class\x3d"description" placeholder\x3d"Description" rows\x3d"10" maxlength\x3d"10000" /\x3e                                       \x3cdiv class\x3d"error" style\x3d"display: none;"\x3e\x3c/div\x3e                                       \x3ca class\x3d"button save right"\x3eSubmit\x3c/a\x3e                                  \x3c/form\x3e                                  \x3cdiv class\x3d"complete-message section-header" style\x3d"display: none;"\x3e                                       Thanks for submitting your new tribe for approval.                                  \x3c/div\x3e                               \x3c/div\x3e                           \x3c/div\x3e                       \x3c/div\x3e                   \x3c/div\x3e               \x3c/div\x3e           \x3c/div\x3e       \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e'}
function ma(b){var e=b.user.myTribes.length,k='                           \x3ctable class\x3d"my-list my-tribes-list"\x3e                               \x3cthead\x3e                               \x3ctr\x3e                                   \x3cth class\x3d"section-header"\x3eMy Tribes\x3c/th\x3e                                   \x3cth class\x3d"align-right"\x3e'+(1>e?"":"In Group")+"\x3c/th\x3e                               \x3c/tr\x3e                               \x3c/thead\x3e";if(1>e)k+='                           \x3ctr class\x3d"open-tribe-detail"\x3e                               \x3ctd colspan\x3d"3"\x3eNo current tribes\x3c/td\x3e                           \x3c/tr\x3e';
else{k+="                           \x3ctbody\x3e";b=f.common.sortByName(b.user.myTribes);for(var g=0;g<e&&5>g;g++)k+=T(b[g]);k+="                           \x3c/tbody\x3e"}k+="                               \x3ctfoot\x3e                                   \x3ctr\x3e                                       \x3ctd\x3e\x3c/td\x3e";5<e&&(k+='                                   \x3ctd class\x3d"align-right colored"\x3e                                       \x3ca class\x3d"view-all" href\x3d"javascript:;" data-view-all\x3d"myTribes"\x3e                                           View All \x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e                                       \x3c/a\x3e                                   \x3c/td\x3e');
return k+"                                   \x3c/tr\x3e                               \x3c/tfoot\x3e                           \x3c/table\x3e"}function p(e){var f=[],k=b.map(e.user.myTribes,function(b,e){return[b.name]});b.each(e.user.bestMatches,function(e,g){0>b.inArray(g,k)&&f.push(g)});var g=f.length,m='                                \x3cdiv class\x3d"clearfix"\x3e                                    \x3cdiv class\x3d"section-header left"\x3eBest Matches\x3c/div\x3e';6<g&&(m+='                                   \x3cspan class\x3d"colored"\x3e                                       \x3ca class\x3d"view-all right" href\x3d"javascript:;" data-view-all\x3d"bestMatches"\x3e                                           View All                                            \x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e                                       \x3c/a\x3e                                   \x3c/span\x3e');
m+="                               \x3c/div\x3e";if(0===g)m=0===e.user.bestMatches.length?m+"No current best matches.":m+"You are have joined all best matches.";else for(e=0;e<g&&6>e;e++)var n=f[e],m=m+('                               \x3cdiv class\x3d"left two-col-item clickable open-tribe-detail" data-tribe-id\x3d"'+n+'"\x3e                                   '+n+"                               \x3c/div\x3e");return m+"                               \x3c/div\x3e"}function T(b){return'\x3ctr class\x3d"open-tribe-detail clickable" data-tribe-id\x3d"'+
b.name+'"\x3e   \x3ctd\x3e'+b.name+'\x3c/td\x3e   \x3ctd class\x3d"align-right"\x3e'+b.inGroup+"\x3c/td\x3e\x3c/tr\x3e"}var qa=[];return{open:I,close:J,getMyTribesRowHtml:T,setEventHandlersTribeLink:t,openToDetailPane:function(e){var f=b(".evergage-tribes.tribe-vision-pane"),k=f.find(".detail-pane"),g=f.find(".view-all-pane"),m=R.bind(void 0,e);k.length&&k.data("tribe-id")===e||(0===f.length?I(m):g.length&&k.length?(e=F.bind(void 0,m),F(e)):g.length||k.length?F(m):R(e))},joinTribe:function(e){var k=
b(".evergage-tribes.tribe-vision-pane .view-all-pane .my-list"),n=b('.evergage-tribes.tribe-vision-pane .detail-pane[data-tribe-id\x3d"'+e+'"]');k.find('tr[data-tribe-id\x3d"'+e+'"] .join-tribe').replaceWith('\x3ci class\x3d"fa fa-times leave-tribe clickable no-close" data-tribe-id\x3d"'+e+'"\x3e\x3c/i\x3e');n.find(".join-tribe").replaceWith('\x3ca class\x3d"button leave-tribe no-close" data-tribe-id\x3d"'+e+'"\x3e\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e');v();
b(".evergage-tribes.tribe-vision-pane table.my-tribes-list").replaceWith(ma(g()));t();e=b(".evergage-tribes.tribe-vision-pane .leave-tribe");e.off("click");e.click(function(e){e.stopPropagation();e=b(this).data("tribe-id");f.common.leaveTribe(e)})},leaveTribe:function(e){var k=b('.evergage-tribes.tribe-vision-pane .vision-pane .my-people-list [data-tribe-id\x3d"'+e+'"]'),n=b('.evergage-tribes.tribe-vision-pane .view-all-pane [data-tribe-id\x3d"'+e+'"]'),p=b('.evergage-tribes.tribe-vision-pane .detail-pane[data-tribe-id\x3d"'+
e+'"]');k.remove();n.find(".leave-tribe").replaceWith('\x3ci class\x3d"fa fa-plus join-tribe clickable no-close" data-tribe-id\x3d"'+e+'"\x3e\x3c/i\x3e');p.find(".leave-tribe").replaceWith('\x3ca class\x3d"button join-tribe no-close" data-tribe-id\x3d"'+e+'"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e');b(".evergage-tribes.tribe-vision-pane table.my-tribes-list").replaceWith(ma(g()));v();t();e=b(".evergage-tribes.tribe-vision-pane .join-tribe");e.off("click");e.click(function(e){e.stopPropagation();
e=b(this).data("tribe-id");f.common.joinTribe(e)})}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.tribeHistoryPane=function(b,f){function I(){var e=b(".evergage-tribes.tribe-history-pane"),k=e.hasClass("evg-smart-history-only");b(".evergage-tribes.info-bar .open-tribe-history").removeClass("opened");b(".evergage-tribes.info-bar .open-tribe-history").addClass("closed");b(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").removeClass("opened");b(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").addClass("closed");
k&&f.smartHistoryTab.close();k={bottom:"-"+evergageTribes.determineTotalHeightToAnimate()+"px"};"top-right"===G?k={right:"-"+evergageTribes.determineTotalWidthToAnimate()+"px"}:"top-left"===G&&(k={left:"-"+evergageTribes.determineTotalWidthToAnimate()+"px"});e.find(".tribe-pane").stop().animate(k,{complete:function(){e.remove();b(document).off("click.evergageTribes.history")},queue:!1});null!=M&&Evergage.trackAction(M)}function g(e,k,g){k?(b(".evergage-tribes .evg-smart-history-tab-container").after(O(e)),
b(".evergage-tribes.tribe-history-pane").addClass("evg-smart-history-only")):b(".evergage-tribes.info-bar").before(O(e));J(k);!0!==g&&(e={bottom:"-0px"},"top-right"===G?e={right:"0px"}:"top-left"===G&&(e={left:"0px"}),b(".evergage-tribes.tribe-history-pane .tribe-pane").stop().animate(e,{queue:!1}),k&&f.smartHistoryTab.open());v(k)}function J(e){var k=b(".evergage-tribes.tribe-history-pane .tribe-pane");b(document).on("click.evergageTribes.history",function(e){k.is(e.target)||0!==k.has(e.target).length||
b(e.target).hasClass("no-close-history")||I()});var g=K();g.find(".clear-history-link").click(function(){f.restResources.clearHistory(function(){null!=ra&&Evergage.trackAction(ra);g.find(".history-items-list").empty();F()},function(){})});g.find(".history-filter-type li").click(function(){g.find(".history-filter-type li").removeClass("selected");b(this).addClass("selected");g.find(".history-items-list").empty();v(e);"purchased"===b(this).attr("data-history-filter-type")&&null!=m&&Evergage.trackAction(m);
"interest"===b(this).attr("data-history-filter-type")&&null!=C&&Evergage.trackAction(C)});g.find(".history-items .smart-sort span").click(function(){R=!R;g.find(".history-items .smart-sort span").toggleClass("selected");g.find(".history-items-list").empty();v(e);!0===R&&null!=fa&&Evergage.trackAction(fa);!0!==R&&null!=na&&Evergage.trackAction(na)});b(".evergage-tribes.tribe-history-pane .history-items").on("mousewheel DOMMouseScroll",function(b){var e=0<(b.originalEvent.wheelDelta||-b.originalEvent.detail)?
"up":"down";("up"==e&&0==this.scrollTop||"down"==e&&this.scrollTop==this.scrollHeight-this.offsetHeight)&&b.preventDefault()})}function v(b){var e=H();if(!ia)if("purchased"===e.historyType){if(!T)return F()}else if(!p)return F();var k=null;ia||"purchased"!==e.historyType||(k=N);ia||"purchased"===e.historyType||(k=qa);f.restResources.userHistory(e.historyType,e.smartSort,function(f){if("object"===typeof f){var g=[],m=null;"number"===typeof f.length?g=f:(m=f.numberOfItemsIfLoggedIn,"object"===typeof f.items&&
"number"===typeof f.items.length&&(g=f.items));"purchased"!==e.historyType||ia||T||(g=[]);"purchased"===e.historyType||ia||p||(g=[]);e.smartSort?t(q(g),b,k,m):n(q(g),b,k,m);if(null!=Y)try{Y.apply(this,[e.smartSort])}catch(v){Evergage.sendException(v,"smartHistoryRenderItemsCallback")}null!=D&&K().find(".history-list-item .detail .name a, .history-list-item .left a").click(function(){Evergage.trackAction(D,{},!0,!1)});null!=X&&K().find(".history-list-item .detail .name a, .history-list-item .left a").click(function(b){try{X.apply(this,
[b])}catch(e){Evergage.sendException(e,"trackSmartHistoryItemViewCallback")}})}},function(){},k,da)}function H(){var b=K(),e=b.find(".history-filter-type li.selected"),b="true"===(b.find(".smart-sort span.selected").attr("data-smart-sort")||"true");return{historyType:e.attr("data-history-filter-type")||"interest",smartSort:b}}function q(e){var f=[];b.each(e,function(b,e){void 0!==e.name&&null!==e.name&&f.push(e)});return f}function t(f,g,m,n){if(f&&0===f.length)F();else{var p=Q(f),q="",q=q+"\x3ch3\x3e\x26nbsp;\x3c/h3\x3e";
0<f.length?b.each(p,function(b,e){q+=B(e,g)}):q+=k();q+=e(m,n);f=K();f.find(".smart-sort").css("visibility","visible");f.find(".history-items").css({backgroundImage:"none"});f.find(".history-items-list").html(q)}}function n(f,g,m,n){if(f&&0===f.length)F();else{f=A(f);var p=(new Date).getTime(),q={LT24Hours:[],LTEQ30days:[],GT30Days:[]},t={LT24Hours:"TODAY",LTEQ30days:"Last 30 days",GT30Days:"Over 30 Days"};b.each(f,function(b,d){var e=p-d.timestamp;864E5>e?q.LT24Hours.push(d):2592E6>=e?q.LTEQ30days.push(d):
2592E6<e&&q.GT30Days.push(d)});var v="";b.each(Object.keys(q),function(e,d){v+="\x3ch3\x3e"+t[d]+"\x3c/h3\x3e";0<q[d].length?b.each(q[d],function(b,d){v+=B(d,g)}):v+=k()});v+=e(m,n);m=K();m.find(".smart-sort").css("visibility","visible");n=m.find(".history-items-list");m.find(".history-items").css({backgroundImage:"none"});n.html(v)}}function A(b){var e=f.common.sortArrayOfObjects("timestamp",!0,function(b){return b.timestamp});return b.sort(e)}function Q(b){return b.sort(function(b,e){return e.viewCount-
b.viewCount})}function K(){return b(".evergage-tribes.tribe-history-pane .inner-pane.history-pane")}function F(){var e,f=H();e="";e="purchased"===f.historyType?e+'\x3cspan class\x3d"inner-pane-header"\x3eNo recently purchased items.\x3c/span\x3e':e+'\x3cspan class\x3d"inner-pane-header"\x3eView history is empty.\x3c/span\x3e';f.smartSort&&(e+="\x3cbr\x3eSmartSort helps organize your browsing by keeping the products you've shown the most interest in at your fingertips.\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e");
ia||(e+='\x3cspan class\x3d"inner-pane-header"\x3eWhere\'s my stuff?\x3c/span\x3e',e=""!==ma?e+("\x3cbr\x3eLogin to "+ma+" to see your Viewed and Purchased items.\x3cbr\x3e\x3cbr\x3e"):e+"\x3cbr\x3eLogin to see your Viewed and Purchased items.\x3cbr\x3e\x3cbr\x3e",e+='\x3ca class\x3d"evg-smart-history-login-button" href\x3d"'+ka+'"\x3eLogin\x3c/a\x3e');f=K().find(".history-items-list");e=b(k(e));e.addClass("no-results");f.html(e)}function O(b){return b=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate tribe-history-pane" data-evergage-tribes\x3d"tribeHistoryPane"\x3e    \x3cdiv class\x3d"tribe-pane-container"\x3e       \x3cdiv class\x3d"tribe-pane"\x3e           \x3cdiv class\x3d"header clearfix"\x3e               HISTORY           \x3c/div\x3e           \x3cdiv class\x3d"inner-pane history-pane clearfix"\x3e           \x3cdiv class\x3d"smart-history-header"\x3e\x3c/div\x3e               \x3cdiv class\x3d"history-filters left"\x3e                   \x3cdiv class\x3d"pane-content"\x3e                       \x3cul class\x3d"history-filter-type"\x3e                           \x3cli class\x3d"selected clickable" data-history-filter-type\x3d"interest"\x3eViewed\x3ci class\x3d"right fa fa-caret-right"\x3e\x3c/i\x3e\x3c/li\x3e                           \x3cli class\x3d"clickable" data-history-filter-type\x3d"purchased"\x3ePurchased\x3ci class\x3d"right fa fa-caret-right"\x3e\x3c/i\x3e\x3c/li\x3e                       \x3c/ul\x3e                   \x3c/div\x3e                   \x3cdiv class\x3d"evg-history-filter-lower-container"\x3e                       \x3cdiv class\x3d"evg-clear-history-container"\x3e                           \x3ca class\x3d"clear-history-link"\x3eClear All History\x3c/a\x3e                       \x3c/div\x3e                       \x3cdiv class\x3d"evg-powered-by"\x3e                           \x3ca href\x3d"http://www.evergage.com" target\x3d"_blank"\x3e                               \x3cimg src\x3d"//cdn.evergage.com/evergage-content/us/powered_by_evergage.png" /\x3e                           \x3c/a\x3e                       \x3c/div\x3e                   \x3c/div\x3e               \x3c/div\x3e               \x3cdiv class\x3d"history-items left"\x3e                   \x3cdiv class\x3d"right smart-sort"\x3e                       SmartSort                       \x3cspan class\x3d"'+
(R?"":"selected")+'" data-smart-sort\x3d"false"\x3eOff\x3c/span\x3e\x3cspan class\x3d"'+(R?"selected":"")+'" data-smart-sort\x3d"true"\x3eOn\x3c/span\x3e                   \x3c/div\x3e                   \x3cdiv class\x3d"pane-content"\x3e                       \x3cdiv class\x3d"history-items-list"\x3e\x3c/div\x3e                   \x3c/div\x3e               \x3c/div\x3e           \x3c/div\x3e       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e')}function B(b,e){var k,g;e&&(g=f.initData.widgets.smartHistoryTab.currencySymbol);
k=""+('\x3cdiv class\x3d"history-list-item clearfix"\x3e    \x3cdiv class\x3d"left"\x3e\x3ca href\x3d"'+b.url+'"\x3e\x3cimg style\x3d"width:100px;" src\x3d"'+b.imageUrl+'"\x3e\x3c/a\x3e\x3c/div\x3e    \x3cdiv class\x3d"detail"\x3e        \x3cdiv class\x3d"name"\x3e\x3ca class\x3d"product-link" href\x3d"'+b.url+'"\x3e'+b.name+"\x3c/a\x3e\x3c/div\x3e");"Product"==da&&(k+='        \x3cdiv class\x3d"evg-purchase-info"\x3e           \x3cdiv class\x3d"price-container"\x3e\x3cspan class\x3d"our-price"\x3eOur Price: \x3c/span\x3e\x3cspan class\x3d"price"\x3e'+
f.common.formatMoney(b.price,g)+'\x3c/span\x3e\x3c/div\x3e           \x3cdiv class\x3d"evg-add-to-cart"\x3e',e&&(k+=f.initData.widgets.smartHistoryTab.addToCartHtml(b)),k+="           \x3c/div\x3e        \x3c/div\x3e");return k+='        \x3cdiv class\x3d"productLevelBar"\x3e           \x3cdiv class\x3d"productFillEvergageLogo"\x3e\x3c/div\x3e           \x3cdiv class\x3d"productLevelFill" style\x3d"width: '+b.score+'%;"\x3e\x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e'}function k(b){return'\x3cdiv class\x3d"history-list-item clearfix"\x3e'+
(b||"No Results")+"\x3c/div\x3e"}function e(b,e){var f="";"string"===typeof b&&""!==b&&(f+='\x3cdiv class\x3d"history-list-item clearfix more-items-link"\x3e\x3ca href\x3d"'+ka+'" \x3eMore',"number"===typeof e&&0<e&&(f+="("+e+")"),f+=" ...\x3c/a\x3e\x3c/div\x3e");return f}var da="Product",R=!0,G="bottom-left",ia=!0,ka="",ma="",p=!0,T=!0,qa=null,N=null,u=null,M=null,C=null,m=null,fa=null,na=null,ra=null,D=null,X=null,y=null,Y=null;return{open:function(e){"string"===typeof f.initData.widgets.itemType&&
(da=f.initData.widgets.itemType);"function"===typeof f.initData.widgets.smartHistoryTab.isUserLoggedIn&&(ia=f.initData.widgets.smartHistoryTab.isUserLoggedIn());"boolean"===typeof f.initData.widgets.smartHistoryTab.showViewHistoryForAnonymous&&(p=f.initData.widgets.smartHistoryTab.showViewHistoryForAnonymous);"boolean"===typeof f.initData.widgets.smartHistoryTab.showPurchaseHistoryForAnonymous&&(T=f.initData.widgets.smartHistoryTab.showPurchaseHistoryForAnonymous);"string"===typeof f.initData.widgets.smartHistoryTab.showViewHistoryTimeRangeForAnonymous&&
(qa=f.initData.widgets.smartHistoryTab.showViewHistoryTimeRangeForAnonymous);"string"===typeof f.initData.widgets.smartHistoryTab.showPurchaseHistoryTimeRangeForAnonymous&&(N=f.initData.widgets.smartHistoryTab.showPurchaseHistoryTimeRangeForAnonymous);"string"===typeof f.initData.widgets.smartHistoryTab.openActionName&&""!==f.initData.widgets.smartHistoryTab.openActionName&&(u=f.initData.widgets.smartHistoryTab.openActionName);"string"===typeof f.initData.widgets.smartHistoryTab.closeActionName&&
""!==f.initData.widgets.smartHistoryTab.closeActionName&&(M=f.initData.widgets.smartHistoryTab.closeActionName);"string"===typeof f.initData.widgets.smartHistoryTab.viewedTabActionName&&""!==f.initData.widgets.smartHistoryTab.viewedTabActionName&&(C=f.initData.widgets.smartHistoryTab.viewedTabActionName);"string"===typeof f.initData.widgets.smartHistoryTab.purchasedTabActionName&&""!==f.initData.widgets.smartHistoryTab.purchasedTabActionName&&(m=f.initData.widgets.smartHistoryTab.purchasedTabActionName);
"string"===typeof f.initData.widgets.smartHistoryTab.smartSortOnToggleActionName&&""!==f.initData.widgets.smartHistoryTab.smartSortOnToggleActionName&&(fa=f.initData.widgets.smartHistoryTab.smartSortOnToggleActionName);"string"===typeof f.initData.widgets.smartHistoryTab.smartSortOffToggleActionName&&""!==f.initData.widgets.smartHistoryTab.smartSortOffToggleActionName&&(na=f.initData.widgets.smartHistoryTab.smartSortOffToggleActionName);"string"===typeof f.initData.widgets.smartHistoryTab.clearHistoryActionName&&
""!==f.initData.widgets.smartHistoryTab.clearHistoryActionName&&(ra=f.initData.widgets.smartHistoryTab.clearHistoryActionName);"string"===typeof f.initData.widgets.smartHistoryTab.itemViewActionName&&""!==f.initData.widgets.smartHistoryTab.itemViewActionName&&(D=f.initData.widgets.smartHistoryTab.itemViewActionName);"function"===typeof f.initData.widgets.smartHistoryTab.itemViewCallback&&(X=f.initData.widgets.smartHistoryTab.itemViewCallback);"function"===typeof f.initData.widgets.smartHistoryTab.openHistoryCallback&&
(y=f.initData.widgets.smartHistoryTab.openHistoryCallback);"function"===typeof f.initData.widgets.smartHistoryTab.renderItemsCallback&&(Y=f.initData.widgets.smartHistoryTab.renderItemsCallback);!0!==e&&(e=!1);null!=f.initData.widgets.smartHistoryTab.position&&(G=f.initData.widgets.smartHistoryTab.position);null!=f.initData.widgets.smartHistoryTab.loginUrl&&(ka=f.initData.widgets.smartHistoryTab.loginUrl);"string"===typeof f.initData.widgets.smartHistoryTab.companyName&&(ma=f.initData.widgets.smartHistoryTab.companyName);
var k=b(".evergage-tribes.tribe-history-pane");b(".evergage-tribes.info-bar .open-tribe-history").removeClass("closed");b(".evergage-tribes.info-bar .open-tribe-history").addClass("opened");b(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").removeClass("closed");b(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").addClass("opened");f.tribeVisionPane.close();if(k.length)I();else if(g({},e),null!=u&&Evergage.trackAction(u),null!=y)try{y.apply(this)}catch(n){Evergage.sendException(n,
"smartHistoryOpenHistoryCallback")}},close:I,insertPane:g}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.infoBar=function(b,f){function I(g){this.insertBar(this.containerElement,H(g));t(g);g=b(".lowerInfobarContainer");g.find(".open-tribe-vision").click(function(b){b.stopPropagation();f.tribeVisionPane.open()});g.find(".open-tribe-history").click(function(b){b.stopPropagation();f.tribeHistoryPane.open()});g.find(".stop-shopping-as").click(function(b){b.stopPropagation();f.common.stopExploring(f.cachedData.page.infoBar.exploreAs)});
g.find(".inner-tagset .leave-tribe").click(function(g){g.stopPropagation();g=b(this).data("tribe-id");f.common.leaveTribe(g)});g.find(".currentTag").click(function(g){g.stopPropagation();g=b(this).data("tribe-id");f.tribeVisionPane.openToDetailPane(g)});this.open()}function g(){var f=b(this.containerElement).find(".lowerInfobarContainer"),g=b("html");f.stop().animate({bottom:"0px"});g.css({marginBottom:g.css("marginBottom").replace(/[^-\d.]/g,"")+45+"px;"});Evergage.findAndMovePageTopOrBottomElements("bottom",
45)}function J(){var f=b(this.containerElement).find(".lowerInfobarContainer"),g=b("html");f.stop().animate({bottom:"-"+f.height()+"px"});g.css({marginBottom:g.css("marginBottom").replace(/[^-\d.]/g,"")-45+"px;"});Evergage.findAndMovePageTopOrBottomElements("bottom",-45)}function v(g){var q=b(".evergage-tribes.info-bar .inner-tagset");q.find('.currentTag[data-tribe-id\x3d"'+g+'"]').length||(q.prepend('\x3cdiv  class\x3d"currentTag clickable" data-tribe-id\x3d"'+g+'" style\x3d"opacity: 0;"\x3e'+g+
'\x3ci class\x3d"fa fa-times leave-tribe clickable" data-tribe-id\x3d"'+g+'"\x3e\x3c/i\x3e\x3c/div\x3e'),q.find('.currentTag[data-tribe-id\x3d"'+g+'"]').animate({opacity:1}),q.find(".leave-tribe").off("click"),q.find(".leave-tribe").click(function(g){g.stopPropagation();g=b(this).data("tribe-id");f.common.leaveTribe(g)}),q.find(".currentTag").off("click"),q.find(".currentTag").click(function(g){g.stopPropagation();g=b(this).data("tribe-id");f.tribeVisionPane.openToDetailPane(g)}))}function H(b){return function(){var f;
f=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate info-bar" data-evergage-tribes\x3d"infoBar"\x3e   \x3cdiv class\x3d"lowerInfobarContainer"\x3e       \x3cdiv class\x3d"gutters"\x3e           \x3cdiv class\x3d"tribeVisionSummary"\x3e               \x3cdiv class\x3d"topSummary"\x3e                   \x3ca class\x3d"open-tribe-vision closed"\x3e                       My Tribes                        \x3ci class\x3d"fa fa-caret-up"\x3e\x3c/i\x3e                       \x3ci class\x3d"fa fa-caret-down"\x3e\x3c/i\x3e                   \x3c/a\x3e                   \x26nbsp; | \x26nbsp;                    \x3ca class\x3d"open-tribe-history closed"\x3e                       History                       \x3ci class\x3d"fa fa-caret-up"\x3e\x3c/i\x3e                       \x3ci class\x3d"fa fa-caret-down"\x3e\x3c/i\x3e                   \x3c/a\x3e               \x3c/div\x3e               \x3cdiv class\x3d"bottomSummary"\x3e'+
q(b)+"                \x3c/div\x3e            \x3c/div\x3e");f=""!==(b.exploreAs||"")?f+('\x3cdiv class\x3d"infobarTagset"\x3e    \x3cdiv class\x3d"shopping-as" style\x3d"right: 0px;"\x3e   Exploring as:        \x3cdiv class\x3d"currentTag clickable"\x3e            \x3cspan class\x3d"shop-as-name"\x3e'+b.exploreAs+'\x3c/span\x3e            \x3ci class\x3d"stop-shopping-as clickable fa fa-times"\x3e\x3c/i\x3e        \x3c/div\x3e    \x3c/div\x3e   \x3cdiv class\x3d"inner-tagset hidden" style\x3d"right: -400px; opacity: 0;"\x3e\x3c/div\x3e\x3c/div\x3e'):
f+'\x3cdiv class\x3d"infobarTagset"\x3e\x3cdiv class\x3d"inner-tagset"\x3e\x3c/div\x3e\x3c/div\x3e';return f+"       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e"}}function q(b){return b.inCurrentTribes+" in these tribes \x26nbsp; | \x26nbsp; "+b.inCurrentTribesOnline+' online \x3ci class\x3d"fa fa-question-circle"\x3e\x3c/i\x3e'}function t(f){f=f.myTribes;for(var g=f.length,q=0;q<g;q++){var t=f[q],t='\x3cdiv class\x3d"currentTag clickable" data-tribe-id\x3d"'+t.name+'"\x3e   '+t.name+'    \x3ci class\x3d"fa fa-times leave-tribe clickable" data-tribe-id\x3d"'+
t.name+'"\x3e\x3c/i\x3e\x3c/div\x3e';b(".evergage-tribes.info-bar .infobarTagset .inner-tagset").append(t)}}return{create:function(f,q){if("info-bar"===b(f).data("eg-info-bar-placeholder"))return null;b(f).data("eg-info-bar-placeholder","info-bar");return{type:"infoBar",insertBar:q.insertBar,containerElement:f,open:g,close:J,init:I}},joinTribe:v,leaveTribe:function(f){var g=b(".evergage-tribes.info-bar .inner-tagset");b('.evergage-tribes.info-bar .inner-tagset .currentTag[data-tribe-id\x3d"'+f+'"]').animate({opacity:0},
function(){b(this).remove()});g.find(".join-tribe").off("click");g.find(".join-tribe").click(function(f){f.stopPropagation();f=b(this).data("tribe-id");v(f)})},startExploring:function(g){g='\x3cdiv class\x3d"shopping-as" style\x3d"right: 400px; opacity: 0;"\x3eExploring as:    \x3cdiv class\x3d"currentTag clickable"\x3e        \x3cspan class\x3d"shop-as-name"\x3e'+f.cachedData.page.infoBar.exploreAs+'\x3c/span\x3e        \x3ci class\x3d"stop-shopping-as clickable fa fa-times"\x3e\x3c/i\x3e    \x3c/div\x3e\x3c/div\x3e';
var q=b(".evergage-tribes.info-bar"),t=q.find(".infobarTagset"),v=q.find(".inner-tagset"),H=q.find(".shopping-as");H.length?(H.animate({right:"-400px",opacity:"0"},{queue:!1,complete:function(){b(this).remove()}}),t.prepend(g),q.find(".shopping-as").first().animate({right:"0px",opacity:1},{queue:!1})):(t.prepend(g),v.animate({right:"-400px",opacity:0},{queue:!1,complete:function(){v.addClass("hidden")}}),H=q.find(".shopping-as"),H.animate({right:"0px",opacity:1},{queue:!1}));q.find(".stop-shopping-as").click(function(){f.common.stopExploring(f.cachedData.page.infoBar.exploreAs)})},
stopExploring:function(){var f=b(".evergage-tribes.info-bar"),g=f.find(".inner-tagset");f.find(".shopping-as").animate({right:"400px",opacity:"0"},function(){b(this).remove()});g.removeClass("hidden");g.animate({right:"0px",opacity:1},{queue:!1})},renderNewOnlineData:function(f){b(".evergage-tribes.info-bar").find(".bottomSummary").html(q(f))}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.smartHistoryTab=function(b,f){function I(q){this.insert(this.containerElement,g(q));
b(".evg-smart-history-tab").click(function(b){b.stopPropagation();f.tribeHistoryPane.open(!0)})}function g(b){return function(){var b;return b=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate evg-'+v+'" data-evergage-tribes\x3d"smartHistoryTab"\x3e   \x3cdiv class\x3d"evg-smart-history-tab-container"\x3e       \x3cdiv class\x3d"evg-smart-history-tab evg-open-smart-history closed"\x3e           \x3cspan\x3e'+H+'\x3c/span\x3e           \x3ci class\x3d"fa fa-angle-up"\x3e\x3c/i\x3e           \x3ci class\x3d"fa fa-angle-down"\x3e\x3c/i\x3e       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e')}}
var J=!0,v="bottom-left",H="SmartHistory";return{create:function(g,t){var n="smart-history-tab"===b(g).data("eg-smart-history-tab-placeholder");null!=f.initData.widgets.smartHistoryTab.position&&(v=f.initData.widgets.smartHistoryTab.position);null!=f.initData.widgets.smartHistoryTab.tabTitle&&(H=f.initData.widgets.smartHistoryTab.tabTitle);if(n)return null;b(g).data("eg-smart-history-tab-placeholder","smart-history-tab");return{type:"smartHistoryTab",insert:t.insert,containerElement:g,init:I}},open:function(){J&&
(Evergage.trackClickthrough({id:f.initData.associatedMessageId,experienceId:f.initData.associatedExperienceId,previewMode:!1,promotedItemKeys:!1},"opened-smart-history"),J=!1);"top-right"===v?f.initData&&f.initData.customCss&&f.initData.customCss.totalWidth?b(".evg-smart-history-tab").stop().animate({right:f.initData.customCss.totalWidth}):b(".evg-smart-history-tab").stop().animate({right:"495px"}):"top-left"===v?f.initData&&f.initData.customCss&&f.initData.customCss.totalWidth?b(".evg-smart-history-tab").stop().animate({left:f.initData.customCss.totalWidth}):
b(".evg-smart-history-tab").stop().animate({left:"495px"}):f.initData&&f.initData.customCss&&f.initData.customCss.totalHeight?b(".evg-smart-history-tab").stop().animate({bottom:f.initData.customCss.totalHeight}):b(".evg-smart-history-tab").stop().animate({bottom:"400px"})},close:function(){"top-right"===v?b(".evg-smart-history-tab").stop().animate({right:"-70px"}):"top-left"===v?b(".evg-smart-history-tab").stop().animate({left:"-70px"}):b(".evg-smart-history-tab").stop().animate({bottom:"0px"})}}}(ajq,
evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.tribeReviews=function(b,f){function I(J){var v=b(this.productElement);J=J.tribeReviews;this.insertReviews(v,g(J));var H=b(".evergage-tribes.tribe-reviews .tribe-reviews-wrapper");J=H.find(".tribe-review");J.find(".tribeTag").click(function(){event.stopPropagation();var g=b(this).data("tribe-id");f.tribeVisionPane.openToDetailPane(g)});1<J.length&&setInterval(function(){var g=H.find(".tribe-review");H.animate({opacity:0},{duration:1E3,
complete:function(){var t=g.first().remove();H.append(t);t.find(".tribeTag").click(function(){event.stopPropagation();var g=b(this).data("tribe-id");f.tribeVisionPane.openToDetailPane(g)});H.animate({opacity:1},{duration:1E3})}})},8E3)}function g(b){var f;f='\x3cdiv class\x3d"evergage-tribes tribe-reviews eg-cleanslate" data-evergage-tribes\x3d"tribeReviews"\x3e   \x3cdiv class\x3d"tribe-reviews-window clearfix"\x3e       \x3cdiv class\x3d"tribe-reviews-wrapper clearfix"\x3e';for(var g=b.length,q=
0;q<g;q++){var t=b[q],n=new Date(t.review.date);f+='\x3cdiv class\x3d"tribe-review"\x3e   \x3cdiv class\x3d"review-title-bar"\x3e       \x3cspan class\x3d"review-title"\x3e           '+t.review.title+'       \x3c/span\x3e       \x3cspan class\x3d"review-tribe-tags"\x3e';for(var A=t.tribes.length,I=0;I<A;I++){var K=t.tribes[I];f+='\x3cspan class\x3d"tribeTag clickable" data-tribe-id\x3d"'+K+'"\x3e   '+K+"\x3c/span\x3e"}f+='       \x3c/span\x3e   \x3c/div\x3e   \x3cdiv class\x3d"tribe-review-content"\x3e       '+
t.review.content+'   \x3c/div\x3e   \x3cdiv class\x3d"tribe-review-ratings"\x3e       \x3cspan class\x3d"review-rating"\x3e           \x3cspan class\x3d"rating-name"\x3eRating\x3c/span\x3e           \x3cspan class\x3d"rating-stars"\x3e';for(A=0;5>A;A++)f=A<t.review.rating?f+'\x3ci class\x3d"fa fa-star filled"\x3e\x3c/i\x3e':f+'\x3ci class\x3d"fa fa-star"\x3e\x3c/i\x3e';f+='           \x3c/span\x3e       \x3c/span\x3e   \x3c/div\x3e   \x3cdiv class\x3d"tribe-review-meta"\x3e       Review by '+t.review.userDisplayName+
" / (Posted on        "+(n.getMonth()+1)+"/"+n.getDate()+"/"+n.getFullYear()+")   \x3c/div\x3e\x3c/div\x3e"}return f+"       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e"}return{create:function(f,g){var H=g.getProductId(f);if("tribe-reviews"===b(f).data("eg-tribe-reviews-placeholder"))return null;b(f).data("eg-tribe-reviews-placeholder","tribe-reviews");return{type:"tribeReviews",productElement:f,productId:H,insertReviews:g.insertReviews,init:I}}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};
evergageTribes.mostLikedByList=function(b,f){function I(J){var v=b(this.productElement);0!==J.mostLikedByTribes.length&&(this.insertList(v,g(J)),b(".evergage-tribes.most-liked-by-list .tribeTag").each(function(){var f;b(this).hover(function(){clearTimeout(f);b(this).find("#demoCallout").show()},function(){var g=b(this);f=setTimeout(function(){g.find("#demoCallout").hide()},100)})}),b(".evergage-tribes.most-liked-by-list .tribeTag").click(function(g){g.stopPropagation();g=b(this).data("tribe-id");
f.common.joinTribe(g);f.tribeVisionPane.openToDetailPane(g)}),b(".evergage-tribes.most-liked-by-list #demoCallout").click(function(b){b.stopPropagation()}),b(".evergage-tribes.most-liked-by-list .tribeTag .leave-tribe").click(function(){var g=b(this).data("tribe-id");f.common.leaveTribe(g)}),b(".evergage-tribes.most-liked-by-list .tribeTag .join-tribe").click(function(g){g.stopPropagation();var q=b(this).data("tribe-id");f.common.joinTribe(q,function(){f.tribeVisionPane.openToDetailPane(q)})}))}function g(b){var f;
f='\x3cdiv class\x3d"evergage-tribes most-liked-by-list eg-cleanslate" data-evergage-tribes\x3d"mostLikedByList"\x3e    \x3cdiv id\x3d"evergageAdditional" style\x3d"display: inline-block; float: right"\x3e        \x3cspan class\x3d"ltbodytext"\x3eMost Liked By:\x3c/span\x3e';for(var g=b.mostLikedByTribes.length,q=0;q<g;q++){var t=b.mostLikedByTribes[q];f+='\x3cspan class\x3d"tribeTag" data-tribe-id\x3d"'+t.name+'"\x3e   '+t.name+'   \x3cdiv id\x3d"demoCallout" class\x3d"callout border-callout" style\x3d"display: none;"\x3e       \x3cdiv class\x3d"heading"\x3e'+
t.name+' Tribe\x3c/div\x3e       \x3cdiv class\x3d"stats"\x3e';40<t.score&&(f=70<t.score?f+'\x3cdiv\x3e\x3cspan class\x3d"fa fa-users icon"\x3e\x26#58912;\x3c/span\x3e Very Popular\x3c/div\x3e':f+'\x3cdiv\x3e\x3cspan class\x3d"fa fa-users icon"\x3e\x26#58912;\x3c/span\x3e Popular\x3c/div\x3e');0<t.view&&(f+='\x3cdiv\x3e\x3cspan class\x3d"fa fa-eye icon"\x3e\x26#58918;\x3c/span\x3e '+t.view+" Viewed Recently\x3c/div\x3e");0<t.purchase&&(f+='\x3cdiv\x3e\x3cspan class\x3d"fa fa-usd icon"\x3e\x26#58881;\x3c/span\x3e '+
t.purchase+" Purchased Recently\x3c/div\x3e");f+='       \x3c/div\x3e       \x3cdiv class\x3d"alsoLiked"\x3eThis tribe also liked:\x3c/div\x3e       \x3cdiv class\x3d"productPictures"\x3e';for(var n=t.alsoLikedItems.length,A=0;A<n;A++){var I=t.alsoLikedItems[A];f+='\x3cdiv class\x3d"thumb"\x3e    \x3cdiv class\x3d"minibar"\x3e        \x3cdiv class\x3d"bar" style\x3d"width: '+I.score+'% ;"\x3e\x3c/div\x3e    \x3c/div\x3e    \x3ca href\x3d"'+I.url+'"\x3e\x3cdiv class\x3d"product-img" style\x3d"'+("background-image: url("+
I.imageUrl+");")+'"\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e'}f+="\x3c/div\x3e";n='\x3ca class\x3d"join-tribe heading no-close" data-tribe-id\x3d"'+t.name+'"\x3e                              \x3ci class\x3d"fa fa-plus no-close"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e';A='\x3ca class\x3d"leave-tribe heading no-close" data-tribe-id\x3d"'+t.name+'" \x3e                             \x3ci class\x3d"fa fa-times no-close"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e';f+=t.userIsMember?A:n;f+='       \x3cb class\x3d"border-notch notch"\x3e\x3c/b\x3e\x3cb class\x3d"notch"\x3e\x3c/b\x3e   \x3c/div\x3e\x3c/span\x3e'}return f+
"    \x3c/div\x3e\x3c/div\x3e"}return{create:function(f,g){var H=g.getProductId(f);if("most-liked-by-list"===b(f).data("eg-most-liked-by-list-placeholder"))return null;b(f).data("eg-most-liked-by-list-placeholder","most-liked-by-list");return{type:"mostLikedByList",productElement:f,productId:H,insertList:g.insertList,init:I}},joinTribe:function(g){b('.evergage-tribes.most-liked-by-list .tribeTag .join-tribe[data-tribe-id\x3d"'+g+'"]').replaceWith('\x3ca class\x3d"leave-tribe heading no-close" data-tribe-id\x3d"'+
g+'"\x3e\x3ci class\x3d"fa fa-times no-close"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e');g=b(".evergage-tribes .tribeTag .leave-tribe");g.off("click");g.click(function(){var g=b(this).data("tribe-id");f.common.leaveTribe(g)})},leaveTribe:function(g){b('.evergage-tribes.most-liked-by-list .tribeTag .leave-tribe[data-tribe-id\x3d"'+g+'"]').replaceWith('\x3ca class\x3d"join-tribe heading no-close" data-tribe-id\x3d"'+g+'"\x3e\x3ci class\x3d"fa fa-plus no-close"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e');
g=b(".evergage-tribes.most-liked-by-list .tribeTag .join-tribe");g.off("click");g.click(function(){var g=b(this).data("tribe-id");f.common.joinTribe(g,function(){f.tribeVisionPane.openToDetailPane(g)})})}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.listLikeBar=function(b,f){function I(f){var H=b(this.productElement),q=0<f.activelyViewing||0<f.popularTribeScores.length;if(!this.isProductDetail||f.score){this.insertBar(H,g(f));q?this.insertOverlay(H,J(f)):q||b(H).find(".productLevelBar, .productLevelFill").css({cursor:"default"});
var q=H.find(".list-like-bar .productLevelBar"),t=H.find(".productLevelFill"),n=H.find(".tribesOverlay"),A=H.find(".tribesOverlayContainer");setTimeout(function(){t.animate({width:f.score+"%"},{queue:!1,duration:1500})},400);q.mouseenter(function(){A.is(":hidden")&&(A.show(),n.stop().animate({top:"0px"}),H.mouseleave(function(){n.stop().animate({top:n.height()},{complete:function(){A.hide()}})}))});q.click(function(){A.is(":visible")?n.stop().animate({top:n.height()+"px"},{complete:function(){A.hide()}}):
(A.show(),n.stop().animate({top:"0px"}),H.mouseleave(function(){n.stop().animate({top:n.height()},{complete:function(){A.hide()}})}))})}}function g(b){return function(){return'\x3cdiv class\x3d"evergage-tribes list-like-bar eg-cleanslate" data-evergage-tribes\x3d"listLikeBar"\x3e    \x3cdiv class\x3d"productLevelBar" data-score\x3d"'+b.score+'"\x3e        \x3cdiv class\x3d"productFillEvergageLogo"\x3e\x3c/div\x3e        \x3cdiv class\x3d"productLevelFill" style\x3d"width: 0%;"\x3e\x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e'}}
function J(f){return function(){var g=b(this),q=g.position(),t=g.height(),g=g.width(),n="fair";80<f.score?n="great":60<f.score&&(n="good");q=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate"\x3e   \x3cdiv class\x3d"tribesOverlayContainer" style\x3d"display: none; width: '+g+"px ; height: "+t+"px ;                   left: "+q.left+"px ; top: "+q.top+'px ;"\x3e       \x3cdiv class\x3d"tribesOverlay" style\x3d"width: '+g+"px ; height: "+t+"px ;                       left: 0px ; top: "+t+'px ;"\x3e           \x3cdiv class\x3d"scoreSummary"\x3e'+
n+" score\x3c/div\x3e");0<f.activelyViewing&&(q+='       \x3cdiv class\x3d"viewingSummary"\x3e'+f.activelyViewing+' actively viewing \x3ci class\x3d"fa fa-users"\x3e\x3c/i\x3e\x3c/div\x3e');t=f.popularTribeScores.length;for(g=0;g<t;g++)n=f.popularTribeScores[g],5<n.score&&(q+='\x3cdiv class\x3d"tribeName"\x3e'+n.name+'\x3c/div\x3e\x3cdiv class\x3d"minibar"\x3e\x3cdiv class\x3d"bar" style\x3d"width: '+n.score+'% ;"\x3e\x3c/div\x3e\x3c/div\x3e');return q+"       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e"}}
return{create:function(f,g){var q=g.getProductId(f);if("list-like-bar"===b(f).data("eg-list-like-bar-placeholder"))return null;b(f).data("eg-list-like-bar-placeholder","list-like-bar");var t=g.isProductDetailBar(f);return{type:"listLikeBar",productElement:f,productId:q,insertBar:g.insertBar,insertOverlay:g.insertOverlay,isProductDetail:t,init:I}}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.infoTicker=function(b,f){function I(f){var q=f.messages,t=b(this.productElement);
0<t.find(".evergage-tribes.info-ticker").length||this.insert(t,g(q));J(t,q);1<q.length&&setInterval(function(){J(t,q)},this.tickerDelayInMs)}function g(b){var f="",f=f+'\x3cdiv class\x3d"evergage-tribes info-ticker eg-cleanslate" \x3e';ajq.each(b,function(g){var n=b[g];g=f;var v;v='\x3cdiv class\x3d"evergage-tribes info-ticker-item" \x3e   '+n.message+' \x3ci class\x3d"fa ';a:switch(n.type){case "activelyViewing":n="fa-users";break a;case "boughtInLastWeek":n="fa-shopping-cart";break a;default:n=
null}v=""+(v+n+'"\x3e\x3c/i\x3e\x3c/div\x3e');f=g+v});return f+="\x3c/div\x3e"}function J(f,g){var t=f.data("infoTickerIndex");void 0===t&&(t=-1);-1<t?b(f.find(".info-ticker-item")[t]).fadeOut("slow",function(){b(f.find(".info-ticker-item")[t]).removeClass("info-ticker-item-show");v(f,g,t)}):v(f,g,t)}function v(f,g,t){t+=1;t>=g.length&&(t=0);f.data("infoTickerIndex",t);f.data("infoTickerUpdateTime",(new Date).getTime());b(f.find(".info-ticker-item")[t]).slideUp().fadeIn()}return{create:function(f,
g){var t=g.getProductId(f);if("info-ticker"===b(f).data("eg-info-ticker-placeholder"))return null;b(f).data("eg-info-ticker-placeholder","info-ticker");return{type:"infoTicker",productElement:f,productId:t,insert:g.insert,tickerDelayInMs:g.tickerDelayInMs,init:I}}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.init=function(b,f){function I(){var g=f.css(f.initData.customCss);b("head").append('\x3clink href\x3d"//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel\x3d"stylesheet"\x3e').append("\x3cstyle\x3e"+
g+"\x3c/style\x3e")}function g(b){v()?f.common.refreshGlobalData(function(f){b()},!0):b()}function J(){var g=[];b.each(f.initData.widgets.includeList,function(b,n){var k=f.initData.widgets[n];k.containers().each(function(){var b=f[n].create(this,k);null!==b&&g.push(b)})});H(g)}function v(){var g=!1;b.each(f.initData.widgets.includeList,function(b,f){if(Q[f].requiresGlobalSummary)return g=!0,!1});return g}function H(b){for(var f={},g=0;g<b.length;g++){var k=b[g],e=k.type,n=Q[e].scope,k="product"===
n?k.productId:k.type;void 0===f[e]&&(f[e]={widgetType:e,cachedIds:[],fetchIds:[]});void 0===K[n][k]||void 0===K[n][k][e]?f[e].fetchIds.push(k):f[e].cachedIds.push(k)}0<Object.keys(f).length&&q(f,b)}function q(f,g){b.each(f,function(b,f){0<f.fetchIds.length?t(f,g):A(f.widgetType,g)})}function t(b,g){var q=b.widgetType;"infoTicker"===q||"listLikeBar"===q||"mostLikedByList"===q||"tribeReviews"===q?f.restResources.itemSummaries(b.fetchIds,function(f){n(b.widgetType,f);A(q,g)},function(){}):"infoBar"===
q?f.restResources.userSocialSummary(function(f){n(b.widgetType,f);A(q,g)},function(){}):"smartHistoryTab"===q&&(n(b.widgetType,{}),A(q,g))}function n(f,g){var n=Q[f].scope;"product"===n?b.each(g,function(b,e){void 0===K.product[e.itemId]&&(K.product[e.itemId]={});K.product[e.itemId][f]=e}):"page"===n&&(void 0===K.page[f]&&(K.page[f]={}),K.page[f]=g)}function A(f,g){b.each(g,function(b,g){var e=g.type;if(f===e){var n=Q[e].scope,q;"product"===n?q=K[n][g.productId][e]:"page"===n&&(q=K[n][e]);q&&g.init(q)}})}
var Q={infoTicker:{scope:"product",requiresGlobalSummary:!1},infoBar:{scope:"page",requiresGlobalSummary:!0},smartHistoryTab:{scope:"page",requiresGlobalSummary:!1},listLikeBar:{scope:"product",requiresGlobalSummary:!1},mostLikedByList:{scope:"product",requiresGlobalSummary:!1},tribeReviews:{scope:"product",requiresGlobalSummary:!1}};window.evergageTribes.cachedData={page:{},product:{}};var K=window.evergageTribes.cachedData;return function(){v()?g(function(){I();J();setInterval(function(){J()},2E3)}):
(I(),J(),setInterval(function(){J()},2E3))}}(ajq,evergageTribes);window.evergageBeaconParseTimeEnd=(new Date).getTime()};